var Ad=e=>{throw TypeError(e)};var ji=(e,t,s)=>t.has(e)||Ad("Cannot "+s);var S=(e,t,s)=>(ji(e,t,"read from private field"),s?s.call(e):t.get(e)),Z=(e,t,s)=>t.has(e)?Ad("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),H=(e,t,s,r)=>(ji(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),le=(e,t,s)=>(ji(e,t,"access private method"),s);var _a=(e,t,s,r)=>({set _(a){H(e,t,a,s)},get _(){return S(e,t,r)}});function nx(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function sx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tm={exports:{}},Yl={},Mm={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ca=Symbol.for("react.element"),rx=Symbol.for("react.portal"),ax=Symbol.for("react.fragment"),lx=Symbol.for("react.strict_mode"),ix=Symbol.for("react.profiler"),ox=Symbol.for("react.provider"),cx=Symbol.for("react.context"),dx=Symbol.for("react.forward_ref"),ux=Symbol.for("react.suspense"),mx=Symbol.for("react.memo"),px=Symbol.for("react.lazy"),Dd=Symbol.iterator;function fx(e){return e===null||typeof e!="object"?null:(e=Dd&&e[Dd]||e["@@iterator"],typeof e=="function"?e:null)}var Lm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_m=Object.assign,qm={};function br(e,t,s){this.props=e,this.context=t,this.refs=qm,this.updater=s||Lm}br.prototype.isReactComponent={};br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bm(){}Bm.prototype=br.prototype;function jc(e,t,s){this.props=e,this.context=t,this.refs=qm,this.updater=s||Lm}var Nc=jc.prototype=new Bm;Nc.constructor=jc;_m(Nc,br.prototype);Nc.isPureReactComponent=!0;var Fd=Array.isArray,Um=Object.prototype.hasOwnProperty,wc={current:null},zm={key:!0,ref:!0,__self:!0,__source:!0};function $m(e,t,s){var r,a={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Um.call(t,r)&&!zm.hasOwnProperty(r)&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:Ca,type:e,key:l,ref:i,props:a,_owner:wc.current}}function hx(e,t){return{$$typeof:Ca,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ca}function xx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Od=/\/+/g;function Ni(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xx(""+e.key):t.toString(36)}function rl(e,t,s,r,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ca:case rx:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+Ni(i,0):r,Fd(a)?(s="",e!=null&&(s=e.replace(Od,"$&/")+"/"),rl(a,t,s,"",function(d){return d})):a!=null&&(Sc(a)&&(a=hx(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Od,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",Fd(e))for(var o=0;o<e.length;o++){l=e[o];var c=r+Ni(l,o);i+=rl(l,t,s,c,a)}else if(c=fx(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=r+Ni(l,o++),i+=rl(l,t,s,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function qa(e,t,s){if(e==null)return e;var r=[],a=0;return rl(e,r,"","",function(l){return t.call(s,l,a++)}),r}function gx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},al={transition:null},yx={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:al,ReactCurrentOwner:wc};function Vm(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:qa,forEach:function(e,t,s){qa(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return qa(e,function(){t++}),t},toArray:function(e){return qa(e,function(t){return t})||[]},only:function(e){if(!Sc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=br;oe.Fragment=ax;oe.Profiler=ix;oe.PureComponent=jc;oe.StrictMode=lx;oe.Suspense=ux;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yx;oe.act=Vm;oe.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_m({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=wc.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Um.call(t,c)&&!zm.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:Ca,type:e.type,key:a,ref:l,props:r,_owner:i}};oe.createContext=function(e){return e={$$typeof:cx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ox,_context:e},e.Consumer=e};oe.createElement=$m;oe.createFactory=function(e){var t=$m.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:dx,render:e}};oe.isValidElement=Sc;oe.lazy=function(e){return{$$typeof:px,_payload:{_status:-1,_result:e},_init:gx}};oe.memo=function(e,t){return{$$typeof:mx,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=al.transition;al.transition={};try{e()}finally{al.transition=t}};oe.unstable_act=Vm;oe.useCallback=function(e,t){return at.current.useCallback(e,t)};oe.useContext=function(e){return at.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return at.current.useDeferredValue(e)};oe.useEffect=function(e,t){return at.current.useEffect(e,t)};oe.useId=function(){return at.current.useId()};oe.useImperativeHandle=function(e,t,s){return at.current.useImperativeHandle(e,t,s)};oe.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return at.current.useMemo(e,t)};oe.useReducer=function(e,t,s){return at.current.useReducer(e,t,s)};oe.useRef=function(e){return at.current.useRef(e)};oe.useState=function(e){return at.current.useState(e)};oe.useSyncExternalStore=function(e,t,s){return at.current.useSyncExternalStore(e,t,s)};oe.useTransition=function(){return at.current.useTransition()};oe.version="18.3.1";Mm.exports=oe;var N=Mm.exports;const Gn=sx(N),vx=nx({__proto__:null,default:Gn},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=N,jx=Symbol.for("react.element"),Nx=Symbol.for("react.fragment"),wx=Object.prototype.hasOwnProperty,Sx=bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kx={key:!0,ref:!0,__self:!0,__source:!0};function Qm(e,t,s){var r,a={},l=null,i=null;s!==void 0&&(l=""+s),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)wx.call(t,r)&&!kx.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:jx,type:e,key:l,ref:i,props:a,_owner:Sx.current}}Yl.Fragment=Nx;Yl.jsx=Qm;Yl.jsxs=Qm;Tm.exports=Yl;var n=Tm.exports,ro={},Km={exports:{}},wt={},Wm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,X){var L=I.length;I.push(X);e:for(;0<L;){var z=L-1>>>1,G=I[z];if(0<a(G,X))I[z]=X,I[L]=G,L=z;else break e}}function s(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var X=I[0],L=I.pop();if(L!==X){I[0]=L;e:for(var z=0,G=I.length,de=G>>>1;z<de;){var fe=2*(z+1)-1,Oe=I[fe],Re=fe+1,q=I[Re];if(0>a(Oe,L))Re<G&&0>a(q,Oe)?(I[z]=q,I[Re]=L,z=Re):(I[z]=Oe,I[fe]=L,z=fe);else if(Re<G&&0>a(q,L))I[z]=q,I[Re]=L,z=Re;else break e}}return X}function a(I,X){var L=I.sortIndex-X.sortIndex;return L!==0?L:I.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],f=1,p=null,m=3,v=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var X=s(d);X!==null;){if(X.callback===null)r(d);else if(X.startTime<=I)r(d),X.sortIndex=X.expirationTime,t(c,X);else break;X=s(d)}}function x(I){if(b=!1,g(I),!y)if(s(c)!==null)y=!0,P(j);else{var X=s(d);X!==null&&K(x,X.startTime-I)}}function j(I,X){y=!1,b&&(b=!1,u(k),k=-1),v=!0;var L=m;try{for(g(X),p=s(c);p!==null&&(!(p.expirationTime>X)||I&&!T());){var z=p.callback;if(typeof z=="function"){p.callback=null,m=p.priorityLevel;var G=z(p.expirationTime<=X);X=e.unstable_now(),typeof G=="function"?p.callback=G:p===s(c)&&r(c),g(X)}else r(c);p=s(c)}if(p!==null)var de=!0;else{var fe=s(d);fe!==null&&K(x,fe.startTime-X),de=!1}return de}finally{p=null,m=L,v=!1}}var R=!1,A=null,k=-1,_=5,E=-1;function T(){return!(e.unstable_now()-E<_)}function F(){if(A!==null){var I=e.unstable_now();E=I;var X=!0;try{X=A(!0,I)}finally{X?U():(R=!1,A=null)}}else R=!1}var U;if(typeof h=="function")U=function(){h(F)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,M=C.port2;C.port1.onmessage=F,U=function(){M.postMessage(null)}}else U=function(){w(F,0)};function P(I){A=I,R||(R=!0,U())}function K(I,X){k=w(function(){I(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,P(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var L=m;m=X;try{return I()}finally{m=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,X){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var L=m;m=I;try{return X()}finally{m=L}},e.unstable_scheduleCallback=function(I,X,L){var z=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?z+L:z):L=z,I){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=L+G,I={id:f++,callback:X,priorityLevel:I,startTime:L,expirationTime:G,sortIndex:-1},L>z?(I.sortIndex=L,t(d,I),s(c)===null&&I===s(d)&&(b?(u(k),k=-1):b=!0,K(x,L-z))):(I.sortIndex=G,t(c,I),y||v||(y=!0,P(j))),I},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(I){var X=m;return function(){var L=m;m=X;try{return I.apply(this,arguments)}finally{m=L}}}})(Hm);Wm.exports=Hm;var Cx=Wm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ex=N,Nt=Cx;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gm=new Set,ta={};function As(e,t){mr(e,t),mr(e+"Capture",t)}function mr(e,t){for(ta[e]=t,e=0;e<t.length;e++)Gm.add(t[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ao=Object.prototype.hasOwnProperty,Px=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Id={},Td={};function Rx(e){return ao.call(Td,e)?!0:ao.call(Id,e)?!1:Px.test(e)?Td[e]=!0:(Id[e]=!0,!1)}function Ax(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dx(e,t,s,r){if(t===null||typeof t>"u"||Ax(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lt(e,t,s,r,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function Cc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kc,Cc);Ke[t]=new lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kc,Cc);Ke[t]=new lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kc,Cc);Ke[t]=new lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new lt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ec(e,t,s,r){var a=Ke.hasOwnProperty(t)?Ke[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dx(t,s,a,r)&&(s=null),r||a===null?Rx(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var yn=Ex.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ba=Symbol.for("react.element"),Ms=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),Pc=Symbol.for("react.strict_mode"),lo=Symbol.for("react.profiler"),Jm=Symbol.for("react.provider"),Ym=Symbol.for("react.context"),Rc=Symbol.for("react.forward_ref"),io=Symbol.for("react.suspense"),oo=Symbol.for("react.suspense_list"),Ac=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Xm=Symbol.for("react.offscreen"),Md=Symbol.iterator;function Ar(e){return e===null||typeof e!="object"?null:(e=Md&&e[Md]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,wi;function Br(e){if(wi===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);wi=t&&t[1]||""}return`
`+wi+e}var Si=!1;function ki(e,t){if(!e||Si)return"";Si=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=r.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Si=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Br(e):""}function Fx(e){switch(e.tag){case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 2:case 15:return e=ki(e.type,!1),e;case 11:return e=ki(e.type.render,!1),e;case 1:return e=ki(e.type,!0),e;default:return""}}function co(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ls:return"Fragment";case Ms:return"Portal";case lo:return"Profiler";case Pc:return"StrictMode";case io:return"Suspense";case oo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ym:return(e.displayName||"Context")+".Consumer";case Jm:return(e._context.displayName||"Context")+".Provider";case Rc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ac:return t=e.displayName||null,t!==null?t:co(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return co(e(t))}catch{}}return null}function Ox(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return co(t);case 8:return t===Pc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ix(e){var t=Zm(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ua(e){e._valueTracker||(e._valueTracker=Ix(e))}function ep(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=Zm(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uo(e,t){var s=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Ld(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=Jn(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tp(e,t){t=t.checked,t!=null&&Ec(e,"checked",t,!1)}function mo(e,t){tp(e,t);var s=Jn(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?po(e,t.type,s):t.hasOwnProperty("defaultValue")&&po(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _d(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function po(e,t,s){(t!=="number"||Nl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Ur=Array.isArray;function Hs(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Jn(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function fo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qd(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error($(92));if(Ur(s)){if(1<s.length)throw Error($(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Jn(s)}}function np(e,t){var s=Jn(t.value),r=Jn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function Bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ho(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var za,rp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function na(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tx=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(e){Tx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kr[t]=Kr[e]})});function ap(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Kr.hasOwnProperty(e)&&Kr[e]?(""+t).trim():t+"px"}function lp(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=ap(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var Mx=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xo(e,t){if(t){if(Mx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function go(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yo=null;function Dc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vo=null,Gs=null,Js=null;function Ud(e){if(e=Ra(e)){if(typeof vo!="function")throw Error($(280));var t=e.stateNode;t&&(t=ni(t),vo(e.stateNode,e.type,t))}}function ip(e){Gs?Js?Js.push(e):Js=[e]:Gs=e}function op(){if(Gs){var e=Gs,t=Js;if(Js=Gs=null,Ud(e),t)for(e=0;e<t.length;e++)Ud(t[e])}}function cp(e,t){return e(t)}function dp(){}var Ci=!1;function up(e,t,s){if(Ci)return e(t,s);Ci=!0;try{return cp(e,t,s)}finally{Ci=!1,(Gs!==null||Js!==null)&&(dp(),op())}}function sa(e,t){var s=e.stateNode;if(s===null)return null;var r=ni(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error($(231,t,typeof s));return s}var bo=!1;if(fn)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){bo=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{bo=!1}function Lx(e,t,s,r,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(f){this.onError(f)}}var Wr=!1,wl=null,Sl=!1,jo=null,_x={onError:function(e){Wr=!0,wl=e}};function qx(e,t,s,r,a,l,i,o,c){Wr=!1,wl=null,Lx.apply(_x,arguments)}function Bx(e,t,s,r,a,l,i,o,c){if(qx.apply(this,arguments),Wr){if(Wr){var d=wl;Wr=!1,wl=null}else throw Error($(198));Sl||(Sl=!0,jo=d)}}function Ds(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function mp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zd(e){if(Ds(e)!==e)throw Error($(188))}function Ux(e){var t=e.alternate;if(!t){if(t=Ds(e),t===null)throw Error($(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===s)return zd(a),e;if(l===r)return zd(a),t;l=l.sibling}throw Error($(188))}if(s.return!==r.return)s=a,r=l;else{for(var i=!1,o=a.child;o;){if(o===s){i=!0,s=a,r=l;break}if(o===r){i=!0,r=a,s=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===s){i=!0,s=l,r=a;break}if(o===r){i=!0,r=l,s=a;break}o=o.sibling}if(!i)throw Error($(189))}}if(s.alternate!==r)throw Error($(190))}if(s.tag!==3)throw Error($(188));return s.stateNode.current===s?e:t}function pp(e){return e=Ux(e),e!==null?fp(e):null}function fp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fp(e);if(t!==null)return t;e=e.sibling}return null}var hp=Nt.unstable_scheduleCallback,$d=Nt.unstable_cancelCallback,zx=Nt.unstable_shouldYield,$x=Nt.unstable_requestPaint,Ae=Nt.unstable_now,Vx=Nt.unstable_getCurrentPriorityLevel,Fc=Nt.unstable_ImmediatePriority,xp=Nt.unstable_UserBlockingPriority,kl=Nt.unstable_NormalPriority,Qx=Nt.unstable_LowPriority,gp=Nt.unstable_IdlePriority,Xl=null,en=null;function Kx(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Xl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Gx,Wx=Math.log,Hx=Math.LN2;function Gx(e){return e>>>=0,e===0?32:31-(Wx(e)/Hx|0)|0}var $a=64,Va=4194304;function zr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cl(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,l=e.pingedLanes,i=s&268435455;if(i!==0){var o=i&~a;o!==0?r=zr(o):(l&=i,l!==0&&(r=zr(l)))}else i=s&~a,i!==0?r=zr(i):l!==0&&(r=zr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Ut(t),a=1<<s,r|=e[s],t&=~a;return r}function Jx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yx(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Ut(l),o=1<<i,c=a[i];c===-1?(!(o&s)||o&r)&&(a[i]=Jx(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function No(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yp(){var e=$a;return $a<<=1,!($a&4194240)&&($a=64),e}function Ei(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Ea(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=s}function Xx(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Ut(s),l=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~l}}function Oc(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Ut(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var he=0;function vp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bp,Ic,jp,Np,wp,wo=!1,Qa=[],qn=null,Bn=null,Un=null,ra=new Map,aa=new Map,kn=[],Zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vd(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":ra.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":aa.delete(t.pointerId)}}function Fr(e,t,s,r,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Ra(t),t!==null&&Ic(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function eg(e,t,s,r,a){switch(t){case"focusin":return qn=Fr(qn,e,t,s,r,a),!0;case"dragenter":return Bn=Fr(Bn,e,t,s,r,a),!0;case"mouseover":return Un=Fr(Un,e,t,s,r,a),!0;case"pointerover":var l=a.pointerId;return ra.set(l,Fr(ra.get(l)||null,e,t,s,r,a)),!0;case"gotpointercapture":return l=a.pointerId,aa.set(l,Fr(aa.get(l)||null,e,t,s,r,a)),!0}return!1}function Sp(e){var t=rs(e.target);if(t!==null){var s=Ds(t);if(s!==null){if(t=s.tag,t===13){if(t=mp(s),t!==null){e.blockedOn=t,wp(e.priority,function(){jp(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=So(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);yo=r,s.target.dispatchEvent(r),yo=null}else return t=Ra(s),t!==null&&Ic(t),e.blockedOn=s,!1;t.shift()}return!0}function Qd(e,t,s){ll(e)&&s.delete(t)}function tg(){wo=!1,qn!==null&&ll(qn)&&(qn=null),Bn!==null&&ll(Bn)&&(Bn=null),Un!==null&&ll(Un)&&(Un=null),ra.forEach(Qd),aa.forEach(Qd)}function Or(e,t){e.blockedOn===t&&(e.blockedOn=null,wo||(wo=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,tg)))}function la(e){function t(a){return Or(a,e)}if(0<Qa.length){Or(Qa[0],e);for(var s=1;s<Qa.length;s++){var r=Qa[s];r.blockedOn===e&&(r.blockedOn=null)}}for(qn!==null&&Or(qn,e),Bn!==null&&Or(Bn,e),Un!==null&&Or(Un,e),ra.forEach(t),aa.forEach(t),s=0;s<kn.length;s++)r=kn[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<kn.length&&(s=kn[0],s.blockedOn===null);)Sp(s),s.blockedOn===null&&kn.shift()}var Ys=yn.ReactCurrentBatchConfig,El=!0;function ng(e,t,s,r){var a=he,l=Ys.transition;Ys.transition=null;try{he=1,Tc(e,t,s,r)}finally{he=a,Ys.transition=l}}function sg(e,t,s,r){var a=he,l=Ys.transition;Ys.transition=null;try{he=4,Tc(e,t,s,r)}finally{he=a,Ys.transition=l}}function Tc(e,t,s,r){if(El){var a=So(e,t,s,r);if(a===null)Li(e,t,r,Pl,s),Vd(e,r);else if(eg(a,e,t,s,r))r.stopPropagation();else if(Vd(e,r),t&4&&-1<Zx.indexOf(e)){for(;a!==null;){var l=Ra(a);if(l!==null&&bp(l),l=So(e,t,s,r),l===null&&Li(e,t,r,Pl,s),l===a)break;a=l}a!==null&&r.stopPropagation()}else Li(e,t,r,null,s)}}var Pl=null;function So(e,t,s,r){if(Pl=null,e=Dc(r),e=rs(e),e!==null)if(t=Ds(e),t===null)e=null;else if(s=t.tag,s===13){if(e=mp(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pl=e,null}function kp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vx()){case Fc:return 1;case xp:return 4;case kl:case Qx:return 16;case gp:return 536870912;default:return 16}default:return 16}}var Mn=null,Mc=null,il=null;function Cp(){if(il)return il;var e,t=Mc,s=t.length,r,a="value"in Mn?Mn.value:Mn.textContent,l=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(r=1;r<=i&&t[s-r]===a[l-r];r++);return il=a.slice(e,1<r?1-r:void 0)}function ol(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ka(){return!0}function Kd(){return!1}function St(e){function t(s,r,a,l,i){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ka:Kd,this.isPropagationStopped=Kd,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),t}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=St(jr),Pa=ke({},jr,{view:0,detail:0}),rg=St(Pa),Pi,Ri,Ir,Zl=ke({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(Pi=e.screenX-Ir.screenX,Ri=e.screenY-Ir.screenY):Ri=Pi=0,Ir=e),Pi)},movementY:function(e){return"movementY"in e?e.movementY:Ri}}),Wd=St(Zl),ag=ke({},Zl,{dataTransfer:0}),lg=St(ag),ig=ke({},Pa,{relatedTarget:0}),Ai=St(ig),og=ke({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),cg=St(og),dg=ke({},jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ug=St(dg),mg=ke({},jr,{data:0}),Hd=St(mg),pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hg[e])?!!t[e]:!1}function _c(){return xg}var gg=ke({},Pa,{key:function(e){if(e.key){var t=pg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ol(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_c,charCode:function(e){return e.type==="keypress"?ol(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ol(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yg=St(gg),vg=ke({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gd=St(vg),bg=ke({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_c}),jg=St(bg),Ng=ke({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wg=St(Ng),Sg=ke({},Zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kg=St(Sg),Cg=[9,13,27,32],qc=fn&&"CompositionEvent"in window,Hr=null;fn&&"documentMode"in document&&(Hr=document.documentMode);var Eg=fn&&"TextEvent"in window&&!Hr,Ep=fn&&(!qc||Hr&&8<Hr&&11>=Hr),Jd=" ",Yd=!1;function Pp(e,t){switch(e){case"keyup":return Cg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function Pg(e,t){switch(e){case"compositionend":return Rp(t);case"keypress":return t.which!==32?null:(Yd=!0,Jd);case"textInput":return e=t.data,e===Jd&&Yd?null:e;default:return null}}function Rg(e,t){if(_s)return e==="compositionend"||!qc&&Pp(e,t)?(e=Cp(),il=Mc=Mn=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ep&&t.locale!=="ko"?null:t.data;default:return null}}var Ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ag[e.type]:t==="textarea"}function Ap(e,t,s,r){ip(r),t=Rl(t,"onChange"),0<t.length&&(s=new Lc("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Gr=null,ia=null;function Dg(e){Up(e,0)}function ei(e){var t=Us(e);if(ep(t))return e}function Fg(e,t){if(e==="change")return t}var Dp=!1;if(fn){var Di;if(fn){var Fi="oninput"in document;if(!Fi){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),Fi=typeof Zd.oninput=="function"}Di=Fi}else Di=!1;Dp=Di&&(!document.documentMode||9<document.documentMode)}function eu(){Gr&&(Gr.detachEvent("onpropertychange",Fp),ia=Gr=null)}function Fp(e){if(e.propertyName==="value"&&ei(ia)){var t=[];Ap(t,ia,e,Dc(e)),up(Dg,t)}}function Og(e,t,s){e==="focusin"?(eu(),Gr=t,ia=s,Gr.attachEvent("onpropertychange",Fp)):e==="focusout"&&eu()}function Ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ei(ia)}function Tg(e,t){if(e==="click")return ei(t)}function Mg(e,t){if(e==="input"||e==="change")return ei(t)}function Lg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Lg;function oa(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!ao.call(t,a)||!$t(e[a],t[a]))return!1}return!0}function tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nu(e,t){var s=tu(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=tu(s)}}function Op(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Op(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ip(){for(var e=window,t=Nl();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Nl(e.document)}return t}function Bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _g(e){var t=Ip(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Op(s.ownerDocument.documentElement,s)){if(r!==null&&Bc(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!e.extend&&l>r&&(a=r,r=l,l=a),a=nu(s,l);var i=nu(s,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qg=fn&&"documentMode"in document&&11>=document.documentMode,qs=null,ko=null,Jr=null,Co=!1;function su(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Co||qs==null||qs!==Nl(r)||(r=qs,"selectionStart"in r&&Bc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jr&&oa(Jr,r)||(Jr=r,r=Rl(ko,"onSelect"),0<r.length&&(t=new Lc("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=qs)))}function Wa(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Bs={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionend:Wa("Transition","TransitionEnd")},Oi={},Tp={};fn&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function ti(e){if(Oi[e])return Oi[e];if(!Bs[e])return e;var t=Bs[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Tp)return Oi[e]=t[s];return e}var Mp=ti("animationend"),Lp=ti("animationiteration"),_p=ti("animationstart"),qp=ti("transitionend"),Bp=new Map,ru="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,t){Bp.set(e,t),As(t,[e])}for(var Ii=0;Ii<ru.length;Ii++){var Ti=ru[Ii],Bg=Ti.toLowerCase(),Ug=Ti[0].toUpperCase()+Ti.slice(1);Xn(Bg,"on"+Ug)}Xn(Mp,"onAnimationEnd");Xn(Lp,"onAnimationIteration");Xn(_p,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(qp,"onTransitionEnd");mr("onMouseEnter",["mouseout","mouseover"]);mr("onMouseLeave",["mouseout","mouseover"]);mr("onPointerEnter",["pointerout","pointerover"]);mr("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zg=new Set("cancel close invalid load scroll toggle".split(" ").concat($r));function au(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,Bx(r,t,void 0,e),e.currentTarget=null}function Up(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;au(a,o,d),l=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;au(a,o,d),l=c}}}if(Sl)throw e=jo,Sl=!1,jo=null,e}function ve(e,t){var s=t[Do];s===void 0&&(s=t[Do]=new Set);var r=e+"__bubble";s.has(r)||(zp(t,e,2,!1),s.add(r))}function Mi(e,t,s){var r=0;t&&(r|=4),zp(s,e,r,t)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function ca(e){if(!e[Ha]){e[Ha]=!0,Gm.forEach(function(s){s!=="selectionchange"&&(zg.has(s)||Mi(s,!1,e),Mi(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ha]||(t[Ha]=!0,Mi("selectionchange",!1,t))}}function zp(e,t,s,r){switch(kp(t)){case 1:var a=ng;break;case 4:a=sg;break;default:a=Tc}s=a.bind(null,t,s,e),a=void 0,!bo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Li(e,t,s,r,a){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=rs(o),i===null)return;if(c=i.tag,c===5||c===6){r=l=i;continue e}o=o.parentNode}}r=r.return}up(function(){var d=l,f=Dc(s),p=[];e:{var m=Bp.get(e);if(m!==void 0){var v=Lc,y=e;switch(e){case"keypress":if(ol(s)===0)break e;case"keydown":case"keyup":v=yg;break;case"focusin":y="focus",v=Ai;break;case"focusout":y="blur",v=Ai;break;case"beforeblur":case"afterblur":v=Ai;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=lg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=jg;break;case Mp:case Lp:case _p:v=cg;break;case qp:v=wg;break;case"scroll":v=rg;break;case"wheel":v=kg;break;case"copy":case"cut":case"paste":v=ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Gd}var b=(t&4)!==0,w=!b&&e==="scroll",u=b?m!==null?m+"Capture":null:m;b=[];for(var h=d,g;h!==null;){g=h;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,u!==null&&(x=sa(h,u),x!=null&&b.push(da(h,x,g)))),w)break;h=h.return}0<b.length&&(m=new v(m,y,null,s,f),p.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&s!==yo&&(y=s.relatedTarget||s.fromElement)&&(rs(y)||y[hn]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=s.relatedTarget||s.toElement,v=d,y=y?rs(y):null,y!==null&&(w=Ds(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=d),v!==y)){if(b=Wd,x="onMouseLeave",u="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(b=Gd,x="onPointerLeave",u="onPointerEnter",h="pointer"),w=v==null?m:Us(v),g=y==null?m:Us(y),m=new b(x,h+"leave",v,s,f),m.target=w,m.relatedTarget=g,x=null,rs(f)===d&&(b=new b(u,h+"enter",y,s,f),b.target=g,b.relatedTarget=w,x=b),w=x,v&&y)t:{for(b=v,u=y,h=0,g=b;g;g=Is(g))h++;for(g=0,x=u;x;x=Is(x))g++;for(;0<h-g;)b=Is(b),h--;for(;0<g-h;)u=Is(u),g--;for(;h--;){if(b===u||u!==null&&b===u.alternate)break t;b=Is(b),u=Is(u)}b=null}else b=null;v!==null&&lu(p,m,v,b,!1),y!==null&&w!==null&&lu(p,w,y,b,!0)}}e:{if(m=d?Us(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var j=Fg;else if(Xd(m))if(Dp)j=Mg;else{j=Ig;var R=Og}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=Tg);if(j&&(j=j(e,d))){Ap(p,j,s,f);break e}R&&R(e,m,d),e==="focusout"&&(R=m._wrapperState)&&R.controlled&&m.type==="number"&&po(m,"number",m.value)}switch(R=d?Us(d):window,e){case"focusin":(Xd(R)||R.contentEditable==="true")&&(qs=R,ko=d,Jr=null);break;case"focusout":Jr=ko=qs=null;break;case"mousedown":Co=!0;break;case"contextmenu":case"mouseup":case"dragend":Co=!1,su(p,s,f);break;case"selectionchange":if(qg)break;case"keydown":case"keyup":su(p,s,f)}var A;if(qc)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else _s?Pp(e,s)&&(k="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(k="onCompositionStart");k&&(Ep&&s.locale!=="ko"&&(_s||k!=="onCompositionStart"?k==="onCompositionEnd"&&_s&&(A=Cp()):(Mn=f,Mc="value"in Mn?Mn.value:Mn.textContent,_s=!0)),R=Rl(d,k),0<R.length&&(k=new Hd(k,e,null,s,f),p.push({event:k,listeners:R}),A?k.data=A:(A=Rp(s),A!==null&&(k.data=A)))),(A=Eg?Pg(e,s):Rg(e,s))&&(d=Rl(d,"onBeforeInput"),0<d.length&&(f=new Hd("onBeforeInput","beforeinput",null,s,f),p.push({event:f,listeners:d}),f.data=A))}Up(p,t)})}function da(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Rl(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=sa(e,s),l!=null&&r.unshift(da(e,l,a)),l=sa(e,t),l!=null&&r.push(da(e,l,a))),e=e.return}return r}function Is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lu(e,t,s,r,a){for(var l=t._reactName,i=[];s!==null&&s!==r;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,a?(c=sa(s,l),c!=null&&i.unshift(da(s,c,o))):a||(c=sa(s,l),c!=null&&i.push(da(s,c,o)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var $g=/\r\n?/g,Vg=/\u0000|\uFFFD/g;function iu(e){return(typeof e=="string"?e:""+e).replace($g,`
`).replace(Vg,"")}function Ga(e,t,s){if(t=iu(t),iu(e)!==t&&s)throw Error($(425))}function Al(){}var Eo=null,Po=null;function Ro(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ao=typeof setTimeout=="function"?setTimeout:void 0,Qg=typeof clearTimeout=="function"?clearTimeout:void 0,ou=typeof Promise=="function"?Promise:void 0,Kg=typeof queueMicrotask=="function"?queueMicrotask:typeof ou<"u"?function(e){return ou.resolve(null).then(e).catch(Wg)}:Ao;function Wg(e){setTimeout(function(){throw e})}function _i(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),la(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);la(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Nr,ua="__reactProps$"+Nr,hn="__reactContainer$"+Nr,Do="__reactEvents$"+Nr,Hg="__reactListeners$"+Nr,Gg="__reactHandles$"+Nr;function rs(e){var t=e[Xt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[hn]||s[Xt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=cu(e);e!==null;){if(s=e[Xt])return s;e=cu(e)}return t}e=s,s=e.parentNode}return null}function Ra(e){return e=e[Xt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function ni(e){return e[ua]||null}var Fo=[],zs=-1;function Zn(e){return{current:e}}function be(e){0>zs||(e.current=Fo[zs],Fo[zs]=null,zs--)}function ye(e,t){zs++,Fo[zs]=e.current,e.current=t}var Yn={},Ye=Zn(Yn),ut=Zn(!1),Ns=Yn;function pr(e,t){var s=e.type.contextTypes;if(!s)return Yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in s)a[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mt(e){return e=e.childContextTypes,e!=null}function Dl(){be(ut),be(Ye)}function du(e,t,s){if(Ye.current!==Yn)throw Error($(168));ye(Ye,t),ye(ut,s)}function $p(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error($(108,Ox(e)||"Unknown",a));return ke({},s,r)}function Fl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,Ns=Ye.current,ye(Ye,e),ye(ut,ut.current),!0}function uu(e,t,s){var r=e.stateNode;if(!r)throw Error($(169));s?(e=$p(e,t,Ns),r.__reactInternalMemoizedMergedChildContext=e,be(ut),be(Ye),ye(Ye,e)):be(ut),ye(ut,s)}var rn=null,si=!1,qi=!1;function Vp(e){rn===null?rn=[e]:rn.push(e)}function Jg(e){si=!0,Vp(e)}function es(){if(!qi&&rn!==null){qi=!0;var e=0,t=he;try{var s=rn;for(he=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}rn=null,si=!1}catch(a){throw rn!==null&&(rn=rn.slice(e+1)),hp(Fc,es),a}finally{he=t,qi=!1}}return null}var $s=[],Vs=0,Ol=null,Il=0,Pt=[],Rt=0,ws=null,dn=1,un="";function ns(e,t){$s[Vs++]=Il,$s[Vs++]=Ol,Ol=e,Il=t}function Qp(e,t,s){Pt[Rt++]=dn,Pt[Rt++]=un,Pt[Rt++]=ws,ws=e;var r=dn;e=un;var a=32-Ut(r)-1;r&=~(1<<a),s+=1;var l=32-Ut(t)+a;if(30<l){var i=a-a%5;l=(r&(1<<i)-1).toString(32),r>>=i,a-=i,dn=1<<32-Ut(t)+a|s<<a|r,un=l+e}else dn=1<<l|s<<a|r,un=e}function Uc(e){e.return!==null&&(ns(e,1),Qp(e,1,0))}function zc(e){for(;e===Ol;)Ol=$s[--Vs],$s[Vs]=null,Il=$s[--Vs],$s[Vs]=null;for(;e===ws;)ws=Pt[--Rt],Pt[Rt]=null,un=Pt[--Rt],Pt[Rt]=null,dn=Pt[--Rt],Pt[Rt]=null}var jt=null,bt=null,je=!1,Bt=null;function Kp(e,t){var s=At(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function mu(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,bt=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ws!==null?{id:dn,overflow:un}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=At(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,jt=e,bt=null,!0):!1;default:return!1}}function Oo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Io(e){if(je){var t=bt;if(t){var s=t;if(!mu(e,t)){if(Oo(e))throw Error($(418));t=zn(s.nextSibling);var r=jt;t&&mu(e,t)?Kp(r,s):(e.flags=e.flags&-4097|2,je=!1,jt=e)}}else{if(Oo(e))throw Error($(418));e.flags=e.flags&-4097|2,je=!1,jt=e}}}function pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function Ja(e){if(e!==jt)return!1;if(!je)return pu(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ro(e.type,e.memoizedProps)),t&&(t=bt)){if(Oo(e))throw Wp(),Error($(418));for(;t;)Kp(e,t),t=zn(t.nextSibling)}if(pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){bt=zn(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=jt?zn(e.stateNode.nextSibling):null;return!0}function Wp(){for(var e=bt;e;)e=zn(e.nextSibling)}function fr(){bt=jt=null,je=!1}function $c(e){Bt===null?Bt=[e]:Bt.push(e)}var Yg=yn.ReactCurrentBatchConfig;function Tr(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error($(309));var r=s.stateNode}if(!r)throw Error($(147,e));var a=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error($(284));if(!s._owner)throw Error($(290,e))}return e}function Ya(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fu(e){var t=e._init;return t(e._payload)}function Hp(e){function t(u,h){if(e){var g=u.deletions;g===null?(u.deletions=[h],u.flags|=16):g.push(h)}}function s(u,h){if(!e)return null;for(;h!==null;)t(u,h),h=h.sibling;return null}function r(u,h){for(u=new Map;h!==null;)h.key!==null?u.set(h.key,h):u.set(h.index,h),h=h.sibling;return u}function a(u,h){return u=Kn(u,h),u.index=0,u.sibling=null,u}function l(u,h,g){return u.index=g,e?(g=u.alternate,g!==null?(g=g.index,g<h?(u.flags|=2,h):g):(u.flags|=2,h)):(u.flags|=1048576,h)}function i(u){return e&&u.alternate===null&&(u.flags|=2),u}function o(u,h,g,x){return h===null||h.tag!==6?(h=Ki(g,u.mode,x),h.return=u,h):(h=a(h,g),h.return=u,h)}function c(u,h,g,x){var j=g.type;return j===Ls?f(u,h,g.props.children,x,g.key):h!==null&&(h.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wn&&fu(j)===h.type)?(x=a(h,g.props),x.ref=Tr(u,h,g),x.return=u,x):(x=hl(g.type,g.key,g.props,null,u.mode,x),x.ref=Tr(u,h,g),x.return=u,x)}function d(u,h,g,x){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=Wi(g,u.mode,x),h.return=u,h):(h=a(h,g.children||[]),h.return=u,h)}function f(u,h,g,x,j){return h===null||h.tag!==7?(h=bs(g,u.mode,x,j),h.return=u,h):(h=a(h,g),h.return=u,h)}function p(u,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Ki(""+h,u.mode,g),h.return=u,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ba:return g=hl(h.type,h.key,h.props,null,u.mode,g),g.ref=Tr(u,null,h),g.return=u,g;case Ms:return h=Wi(h,u.mode,g),h.return=u,h;case wn:var x=h._init;return p(u,x(h._payload),g)}if(Ur(h)||Ar(h))return h=bs(h,u.mode,g,null),h.return=u,h;Ya(u,h)}return null}function m(u,h,g,x){var j=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:o(u,h,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ba:return g.key===j?c(u,h,g,x):null;case Ms:return g.key===j?d(u,h,g,x):null;case wn:return j=g._init,m(u,h,j(g._payload),x)}if(Ur(g)||Ar(g))return j!==null?null:f(u,h,g,x,null);Ya(u,g)}return null}function v(u,h,g,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return u=u.get(g)||null,o(h,u,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ba:return u=u.get(x.key===null?g:x.key)||null,c(h,u,x,j);case Ms:return u=u.get(x.key===null?g:x.key)||null,d(h,u,x,j);case wn:var R=x._init;return v(u,h,g,R(x._payload),j)}if(Ur(x)||Ar(x))return u=u.get(g)||null,f(h,u,x,j,null);Ya(h,x)}return null}function y(u,h,g,x){for(var j=null,R=null,A=h,k=h=0,_=null;A!==null&&k<g.length;k++){A.index>k?(_=A,A=null):_=A.sibling;var E=m(u,A,g[k],x);if(E===null){A===null&&(A=_);break}e&&A&&E.alternate===null&&t(u,A),h=l(E,h,k),R===null?j=E:R.sibling=E,R=E,A=_}if(k===g.length)return s(u,A),je&&ns(u,k),j;if(A===null){for(;k<g.length;k++)A=p(u,g[k],x),A!==null&&(h=l(A,h,k),R===null?j=A:R.sibling=A,R=A);return je&&ns(u,k),j}for(A=r(u,A);k<g.length;k++)_=v(A,u,k,g[k],x),_!==null&&(e&&_.alternate!==null&&A.delete(_.key===null?k:_.key),h=l(_,h,k),R===null?j=_:R.sibling=_,R=_);return e&&A.forEach(function(T){return t(u,T)}),je&&ns(u,k),j}function b(u,h,g,x){var j=Ar(g);if(typeof j!="function")throw Error($(150));if(g=j.call(g),g==null)throw Error($(151));for(var R=j=null,A=h,k=h=0,_=null,E=g.next();A!==null&&!E.done;k++,E=g.next()){A.index>k?(_=A,A=null):_=A.sibling;var T=m(u,A,E.value,x);if(T===null){A===null&&(A=_);break}e&&A&&T.alternate===null&&t(u,A),h=l(T,h,k),R===null?j=T:R.sibling=T,R=T,A=_}if(E.done)return s(u,A),je&&ns(u,k),j;if(A===null){for(;!E.done;k++,E=g.next())E=p(u,E.value,x),E!==null&&(h=l(E,h,k),R===null?j=E:R.sibling=E,R=E);return je&&ns(u,k),j}for(A=r(u,A);!E.done;k++,E=g.next())E=v(A,u,k,E.value,x),E!==null&&(e&&E.alternate!==null&&A.delete(E.key===null?k:E.key),h=l(E,h,k),R===null?j=E:R.sibling=E,R=E);return e&&A.forEach(function(F){return t(u,F)}),je&&ns(u,k),j}function w(u,h,g,x){if(typeof g=="object"&&g!==null&&g.type===Ls&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ba:e:{for(var j=g.key,R=h;R!==null;){if(R.key===j){if(j=g.type,j===Ls){if(R.tag===7){s(u,R.sibling),h=a(R,g.props.children),h.return=u,u=h;break e}}else if(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wn&&fu(j)===R.type){s(u,R.sibling),h=a(R,g.props),h.ref=Tr(u,R,g),h.return=u,u=h;break e}s(u,R);break}else t(u,R);R=R.sibling}g.type===Ls?(h=bs(g.props.children,u.mode,x,g.key),h.return=u,u=h):(x=hl(g.type,g.key,g.props,null,u.mode,x),x.ref=Tr(u,h,g),x.return=u,u=x)}return i(u);case Ms:e:{for(R=g.key;h!==null;){if(h.key===R)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){s(u,h.sibling),h=a(h,g.children||[]),h.return=u,u=h;break e}else{s(u,h);break}else t(u,h);h=h.sibling}h=Wi(g,u.mode,x),h.return=u,u=h}return i(u);case wn:return R=g._init,w(u,h,R(g._payload),x)}if(Ur(g))return y(u,h,g,x);if(Ar(g))return b(u,h,g,x);Ya(u,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(s(u,h.sibling),h=a(h,g),h.return=u,u=h):(s(u,h),h=Ki(g,u.mode,x),h.return=u,u=h),i(u)):s(u,h)}return w}var hr=Hp(!0),Gp=Hp(!1),Tl=Zn(null),Ml=null,Qs=null,Vc=null;function Qc(){Vc=Qs=Ml=null}function Kc(e){var t=Tl.current;be(Tl),e._currentValue=t}function To(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Xs(e,t){Ml=e,Vc=Qs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(Vc!==e)if(e={context:e,memoizedValue:t,next:null},Qs===null){if(Ml===null)throw Error($(308));Qs=e,Ml.dependencies={lanes:0,firstContext:e}}else Qs=Qs.next=e;return t}var as=null;function Wc(e){as===null?as=[e]:as.push(e)}function Jp(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,Wc(t)):(s.next=a.next,a.next=s),t.interleaved=s,xn(e,r)}function xn(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Sn=!1;function Hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,xn(e,s)}return a=r.interleaved,a===null?(t.next=t,Wc(r)):(t.next=a.next,a.next=t),r.interleaved=t,xn(e,s)}function cl(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Oc(e,s)}}function hu(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};l===null?a=l=i:l=l.next=i,s=s.next}while(s!==null);l===null?a=l=t:l=l.next=t}else a=l=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ll(e,t,s,r){var a=e.updateQueue;Sn=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==i&&(o===null?f.firstBaseUpdate=d:o.next=d,f.lastBaseUpdate=c))}if(l!==null){var p=a.baseState;i=0,f=d=c=null,o=l;do{var m=o.lane,v=o.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,b=o;switch(m=t,v=s,b.tag){case 1:if(y=b.payload,typeof y=="function"){p=y.call(v,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,m=typeof y=="function"?y.call(v,p,m):y,m==null)break e;p=ke({},p,m);break e;case 2:Sn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[o]:m.push(o))}else v={eventTime:v,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(d=f=v,c=p):f=f.next=v,i|=m;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;m=o,o=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(f===null&&(c=p),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);ks|=i,e.lanes=i,e.memoizedState=p}}function xu(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error($(191,a));a.call(r)}}}var Aa={},tn=Zn(Aa),ma=Zn(Aa),pa=Zn(Aa);function ls(e){if(e===Aa)throw Error($(174));return e}function Gc(e,t){switch(ye(pa,t),ye(ma,e),ye(tn,Aa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ho(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ho(t,e)}be(tn),ye(tn,t)}function xr(){be(tn),be(ma),be(pa)}function Xp(e){ls(pa.current);var t=ls(tn.current),s=ho(t,e.type);t!==s&&(ye(ma,e),ye(tn,s))}function Jc(e){ma.current===e&&(be(tn),be(ma))}var we=Zn(0);function _l(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bi=[];function Yc(){for(var e=0;e<Bi.length;e++)Bi[e]._workInProgressVersionPrimary=null;Bi.length=0}var dl=yn.ReactCurrentDispatcher,Ui=yn.ReactCurrentBatchConfig,Ss=0,Se=null,Le=null,ze=null,ql=!1,Yr=!1,fa=0,Xg=0;function We(){throw Error($(321))}function Xc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!$t(e[s],t[s]))return!1;return!0}function Zc(e,t,s,r,a,l){if(Ss=l,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dl.current=e===null||e.memoizedState===null?n0:s0,e=s(r,a),Yr){l=0;do{if(Yr=!1,fa=0,25<=l)throw Error($(301));l+=1,ze=Le=null,t.updateQueue=null,dl.current=r0,e=s(r,a)}while(Yr)}if(dl.current=Bl,t=Le!==null&&Le.next!==null,Ss=0,ze=Le=Se=null,ql=!1,t)throw Error($(300));return e}function ed(){var e=fa!==0;return fa=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Se.memoizedState=ze=e:ze=ze.next=e,ze}function Ot(){if(Le===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=ze===null?Se.memoizedState:ze.next;if(t!==null)ze=t,Le=e;else{if(e===null)throw Error($(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ze===null?Se.memoizedState=ze=e:ze=ze.next=e}return ze}function ha(e,t){return typeof t=="function"?t(e):t}function zi(e){var t=Ot(),s=t.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=e;var r=Le,a=r.baseQueue,l=s.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,s.pending=null}if(a!==null){l=a.next,r=r.baseState;var o=i=null,c=null,d=l;do{var f=d.lane;if((Ss&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=p,i=r):c=c.next=p,Se.lanes|=f,ks|=f}d=d.next}while(d!==null&&d!==l);c===null?i=r:c.next=o,$t(r,t.memoizedState)||(dt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do l=a.lane,Se.lanes|=l,ks|=l,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function $i(e){var t=Ot(),s=t.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,l=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);$t(l,t.memoizedState)||(dt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),s.lastRenderedState=l}return[l,r]}function Zp(){}function ef(e,t){var s=Se,r=Ot(),a=t(),l=!$t(r.memoizedState,a);if(l&&(r.memoizedState=a,dt=!0),r=r.queue,td(sf.bind(null,s,r,e),[e]),r.getSnapshot!==t||l||ze!==null&&ze.memoizedState.tag&1){if(s.flags|=2048,xa(9,nf.bind(null,s,r,a,t),void 0,null),$e===null)throw Error($(349));Ss&30||tf(s,t,a)}return a}function tf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function nf(e,t,s,r){t.value=s,t.getSnapshot=r,rf(t)&&af(e)}function sf(e,t,s){return s(function(){rf(t)&&af(e)})}function rf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!$t(e,s)}catch{return!0}}function af(e){var t=xn(e,1);t!==null&&zt(t,e,1,-1)}function gu(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t.queue=e,e=e.dispatch=t0.bind(null,Se,e),[t.memoizedState,e]}function xa(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function lf(){return Ot().memoizedState}function ul(e,t,s,r){var a=Ht();Se.flags|=e,a.memoizedState=xa(1|t,s,void 0,r===void 0?null:r)}function ri(e,t,s,r){var a=Ot();r=r===void 0?null:r;var l=void 0;if(Le!==null){var i=Le.memoizedState;if(l=i.destroy,r!==null&&Xc(r,i.deps)){a.memoizedState=xa(t,s,l,r);return}}Se.flags|=e,a.memoizedState=xa(1|t,s,l,r)}function yu(e,t){return ul(8390656,8,e,t)}function td(e,t){return ri(2048,8,e,t)}function of(e,t){return ri(4,2,e,t)}function cf(e,t){return ri(4,4,e,t)}function df(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uf(e,t,s){return s=s!=null?s.concat([e]):null,ri(4,4,df.bind(null,t,e),s)}function nd(){}function mf(e,t){var s=Ot();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Xc(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function pf(e,t){var s=Ot();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Xc(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function ff(e,t,s){return Ss&21?($t(s,t)||(s=yp(),Se.lanes|=s,ks|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=s)}function Zg(e,t){var s=he;he=s!==0&&4>s?s:4,e(!0);var r=Ui.transition;Ui.transition={};try{e(!1),t()}finally{he=s,Ui.transition=r}}function hf(){return Ot().memoizedState}function e0(e,t,s){var r=Qn(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},xf(e))gf(t,s);else if(s=Jp(e,t,s,r),s!==null){var a=rt();zt(s,e,r,a),yf(s,t,r)}}function t0(e,t,s){var r=Qn(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(xf(e))gf(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,s);if(a.hasEagerState=!0,a.eagerState=o,$t(o,i)){var c=t.interleaved;c===null?(a.next=a,Wc(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=Jp(e,t,a,r),s!==null&&(a=rt(),zt(s,e,r,a),yf(s,t,r))}}function xf(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function gf(e,t){Yr=ql=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function yf(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Oc(e,s)}}var Bl={readContext:Ft,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},n0={readContext:Ft,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:yu,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ul(4194308,4,df.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){return ul(4,2,e,t)},useMemo:function(e,t){var s=Ht();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=Ht();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=e0.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:gu,useDebugValue:nd,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=gu(!1),t=e[0];return e=Zg.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=Se,a=Ht();if(je){if(s===void 0)throw Error($(407));s=s()}else{if(s=t(),$e===null)throw Error($(349));Ss&30||tf(r,t,s)}a.memoizedState=s;var l={value:s,getSnapshot:t};return a.queue=l,yu(sf.bind(null,r,l,e),[e]),r.flags|=2048,xa(9,nf.bind(null,r,l,s,t),void 0,null),s},useId:function(){var e=Ht(),t=$e.identifierPrefix;if(je){var s=un,r=dn;s=(r&~(1<<32-Ut(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=fa++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Xg++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},s0={readContext:Ft,useCallback:mf,useContext:Ft,useEffect:td,useImperativeHandle:uf,useInsertionEffect:of,useLayoutEffect:cf,useMemo:pf,useReducer:zi,useRef:lf,useState:function(){return zi(ha)},useDebugValue:nd,useDeferredValue:function(e){var t=Ot();return ff(t,Le.memoizedState,e)},useTransition:function(){var e=zi(ha)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Zp,useSyncExternalStore:ef,useId:hf,unstable_isNewReconciler:!1},r0={readContext:Ft,useCallback:mf,useContext:Ft,useEffect:td,useImperativeHandle:uf,useInsertionEffect:of,useLayoutEffect:cf,useMemo:pf,useReducer:$i,useRef:lf,useState:function(){return $i(ha)},useDebugValue:nd,useDeferredValue:function(e){var t=Ot();return Le===null?t.memoizedState=e:ff(t,Le.memoizedState,e)},useTransition:function(){var e=$i(ha)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Zp,useSyncExternalStore:ef,useId:hf,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Mo(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:ke({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ai={isMounted:function(e){return(e=e._reactInternals)?Ds(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=rt(),a=Qn(e),l=mn(r,a);l.payload=t,s!=null&&(l.callback=s),t=$n(e,l,a),t!==null&&(zt(t,e,a,r),cl(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=rt(),a=Qn(e),l=mn(r,a);l.tag=1,l.payload=t,s!=null&&(l.callback=s),t=$n(e,l,a),t!==null&&(zt(t,e,a,r),cl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=rt(),r=Qn(e),a=mn(s,r);a.tag=2,t!=null&&(a.callback=t),t=$n(e,a,r),t!==null&&(zt(t,e,r,s),cl(t,e,r))}};function vu(e,t,s,r,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!oa(s,r)||!oa(a,l):!0}function vf(e,t,s){var r=!1,a=Yn,l=t.contextType;return typeof l=="object"&&l!==null?l=Ft(l):(a=mt(t)?Ns:Ye.current,r=t.contextTypes,l=(r=r!=null)?pr(e,a):Yn),t=new t(s,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function bu(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function Lo(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Hc(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Ft(l):(l=mt(t)?Ns:Ye.current,a.context=pr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Mo(e,t,l,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Ll(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function gr(e,t){try{var s="",r=t;do s+=Fx(r),r=r.return;while(r);var a=s}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Vi(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function _o(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var a0=typeof WeakMap=="function"?WeakMap:Map;function bf(e,t,s){s=mn(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){zl||(zl=!0,Ho=r),_o(e,t)},s}function jf(e,t,s){s=mn(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){_o(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(s.callback=function(){_o(e,t),typeof r!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function ju(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new a0;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=v0.bind(null,e,t,s),t.then(e,e))}function Nu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wu(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=mn(-1,1),t.tag=2,$n(s,t,1))),s.lanes|=1),e)}var l0=yn.ReactCurrentOwner,dt=!1;function tt(e,t,s,r){t.child=e===null?Gp(t,null,s,r):hr(t,e.child,s,r)}function Su(e,t,s,r,a){s=s.render;var l=t.ref;return Xs(t,a),r=Zc(e,t,s,r,l,a),s=ed(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,gn(e,t,a)):(je&&s&&Uc(t),t.flags|=1,tt(e,t,r,a),t.child)}function ku(e,t,s,r,a){if(e===null){var l=s.type;return typeof l=="function"&&!dd(l)&&l.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=l,Nf(e,t,l,r,a)):(e=hl(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(s=s.compare,s=s!==null?s:oa,s(i,r)&&e.ref===t.ref)return gn(e,t,a)}return t.flags|=1,e=Kn(l,r),e.ref=t.ref,e.return=t,t.child=e}function Nf(e,t,s,r,a){if(e!==null){var l=e.memoizedProps;if(oa(l,r)&&e.ref===t.ref)if(dt=!1,t.pendingProps=r=l,(e.lanes&a)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,gn(e,t,a)}return qo(e,t,s,r,a)}function wf(e,t,s){var r=t.pendingProps,a=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ws,vt),vt|=s;else{if(!(s&1073741824))return e=l!==null?l.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Ws,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:s,ye(Ws,vt),vt|=r}else l!==null?(r=l.baseLanes|s,t.memoizedState=null):r=s,ye(Ws,vt),vt|=r;return tt(e,t,a,s),t.child}function Sf(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function qo(e,t,s,r,a){var l=mt(s)?Ns:Ye.current;return l=pr(t,l),Xs(t,a),s=Zc(e,t,s,r,l,a),r=ed(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,gn(e,t,a)):(je&&r&&Uc(t),t.flags|=1,tt(e,t,s,a),t.child)}function Cu(e,t,s,r,a){if(mt(s)){var l=!0;Fl(t)}else l=!1;if(Xs(t,a),t.stateNode===null)ml(e,t),vf(t,s,r),Lo(t,s,r,a),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,d=s.contextType;typeof d=="object"&&d!==null?d=Ft(d):(d=mt(s)?Ns:Ye.current,d=pr(t,d));var f=s.getDerivedStateFromProps,p=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==d)&&bu(t,i,r,d),Sn=!1;var m=t.memoizedState;i.state=m,Ll(t,r,i,a),c=t.memoizedState,o!==r||m!==c||ut.current||Sn?(typeof f=="function"&&(Mo(t,s,f,r),c=t.memoizedState),(o=Sn||vu(t,s,o,r,m,c,d))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=d,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Yp(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Mt(t.type,o),i.props=d,p=t.pendingProps,m=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=Ft(c):(c=mt(s)?Ns:Ye.current,c=pr(t,c));var v=s.getDerivedStateFromProps;(f=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==p||m!==c)&&bu(t,i,r,c),Sn=!1,m=t.memoizedState,i.state=m,Ll(t,r,i,a);var y=t.memoizedState;o!==p||m!==y||ut.current||Sn?(typeof v=="function"&&(Mo(t,s,v,r),y=t.memoizedState),(d=Sn||vu(t,s,d,r,m,y,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Bo(e,t,s,r,l,a)}function Bo(e,t,s,r,a,l){Sf(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&uu(t,s,!1),gn(e,t,l);r=t.stateNode,l0.current=t;var o=i&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=hr(t,e.child,null,l),t.child=hr(t,null,o,l)):tt(e,t,o,l),t.memoizedState=r.state,a&&uu(t,s,!0),t.child}function kf(e){var t=e.stateNode;t.pendingContext?du(e,t.pendingContext,t.pendingContext!==t.context):t.context&&du(e,t.context,!1),Gc(e,t.containerInfo)}function Eu(e,t,s,r,a){return fr(),$c(a),t.flags|=256,tt(e,t,s,r),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cf(e,t,s){var r=t.pendingProps,a=we.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ye(we,a&1),e===null)return Io(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=oi(i,r,0,null),e=bs(e,r,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=zo(s),t.memoizedState=Uo,e):sd(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return i0(e,t,i,r,o,a,s);if(l){l=r.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Kn(a,c),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=Kn(o,l):(l=bs(l,i,s,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?zo(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~s,t.memoizedState=Uo,r}return l=e.child,e=l.sibling,r=Kn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function sd(e,t){return t=oi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xa(e,t,s,r){return r!==null&&$c(r),hr(t,e.child,null,s),e=sd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function i0(e,t,s,r,a,l,i){if(s)return t.flags&256?(t.flags&=-257,r=Vi(Error($(422))),Xa(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=oi({mode:"visible",children:r.children},a,0,null),l=bs(l,a,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&hr(t,e.child,null,i),t.child.memoizedState=zo(i),t.memoizedState=Uo,l);if(!(t.mode&1))return Xa(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error($(419)),r=Vi(l,r,void 0),Xa(e,t,i,r)}if(o=(i&e.childLanes)!==0,dt||o){if(r=$e,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,xn(e,a),zt(r,e,a,-1))}return cd(),r=Vi(Error($(421))),Xa(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=b0.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,bt=zn(a.nextSibling),jt=t,je=!0,Bt=null,e!==null&&(Pt[Rt++]=dn,Pt[Rt++]=un,Pt[Rt++]=ws,dn=e.id,un=e.overflow,ws=t),t=sd(t,r.children),t.flags|=4096,t)}function Pu(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),To(e.return,t,s)}function Qi(e,t,s,r,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=s,l.tailMode=a)}function Ef(e,t,s){var r=t.pendingProps,a=r.revealOrder,l=r.tail;if(tt(e,t,r.children,s),r=we.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pu(e,s,t);else if(e.tag===19)Pu(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(we,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&_l(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Qi(t,!1,a,s,l);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&_l(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Qi(t,!0,s,null,l);break;case"together":Qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ml(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ks|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,s=Kn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Kn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function o0(e,t,s){switch(t.tag){case 3:kf(t),fr();break;case 5:Xp(t);break;case 1:mt(t.type)&&Fl(t);break;case 4:Gc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ye(Tl,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(we,we.current&1),t.flags|=128,null):s&t.child.childLanes?Cf(e,t,s):(ye(we,we.current&1),e=gn(e,t,s),e!==null?e.sibling:null);ye(we,we.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return Ef(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ye(we,we.current),r)break;return null;case 22:case 23:return t.lanes=0,wf(e,t,s)}return gn(e,t,s)}var Pf,$o,Rf,Af;Pf=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};$o=function(){};Rf=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ls(tn.current);var l=null;switch(s){case"input":a=uo(e,a),r=uo(e,r),l=[];break;case"select":a=ke({},a,{value:void 0}),r=ke({},r,{value:void 0}),l=[];break;case"textarea":a=fo(e,a),r=fo(e,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Al)}xo(s,r);var i;s=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ta.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(l||(l=[]),l.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ta.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ve("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}s&&(l=l||[]).push("style",s);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};Af=function(e,t,s,r){s!==r&&(t.flags|=4)};function Mr(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function c0(e,t,s){var r=t.pendingProps;switch(zc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return mt(t.type)&&Dl(),He(t),null;case 3:return r=t.stateNode,xr(),be(ut),be(Ye),Yc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ja(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(Yo(Bt),Bt=null))),$o(e,t),He(t),null;case 5:Jc(t);var a=ls(pa.current);if(s=t.type,e!==null&&t.stateNode!=null)Rf(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return He(t),null}if(e=ls(tn.current),Ja(t)){r=t.stateNode,s=t.type;var l=t.memoizedProps;switch(r[Xt]=t,r[ua]=l,e=(t.mode&1)!==0,s){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(a=0;a<$r.length;a++)ve($r[a],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Ld(r,l),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ve("invalid",r);break;case"textarea":qd(r,l),ve("invalid",r)}xo(s,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&Ga(r.textContent,o,e),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Ga(r.textContent,o,e),a=["children",""+o]):ta.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ve("scroll",r)}switch(s){case"input":Ua(r),_d(r,l,!0);break;case"textarea":Ua(r),Bd(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Al)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sp(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(s,{is:r.is}):(e=i.createElement(s),s==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,s),e[Xt]=t,e[ua]=r,Pf(e,t,!1,!1),t.stateNode=e;e:{switch(i=go(s,r),s){case"dialog":ve("cancel",e),ve("close",e),a=r;break;case"iframe":case"object":case"embed":ve("load",e),a=r;break;case"video":case"audio":for(a=0;a<$r.length;a++)ve($r[a],e);a=r;break;case"source":ve("error",e),a=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),a=r;break;case"details":ve("toggle",e),a=r;break;case"input":Ld(e,r),a=uo(e,r),ve("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=ke({},r,{value:void 0}),ve("invalid",e);break;case"textarea":qd(e,r),a=fo(e,r),ve("invalid",e);break;default:a=r}xo(s,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?lp(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rp(e,c)):l==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&na(e,c):typeof c=="number"&&na(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ta.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ve("scroll",e):c!=null&&Ec(e,l,c,i))}switch(s){case"input":Ua(e),_d(e,r,!1);break;case"textarea":Ua(e),Bd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Hs(e,!!r.multiple,l,!1):r.defaultValue!=null&&Hs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Al)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)Af(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(s=ls(pa.current),ls(tn.current),Ja(t)){if(r=t.stateNode,s=t.memoizedProps,r[Xt]=t,(l=r.nodeValue!==s)&&(e=jt,e!==null))switch(e.tag){case 3:Ga(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ga(r.nodeValue,s,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Xt]=t,t.stateNode=r}return He(t),null;case 13:if(be(we),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&bt!==null&&t.mode&1&&!(t.flags&128))Wp(),fr(),t.flags|=98560,l=!1;else if(l=Ja(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error($(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error($(317));l[Xt]=t}else fr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),l=!1}else Bt!==null&&(Yo(Bt),Bt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?qe===0&&(qe=3):cd())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return xr(),$o(e,t),e===null&&ca(t.stateNode.containerInfo),He(t),null;case 10:return Kc(t.type._context),He(t),null;case 17:return mt(t.type)&&Dl(),He(t),null;case 19:if(be(we),l=t.memoizedState,l===null)return He(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)Mr(l,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=_l(e),i!==null){for(t.flags|=128,Mr(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)l=s,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ye(we,we.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ae()>yr&&(t.flags|=128,r=!0,Mr(l,!1),t.lanes=4194304)}else{if(!r)if(e=_l(i),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Mr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!je)return He(t),null}else 2*Ae()-l.renderingStartTime>yr&&s!==1073741824&&(t.flags|=128,r=!0,Mr(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(s=l.last,s!==null?s.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ae(),t.sibling=null,s=we.current,ye(we,r?s&1|2:s&1),t):(He(t),null);case 22:case 23:return od(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vt&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function d0(e,t){switch(zc(t),t.tag){case 1:return mt(t.type)&&Dl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xr(),be(ut),be(Ye),Yc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jc(t),null;case 13:if(be(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));fr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(we),null;case 4:return xr(),null;case 10:return Kc(t.type._context),null;case 22:case 23:return od(),null;case 24:return null;default:return null}}var Za=!1,Ge=!1,u0=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ks(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){Pe(e,t,r)}else s.current=null}function Vo(e,t,s){try{s()}catch(r){Pe(e,t,r)}}var Ru=!1;function m0(e,t){if(Eo=El,e=Ip(),Bc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var i=0,o=-1,c=-1,d=0,f=0,p=e,m=null;t:for(;;){for(var v;p!==s||a!==0&&p.nodeType!==3||(o=i+a),p!==l||r!==0&&p.nodeType!==3||(c=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===e)break t;if(m===s&&++d===a&&(o=i),m===l&&++f===r&&(c=i),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Po={focusedElem:e,selectionRange:s},El=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,w=y.memoizedState,u=t.stateNode,h=u.getSnapshotBeforeUpdate(t.elementType===t.type?b:Mt(t.type,b),w);u.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(x){Pe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return y=Ru,Ru=!1,y}function Xr(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Vo(t,s,l)}a=a.next}while(a!==r)}}function li(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function Qo(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Df(e){var t=e.alternate;t!==null&&(e.alternate=null,Df(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xt],delete t[ua],delete t[Do],delete t[Hg],delete t[Gg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ff(e){return e.tag===5||e.tag===3||e.tag===4}function Au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ff(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ko(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Al));else if(r!==4&&(e=e.child,e!==null))for(Ko(e,t,s),e=e.sibling;e!==null;)Ko(e,t,s),e=e.sibling}function Wo(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wo(e,t,s),e=e.sibling;e!==null;)Wo(e,t,s),e=e.sibling}var Ve=null,qt=!1;function jn(e,t,s){for(s=s.child;s!==null;)Of(e,t,s),s=s.sibling}function Of(e,t,s){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Xl,s)}catch{}switch(s.tag){case 5:Ge||Ks(s,t);case 6:var r=Ve,a=qt;Ve=null,jn(e,t,s),Ve=r,qt=a,Ve!==null&&(qt?(e=Ve,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ve.removeChild(s.stateNode));break;case 18:Ve!==null&&(qt?(e=Ve,s=s.stateNode,e.nodeType===8?_i(e.parentNode,s):e.nodeType===1&&_i(e,s),la(e)):_i(Ve,s.stateNode));break;case 4:r=Ve,a=qt,Ve=s.stateNode.containerInfo,qt=!0,jn(e,t,s),Ve=r,qt=a;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Vo(s,t,i),a=a.next}while(a!==r)}jn(e,t,s);break;case 1:if(!Ge&&(Ks(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(o){Pe(s,t,o)}jn(e,t,s);break;case 21:jn(e,t,s);break;case 22:s.mode&1?(Ge=(r=Ge)||s.memoizedState!==null,jn(e,t,s),Ge=r):jn(e,t,s);break;default:jn(e,t,s)}}function Du(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new u0),t.forEach(function(r){var a=j0.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function Tt(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ve=o.stateNode,qt=!1;break e;case 3:Ve=o.stateNode.containerInfo,qt=!0;break e;case 4:Ve=o.stateNode.containerInfo,qt=!0;break e}o=o.return}if(Ve===null)throw Error($(160));Of(l,i,a),Ve=null,qt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Pe(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)If(t,e),t=t.sibling}function If(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Kt(e),r&4){try{Xr(3,e,e.return),li(3,e)}catch(b){Pe(e,e.return,b)}try{Xr(5,e,e.return)}catch(b){Pe(e,e.return,b)}}break;case 1:Tt(t,e),Kt(e),r&512&&s!==null&&Ks(s,s.return);break;case 5:if(Tt(t,e),Kt(e),r&512&&s!==null&&Ks(s,s.return),e.flags&32){var a=e.stateNode;try{na(a,"")}catch(b){Pe(e,e.return,b)}}if(r&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=s!==null?s.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&tp(a,l),go(o,i);var d=go(o,l);for(i=0;i<c.length;i+=2){var f=c[i],p=c[i+1];f==="style"?lp(a,p):f==="dangerouslySetInnerHTML"?rp(a,p):f==="children"?na(a,p):Ec(a,f,p,d)}switch(o){case"input":mo(a,l);break;case"textarea":np(a,l);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?Hs(a,!!l.multiple,v,!1):m!==!!l.multiple&&(l.defaultValue!=null?Hs(a,!!l.multiple,l.defaultValue,!0):Hs(a,!!l.multiple,l.multiple?[]:"",!1))}a[ua]=l}catch(b){Pe(e,e.return,b)}}break;case 6:if(Tt(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error($(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(b){Pe(e,e.return,b)}}break;case 3:if(Tt(t,e),Kt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{la(t.containerInfo)}catch(b){Pe(e,e.return,b)}break;case 4:Tt(t,e),Kt(e);break;case 13:Tt(t,e),Kt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(ld=Ae())),r&4&&Du(e);break;case 22:if(f=s!==null&&s.memoizedState!==null,e.mode&1?(Ge=(d=Ge)||f,Tt(t,e),Ge=d):Tt(t,e),Kt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(J=e,f=e.child;f!==null;){for(p=J=f;J!==null;){switch(m=J,v=m.child,m.tag){case 0:case 11:case 14:case 15:Xr(4,m,m.return);break;case 1:Ks(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,s=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Pe(r,s,b)}}break;case 5:Ks(m,m.return);break;case 22:if(m.memoizedState!==null){Ou(p);continue}}v!==null?(v.return=m,J=v):Ou(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{a=p.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=ap("display",i))}catch(b){Pe(e,e.return,b)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(b){Pe(e,e.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Tt(t,e),Kt(e),r&4&&Du(e);break;case 21:break;default:Tt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Ff(s)){var r=s;break e}s=s.return}throw Error($(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(na(a,""),r.flags&=-33);var l=Au(e);Wo(e,l,a);break;case 3:case 4:var i=r.stateNode.containerInfo,o=Au(e);Ko(e,o,i);break;default:throw Error($(161))}}catch(c){Pe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p0(e,t,s){J=e,Tf(e)}function Tf(e,t,s){for(var r=(e.mode&1)!==0;J!==null;){var a=J,l=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||Za;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Ge;o=Za;var d=Ge;if(Za=i,(Ge=c)&&!d)for(J=a;J!==null;)i=J,c=i.child,i.tag===22&&i.memoizedState!==null?Iu(a):c!==null?(c.return=i,J=c):Iu(a);for(;l!==null;)J=l,Tf(l),l=l.sibling;J=a,Za=o,Ge=d}Fu(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,J=l):Fu(e)}}function Fu(e){for(;J!==null;){var t=J;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||li(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:Mt(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&xu(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}xu(t,i,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&la(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ge||t.flags&512&&Qo(t)}catch(m){Pe(t,t.return,m)}}if(t===e){J=null;break}if(s=t.sibling,s!==null){s.return=t.return,J=s;break}J=t.return}}function Ou(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}function Iu(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{li(4,t)}catch(c){Pe(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Pe(t,a,c)}}var l=t.return;try{Qo(t)}catch(c){Pe(t,l,c)}break;case 5:var i=t.return;try{Qo(t)}catch(c){Pe(t,i,c)}}}catch(c){Pe(t,t.return,c)}if(t===e){J=null;break}var o=t.sibling;if(o!==null){o.return=t.return,J=o;break}J=t.return}}var f0=Math.ceil,Ul=yn.ReactCurrentDispatcher,rd=yn.ReactCurrentOwner,Dt=yn.ReactCurrentBatchConfig,ue=0,$e=null,Ie=null,Qe=0,vt=0,Ws=Zn(0),qe=0,ga=null,ks=0,ii=0,ad=0,Zr=null,ct=null,ld=0,yr=1/0,sn=null,zl=!1,Ho=null,Vn=null,el=!1,Ln=null,$l=0,ea=0,Go=null,pl=-1,fl=0;function rt(){return ue&6?Ae():pl!==-1?pl:pl=Ae()}function Qn(e){return e.mode&1?ue&2&&Qe!==0?Qe&-Qe:Yg.transition!==null?(fl===0&&(fl=yp()),fl):(e=he,e!==0||(e=window.event,e=e===void 0?16:kp(e.type)),e):1}function zt(e,t,s,r){if(50<ea)throw ea=0,Go=null,Error($(185));Ea(e,s,r),(!(ue&2)||e!==$e)&&(e===$e&&(!(ue&2)&&(ii|=s),qe===4&&Cn(e,Qe)),pt(e,r),s===1&&ue===0&&!(t.mode&1)&&(yr=Ae()+500,si&&es()))}function pt(e,t){var s=e.callbackNode;Yx(e,t);var r=Cl(e,e===$e?Qe:0);if(r===0)s!==null&&$d(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&$d(s),t===1)e.tag===0?Jg(Tu.bind(null,e)):Vp(Tu.bind(null,e)),Kg(function(){!(ue&6)&&es()}),s=null;else{switch(vp(r)){case 1:s=Fc;break;case 4:s=xp;break;case 16:s=kl;break;case 536870912:s=gp;break;default:s=kl}s=$f(s,Mf.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Mf(e,t){if(pl=-1,fl=0,ue&6)throw Error($(327));var s=e.callbackNode;if(Zs()&&e.callbackNode!==s)return null;var r=Cl(e,e===$e?Qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vl(e,r);else{t=r;var a=ue;ue|=2;var l=_f();($e!==e||Qe!==t)&&(sn=null,yr=Ae()+500,vs(e,t));do try{g0();break}catch(o){Lf(e,o)}while(!0);Qc(),Ul.current=l,ue=a,Ie!==null?t=0:($e=null,Qe=0,t=qe)}if(t!==0){if(t===2&&(a=No(e),a!==0&&(r=a,t=Jo(e,a))),t===1)throw s=ga,vs(e,0),Cn(e,r),pt(e,Ae()),s;if(t===6)Cn(e,r);else{if(a=e.current.alternate,!(r&30)&&!h0(a)&&(t=Vl(e,r),t===2&&(l=No(e),l!==0&&(r=l,t=Jo(e,l))),t===1))throw s=ga,vs(e,0),Cn(e,r),pt(e,Ae()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:ss(e,ct,sn);break;case 3:if(Cn(e,r),(r&130023424)===r&&(t=ld+500-Ae(),10<t)){if(Cl(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){rt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ao(ss.bind(null,e,ct,sn),t);break}ss(e,ct,sn);break;case 4:if(Cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-Ut(r);l=1<<i,i=t[i],i>a&&(a=i),r&=~l}if(r=a,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f0(r/1960))-r,10<r){e.timeoutHandle=Ao(ss.bind(null,e,ct,sn),r);break}ss(e,ct,sn);break;case 5:ss(e,ct,sn);break;default:throw Error($(329))}}}return pt(e,Ae()),e.callbackNode===s?Mf.bind(null,e):null}function Jo(e,t){var s=Zr;return e.current.memoizedState.isDehydrated&&(vs(e,t).flags|=256),e=Vl(e,t),e!==2&&(t=ct,ct=s,t!==null&&Yo(t)),e}function Yo(e){ct===null?ct=e:ct.push.apply(ct,e)}function h0(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],l=a.getSnapshot;a=a.value;try{if(!$t(l(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t){for(t&=~ad,t&=~ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Ut(t),r=1<<s;e[s]=-1,t&=~r}}function Tu(e){if(ue&6)throw Error($(327));Zs();var t=Cl(e,0);if(!(t&1))return pt(e,Ae()),null;var s=Vl(e,t);if(e.tag!==0&&s===2){var r=No(e);r!==0&&(t=r,s=Jo(e,r))}if(s===1)throw s=ga,vs(e,0),Cn(e,t),pt(e,Ae()),s;if(s===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ss(e,ct,sn),pt(e,Ae()),null}function id(e,t){var s=ue;ue|=1;try{return e(t)}finally{ue=s,ue===0&&(yr=Ae()+500,si&&es())}}function Cs(e){Ln!==null&&Ln.tag===0&&!(ue&6)&&Zs();var t=ue;ue|=1;var s=Dt.transition,r=he;try{if(Dt.transition=null,he=1,e)return e()}finally{he=r,Dt.transition=s,ue=t,!(ue&6)&&es()}}function od(){vt=Ws.current,be(Ws)}function vs(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Qg(s)),Ie!==null)for(s=Ie.return;s!==null;){var r=s;switch(zc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dl();break;case 3:xr(),be(ut),be(Ye),Yc();break;case 5:Jc(r);break;case 4:xr();break;case 13:be(we);break;case 19:be(we);break;case 10:Kc(r.type._context);break;case 22:case 23:od()}s=s.return}if($e=e,Ie=e=Kn(e.current,null),Qe=vt=t,qe=0,ga=null,ad=ii=ks=0,ct=Zr=null,as!==null){for(t=0;t<as.length;t++)if(s=as[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,l=s.pending;if(l!==null){var i=l.next;l.next=a,r.next=i}s.pending=r}as=null}return e}function Lf(e,t){do{var s=Ie;try{if(Qc(),dl.current=Bl,ql){for(var r=Se.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}ql=!1}if(Ss=0,ze=Le=Se=null,Yr=!1,fa=0,rd.current=null,s===null||s.return===null){qe=1,ga=t,Ie=null;break}e:{var l=e,i=s.return,o=s,c=t;if(t=Qe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=o,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Nu(i);if(v!==null){v.flags&=-257,wu(v,i,o,l,t),v.mode&1&&ju(l,d,t),t=v,c=d;var y=t.updateQueue;if(y===null){var b=new Set;b.add(c),t.updateQueue=b}else y.add(c);break e}else{if(!(t&1)){ju(l,d,t),cd();break e}c=Error($(426))}}else if(je&&o.mode&1){var w=Nu(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),wu(w,i,o,l,t),$c(gr(c,o));break e}}l=c=gr(c,o),qe!==4&&(qe=2),Zr===null?Zr=[l]:Zr.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var u=bf(l,c,t);hu(l,u);break e;case 1:o=c;var h=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Vn===null||!Vn.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var x=jf(l,o,t);hu(l,x);break e}}l=l.return}while(l!==null)}Bf(s)}catch(j){t=j,Ie===s&&s!==null&&(Ie=s=s.return);continue}break}while(!0)}function _f(){var e=Ul.current;return Ul.current=Bl,e===null?Bl:e}function cd(){(qe===0||qe===3||qe===2)&&(qe=4),$e===null||!(ks&268435455)&&!(ii&268435455)||Cn($e,Qe)}function Vl(e,t){var s=ue;ue|=2;var r=_f();($e!==e||Qe!==t)&&(sn=null,vs(e,t));do try{x0();break}catch(a){Lf(e,a)}while(!0);if(Qc(),ue=s,Ul.current=r,Ie!==null)throw Error($(261));return $e=null,Qe=0,qe}function x0(){for(;Ie!==null;)qf(Ie)}function g0(){for(;Ie!==null&&!zx();)qf(Ie)}function qf(e){var t=zf(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Bf(e):Ie=t,rd.current=null}function Bf(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=d0(s,t),s!==null){s.flags&=32767,Ie=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Ie=null;return}}else if(s=c0(s,t,vt),s!==null){Ie=s;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);qe===0&&(qe=5)}function ss(e,t,s){var r=he,a=Dt.transition;try{Dt.transition=null,he=1,y0(e,t,s,r)}finally{Dt.transition=a,he=r}return null}function y0(e,t,s,r){do Zs();while(Ln!==null);if(ue&6)throw Error($(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(Xx(e,l),e===$e&&(Ie=$e=null,Qe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||el||(el=!0,$f(kl,function(){return Zs(),null})),l=(s.flags&15990)!==0,s.subtreeFlags&15990||l){l=Dt.transition,Dt.transition=null;var i=he;he=1;var o=ue;ue|=4,rd.current=null,m0(e,s),If(s,e),_g(Po),El=!!Eo,Po=Eo=null,e.current=s,p0(s),$x(),ue=o,he=i,Dt.transition=l}else e.current=s;if(el&&(el=!1,Ln=e,$l=a),l=e.pendingLanes,l===0&&(Vn=null),Kx(s.stateNode),pt(e,Ae()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(zl)throw zl=!1,e=Ho,Ho=null,e;return $l&1&&e.tag!==0&&Zs(),l=e.pendingLanes,l&1?e===Go?ea++:(ea=0,Go=e):ea=0,es(),null}function Zs(){if(Ln!==null){var e=vp($l),t=Dt.transition,s=he;try{if(Dt.transition=null,he=16>e?16:e,Ln===null)var r=!1;else{if(e=Ln,Ln=null,$l=0,ue&6)throw Error($(331));var a=ue;for(ue|=4,J=e.current;J!==null;){var l=J,i=l.child;if(J.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(J=d;J!==null;){var f=J;switch(f.tag){case 0:case 11:case 15:Xr(8,f,l)}var p=f.child;if(p!==null)p.return=f,J=p;else for(;J!==null;){f=J;var m=f.sibling,v=f.return;if(Df(f),f===d){J=null;break}if(m!==null){m.return=v,J=m;break}J=v}}}var y=l.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}J=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,J=i;else e:for(;J!==null;){if(l=J,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Xr(9,l,l.return)}var u=l.sibling;if(u!==null){u.return=l.return,J=u;break e}J=l.return}}var h=e.current;for(J=h;J!==null;){i=J;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,J=g;else e:for(i=h;J!==null;){if(o=J,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:li(9,o)}}catch(j){Pe(o,o.return,j)}if(o===i){J=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,J=x;break e}J=o.return}}if(ue=a,es(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Xl,e)}catch{}r=!0}return r}finally{he=s,Dt.transition=t}}return!1}function Mu(e,t,s){t=gr(s,t),t=bf(e,t,1),e=$n(e,t,1),t=rt(),e!==null&&(Ea(e,1,t),pt(e,t))}function Pe(e,t,s){if(e.tag===3)Mu(e,e,s);else for(;t!==null;){if(t.tag===3){Mu(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vn===null||!Vn.has(r))){e=gr(s,e),e=jf(t,e,1),t=$n(t,e,1),e=rt(),t!==null&&(Ea(t,1,e),pt(t,e));break}}t=t.return}}function v0(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&s,$e===e&&(Qe&s)===s&&(qe===4||qe===3&&(Qe&130023424)===Qe&&500>Ae()-ld?vs(e,0):ad|=s),pt(e,t)}function Uf(e,t){t===0&&(e.mode&1?(t=Va,Va<<=1,!(Va&130023424)&&(Va=4194304)):t=1);var s=rt();e=xn(e,t),e!==null&&(Ea(e,t,s),pt(e,s))}function b0(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Uf(e,s)}function j0(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),Uf(e,s)}var zf;zf=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)dt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return dt=!1,o0(e,t,s);dt=!!(e.flags&131072)}else dt=!1,je&&t.flags&1048576&&Qp(t,Il,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ml(e,t),e=t.pendingProps;var a=pr(t,Ye.current);Xs(t,s),a=Zc(null,t,r,e,a,s);var l=ed();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(r)?(l=!0,Fl(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Hc(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,Lo(t,r,e,s),t=Bo(null,t,r,!0,l,s)):(t.tag=0,je&&l&&Uc(t),tt(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(ml(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=w0(r),e=Mt(r,e),a){case 0:t=qo(null,t,r,e,s);break e;case 1:t=Cu(null,t,r,e,s);break e;case 11:t=Su(null,t,r,e,s);break e;case 14:t=ku(null,t,r,Mt(r.type,e),s);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Mt(r,a),qo(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Mt(r,a),Cu(e,t,r,a,s);case 3:e:{if(kf(t),e===null)throw Error($(387));r=t.pendingProps,l=t.memoizedState,a=l.element,Yp(e,t),Ll(t,r,null,s);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=gr(Error($(423)),t),t=Eu(e,t,r,s,a);break e}else if(r!==a){a=gr(Error($(424)),t),t=Eu(e,t,r,s,a);break e}else for(bt=zn(t.stateNode.containerInfo.firstChild),jt=t,je=!0,Bt=null,s=Gp(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(fr(),r===a){t=gn(e,t,s);break e}tt(e,t,r,s)}t=t.child}return t;case 5:return Xp(t),e===null&&Io(t),r=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Ro(r,a)?i=null:l!==null&&Ro(r,l)&&(t.flags|=32),Sf(e,t),tt(e,t,i,s),t.child;case 6:return e===null&&Io(t),null;case 13:return Cf(e,t,s);case 4:return Gc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hr(t,null,r,s):tt(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Mt(r,a),Su(e,t,r,a,s);case 7:return tt(e,t,t.pendingProps,s),t.child;case 8:return tt(e,t,t.pendingProps.children,s),t.child;case 12:return tt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ye(Tl,r._currentValue),r._currentValue=i,l!==null)if($t(l.value,i)){if(l.children===a.children&&!ut.current){t=gn(e,t,s);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=mn(-1,s&-s),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}l.lanes|=s,c=l.alternate,c!==null&&(c.lanes|=s),To(l.return,s,t),o.lanes|=s;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error($(341));i.lanes|=s,o=i.alternate,o!==null&&(o.lanes|=s),To(i,s,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}tt(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Xs(t,s),a=Ft(a),r=r(a),t.flags|=1,tt(e,t,r,s),t.child;case 14:return r=t.type,a=Mt(r,t.pendingProps),a=Mt(r.type,a),ku(e,t,r,a,s);case 15:return Nf(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Mt(r,a),ml(e,t),t.tag=1,mt(r)?(e=!0,Fl(t)):e=!1,Xs(t,s),vf(t,r,a),Lo(t,r,a,s),Bo(null,t,r,!0,e,s);case 19:return Ef(e,t,s);case 22:return wf(e,t,s)}throw Error($(156,t.tag))};function $f(e,t){return hp(e,t)}function N0(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,s,r){return new N0(e,t,s,r)}function dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w0(e){if(typeof e=="function")return dd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rc)return 11;if(e===Ac)return 14}return 2}function Kn(e,t){var s=e.alternate;return s===null?(s=At(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function hl(e,t,s,r,a,l){var i=2;if(r=e,typeof e=="function")dd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ls:return bs(s.children,a,l,t);case Pc:i=8,a|=8;break;case lo:return e=At(12,s,t,a|2),e.elementType=lo,e.lanes=l,e;case io:return e=At(13,s,t,a),e.elementType=io,e.lanes=l,e;case oo:return e=At(19,s,t,a),e.elementType=oo,e.lanes=l,e;case Xm:return oi(s,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jm:i=10;break e;case Ym:i=9;break e;case Rc:i=11;break e;case Ac:i=14;break e;case wn:i=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=At(i,s,t,a),t.elementType=e,t.type=r,t.lanes=l,t}function bs(e,t,s,r){return e=At(7,e,r,t),e.lanes=s,e}function oi(e,t,s,r){return e=At(22,e,r,t),e.elementType=Xm,e.lanes=s,e.stateNode={isHidden:!1},e}function Ki(e,t,s){return e=At(6,e,null,t),e.lanes=s,e}function Wi(e,t,s){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function S0(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ud(e,t,s,r,a,l,i,o,c){return e=new S0(e,t,s,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=At(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hc(l),e}function k0(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ms,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function Vf(e){if(!e)return Yn;e=e._reactInternals;e:{if(Ds(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var s=e.type;if(mt(s))return $p(e,s,t)}return t}function Qf(e,t,s,r,a,l,i,o,c){return e=ud(s,r,!0,e,a,l,i,o,c),e.context=Vf(null),s=e.current,r=rt(),a=Qn(s),l=mn(r,a),l.callback=t??null,$n(s,l,a),e.current.lanes=a,Ea(e,a,r),pt(e,r),e}function ci(e,t,s,r){var a=t.current,l=rt(),i=Qn(a);return s=Vf(s),t.context===null?t.context=s:t.pendingContext=s,t=mn(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$n(a,t,i),e!==null&&(zt(e,a,i,l),cl(e,a,i)),i}function Ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function md(e,t){Lu(e,t),(e=e.alternate)&&Lu(e,t)}function C0(){return null}var Kf=typeof reportError=="function"?reportError:function(e){console.error(e)};function pd(e){this._internalRoot=e}di.prototype.render=pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));ci(e,t,null,null)};di.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cs(function(){ci(null,e,null,null)}),t[hn]=null}};function di(e){this._internalRoot=e}di.prototype.unstable_scheduleHydration=function(e){if(e){var t=Np();e={blockedOn:null,target:e,priority:t};for(var s=0;s<kn.length&&t!==0&&t<kn[s].priority;s++);kn.splice(s,0,e),s===0&&Sp(e)}};function fd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _u(){}function E0(e,t,s,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var d=Ql(i);l.call(d)}}var i=Qf(t,r,e,0,null,!1,!1,"",_u);return e._reactRootContainer=i,e[hn]=i.current,ca(e.nodeType===8?e.parentNode:e),Cs(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var d=Ql(c);o.call(d)}}var c=ud(e,0,!1,null,null,!1,!1,"",_u);return e._reactRootContainer=c,e[hn]=c.current,ca(e.nodeType===8?e.parentNode:e),Cs(function(){ci(t,c,s,r)}),c}function mi(e,t,s,r,a){var l=s._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=Ql(i);o.call(c)}}ci(t,i,e,a)}else i=E0(s,t,e,a,r);return Ql(i)}bp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=zr(t.pendingLanes);s!==0&&(Oc(t,s|1),pt(t,Ae()),!(ue&6)&&(yr=Ae()+500,es()))}break;case 13:Cs(function(){var r=xn(e,1);if(r!==null){var a=rt();zt(r,e,1,a)}}),md(e,1)}};Ic=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var s=rt();zt(t,e,134217728,s)}md(e,134217728)}};jp=function(e){if(e.tag===13){var t=Qn(e),s=xn(e,t);if(s!==null){var r=rt();zt(s,e,t,r)}md(e,t)}};Np=function(){return he};wp=function(e,t){var s=he;try{return he=e,t()}finally{he=s}};vo=function(e,t,s){switch(t){case"input":if(mo(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=ni(r);if(!a)throw Error($(90));ep(r),mo(r,a)}}}break;case"textarea":np(e,s);break;case"select":t=s.value,t!=null&&Hs(e,!!s.multiple,t,!1)}};cp=id;dp=Cs;var P0={usingClientEntryPoint:!1,Events:[Ra,Us,ni,ip,op,id]},Lr={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R0={bundleType:Lr.bundleType,version:Lr.version,rendererPackageName:Lr.rendererPackageName,rendererConfig:Lr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pp(e),e===null?null:e.stateNode},findFiberByHostInstance:Lr.findFiberByHostInstance||C0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Xl=tl.inject(R0),en=tl}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P0;wt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fd(t))throw Error($(200));return k0(e,t,null,s)};wt.createRoot=function(e,t){if(!fd(e))throw Error($(299));var s=!1,r="",a=Kf;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ud(e,1,!1,null,null,s,!1,r,a),e[hn]=t.current,ca(e.nodeType===8?e.parentNode:e),new pd(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=pp(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return Cs(e)};wt.hydrate=function(e,t,s){if(!ui(t))throw Error($(200));return mi(null,e,t,!0,s)};wt.hydrateRoot=function(e,t,s){if(!fd(e))throw Error($(405));var r=s!=null&&s.hydratedSources||null,a=!1,l="",i=Kf;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=Qf(t,null,e,1,s??null,a,!1,l,i),e[hn]=t.current,ca(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new di(t)};wt.render=function(e,t,s){if(!ui(t))throw Error($(200));return mi(null,e,t,!1,s)};wt.unmountComponentAtNode=function(e){if(!ui(e))throw Error($(40));return e._reactRootContainer?(Cs(function(){mi(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};wt.unstable_batchedUpdates=id;wt.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!ui(s))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return mi(e,t,s,!1,r)};wt.version="18.3.1-next-f1338f8080-20240426";function Wf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wf)}catch(e){console.error(e)}}Wf(),Km.exports=wt;var A0=Km.exports,qu=A0;ro.createRoot=qu.createRoot,ro.hydrateRoot=qu.hydrateRoot;var wr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},D0={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},En,bc,Sm,F0=(Sm=class{constructor(){Z(this,En,D0);Z(this,bc,!1)}setTimeoutProvider(e){H(this,En,e)}setTimeout(e,t){return S(this,En).setTimeout(e,t)}clearTimeout(e){S(this,En).clearTimeout(e)}setInterval(e,t){return S(this,En).setInterval(e,t)}clearInterval(e){S(this,En).clearInterval(e)}},En=new WeakMap,bc=new WeakMap,Sm),is=new F0;function O0(e){setTimeout(e,0)}var Es=typeof window>"u"||"Deno"in globalThis;function nt(){}function I0(e,t){return typeof e=="function"?e(t):e}function Xo(e){return typeof e=="number"&&e>=0&&e!==1/0}function Hf(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wn(e,t){return typeof e=="function"?e(t):e}function Et(e,t){return typeof e=="function"?e(t):e}function Bu(e,t){const{type:s="all",exact:r,fetchStatus:a,predicate:l,queryKey:i,stale:o}=e;if(i){if(r){if(t.queryHash!==hd(i,t.options))return!1}else if(!ya(t.queryKey,i))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||l&&!l(t))}function Uu(e,t){const{exact:s,status:r,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(s){if(Ps(t.options.mutationKey)!==Ps(l))return!1}else if(!ya(t.options.mutationKey,l))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function hd(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ps)(e)}function Ps(e){return JSON.stringify(e,(t,s)=>Zo(s)?Object.keys(s).sort().reduce((r,a)=>(r[a]=s[a],r),{}):s)}function ya(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>ya(e[s],t[s])):!1}var T0=Object.prototype.hasOwnProperty;function Gf(e,t){if(e===t)return e;const s=zu(e)&&zu(t);if(!s&&!(Zo(e)&&Zo(t)))return t;const a=(s?e:Object.keys(e)).length,l=s?t:Object.keys(t),i=l.length,o=s?new Array(i):{};let c=0;for(let d=0;d<i;d++){const f=s?d:l[d],p=e[f],m=t[f];if(p===m){o[f]=p,(s?d<a:T0.call(e,f))&&c++;continue}if(p===null||m===null||typeof p!="object"||typeof m!="object"){o[f]=m;continue}const v=Gf(p,m);o[f]=v,v===p&&c++}return a===i&&c===a?e:o}function Kl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function zu(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Zo(e){if(!$u(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!$u(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function $u(e){return Object.prototype.toString.call(e)==="[object Object]"}function M0(e){return new Promise(t=>{is.setTimeout(t,e)})}function ec(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?Gf(e,t):t}function L0(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function _0(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var xd=Symbol();function Jf(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===xd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Yf(e,t){return typeof e=="function"?e(...t):!!e}var ds,Pn,er,km,q0=(km=class extends wr{constructor(){super();Z(this,ds);Z(this,Pn);Z(this,er);H(this,er,t=>{if(!Es&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){S(this,Pn)||this.setEventListener(S(this,er))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Pn))==null||t.call(this),H(this,Pn,void 0))}setEventListener(t){var s;H(this,er,t),(s=S(this,Pn))==null||s.call(this),H(this,Pn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){S(this,ds)!==t&&(H(this,ds,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof S(this,ds)=="boolean"?S(this,ds):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ds=new WeakMap,Pn=new WeakMap,er=new WeakMap,km),gd=new q0;function tc(){let e,t;const s=new Promise((a,l)=>{e=a,t=l});s.status="pending",s.catch(()=>{});function r(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},s.reject=a=>{r({status:"rejected",reason:a}),t(a)},s}var B0=O0;function U0(){let e=[],t=0,s=o=>{o()},r=o=>{o()},a=B0;const l=o=>{t?e.push(o):a(()=>{s(o)})},i=()=>{const o=e;e=[],o.length&&a(()=>{r(()=>{o.forEach(c=>{s(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||i()}return c},batchCalls:o=>(...c)=>{l(()=>{o(...c)})},schedule:l,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{a=o}}}var _e=U0(),tr,Rn,nr,Cm,z0=(Cm=class extends wr{constructor(){super();Z(this,tr,!0);Z(this,Rn);Z(this,nr);H(this,nr,t=>{if(!Es&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,Rn)||this.setEventListener(S(this,nr))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Rn))==null||t.call(this),H(this,Rn,void 0))}setEventListener(t){var s;H(this,nr,t),(s=S(this,Rn))==null||s.call(this),H(this,Rn,t(this.setOnline.bind(this)))}setOnline(t){S(this,tr)!==t&&(H(this,tr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return S(this,tr)}},tr=new WeakMap,Rn=new WeakMap,nr=new WeakMap,Cm),Wl=new z0;function $0(e){return Math.min(1e3*2**e,3e4)}function Xf(e){return(e??"online")==="online"?Wl.isOnline():!0}var nc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zf(e){let t=!1,s=0,r;const a=tc(),l=()=>a.status!=="pending",i=b=>{var w;if(!l()){const u=new nc(b);m(u),(w=e.onCancel)==null||w.call(e,u)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>gd.isFocused()&&(e.networkMode==="always"||Wl.isOnline())&&e.canRun(),f=()=>Xf(e.networkMode)&&e.canRun(),p=b=>{l()||(r==null||r(),a.resolve(b))},m=b=>{l()||(r==null||r(),a.reject(b))},v=()=>new Promise(b=>{var w;r=u=>{(l()||d())&&b(u)},(w=e.onPause)==null||w.call(e)}).then(()=>{var b;r=void 0,l()||(b=e.onContinue)==null||b.call(e)}),y=()=>{if(l())return;let b;const w=s===0?e.initialPromise:void 0;try{b=w??e.fn()}catch(u){b=Promise.reject(u)}Promise.resolve(b).then(p).catch(u=>{var R;if(l())return;const h=e.retry??(Es?0:3),g=e.retryDelay??$0,x=typeof g=="function"?g(s,u):g,j=h===!0||typeof h=="number"&&s<h||typeof h=="function"&&h(s,u);if(t||!j){m(u);return}s++,(R=e.onFail)==null||R.call(e,s,u),M0(x).then(()=>d()?void 0:v()).then(()=>{t?m(u):y()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(r==null||r(),a),cancelRetry:o,continueRetry:c,canStart:f,start:()=>(f()?y():v().then(y),a)}}var us,Em,eh=(Em=class{constructor(){Z(this,us)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xo(this.gcTime)&&H(this,us,is.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Es?1/0:5*60*1e3))}clearGcTimeout(){S(this,us)&&(is.clearTimeout(S(this,us)),H(this,us,void 0))}},us=new WeakMap,Em),ms,sr,Ct,ps,Ue,ja,fs,Lt,nn,Pm,V0=(Pm=class extends eh{constructor(t){super();Z(this,Lt);Z(this,ms);Z(this,sr);Z(this,Ct);Z(this,ps);Z(this,Ue);Z(this,ja);Z(this,fs);H(this,fs,!1),H(this,ja,t.defaultOptions),this.setOptions(t.options),this.observers=[],H(this,ps,t.client),H(this,Ct,S(this,ps).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,H(this,ms,Qu(this.options)),this.state=t.state??S(this,ms),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,Ue))==null?void 0:t.promise}setOptions(t){if(this.options={...S(this,ja),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Qu(this.options);s.data!==void 0&&(this.setState(Vu(s.data,s.dataUpdatedAt)),H(this,ms,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Ct).remove(this)}setData(t,s){const r=ec(this.state.data,t,this.options);return le(this,Lt,nn).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){le(this,Lt,nn).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,a;const s=(r=S(this,Ue))==null?void 0:r.promise;return(a=S(this,Ue))==null||a.cancel(t),s?s.then(nt).catch(nt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,ms))}isActive(){return this.observers.some(t=>Et(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Hf(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=S(this,Ue))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=S(this,Ue))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,Ct).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(S(this,Ue)&&(S(this,fs)?S(this,Ue).cancel({revert:!0}):S(this,Ue).cancelRetry()),this.scheduleGc()),S(this,Ct).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,Lt,nn).call(this,{type:"invalidate"})}async fetch(t,s){var c,d,f,p,m,v,y,b,w,u,h,g;if(this.state.fetchStatus!=="idle"&&((c=S(this,Ue))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(S(this,Ue))return S(this,Ue).continueRetry(),S(this,Ue).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(j=>j.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,a=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(H(this,fs,!0),r.signal)})},l=()=>{const x=Jf(this.options,s),R=(()=>{const A={client:S(this,ps),queryKey:this.queryKey,meta:this.meta};return a(A),A})();return H(this,fs,!1),this.options.persister?this.options.persister(x,R,this):x(R)},o=(()=>{const x={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:S(this,ps),state:this.state,fetchFn:l};return a(x),x})();(d=this.options.behavior)==null||d.onFetch(o,this),H(this,sr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&le(this,Lt,nn).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta}),H(this,Ue,Zf({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,onCancel:x=>{x instanceof nc&&x.revert&&this.setState({...S(this,sr),fetchStatus:"idle"}),r.abort()},onFail:(x,j)=>{le(this,Lt,nn).call(this,{type:"failed",failureCount:x,error:j})},onPause:()=>{le(this,Lt,nn).call(this,{type:"pause"})},onContinue:()=>{le(this,Lt,nn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const x=await S(this,Ue).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(v=(m=S(this,Ct).config).onSuccess)==null||v.call(m,x,this),(b=(y=S(this,Ct).config).onSettled)==null||b.call(y,x,this.state.error,this),x}catch(x){if(x instanceof nc){if(x.silent)return S(this,Ue).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw le(this,Lt,nn).call(this,{type:"error",error:x}),(u=(w=S(this,Ct).config).onError)==null||u.call(w,x,this),(g=(h=S(this,Ct).config).onSettled)==null||g.call(h,this.state.data,x,this),x}finally{this.scheduleGc()}}},ms=new WeakMap,sr=new WeakMap,Ct=new WeakMap,ps=new WeakMap,Ue=new WeakMap,ja=new WeakMap,fs=new WeakMap,Lt=new WeakSet,nn=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...th(r.data,this.options),fetchMeta:t.meta??null};case"success":const a={...r,...Vu(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return H(this,sr,t.manual?a:void 0),a;case"error":const l=t.error;return{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),_e.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,Ct).notify({query:this,type:"updated",action:t})})},Pm);function th(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Xf(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Vu(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Qu(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var it,ce,Na,Ze,hs,rr,an,An,wa,ar,lr,xs,gs,Dn,ir,pe,Vr,sc,rc,ac,lc,ic,oc,cc,nh,Rm,Q0=(Rm=class extends wr{constructor(t,s){super();Z(this,pe);Z(this,it);Z(this,ce);Z(this,Na);Z(this,Ze);Z(this,hs);Z(this,rr);Z(this,an);Z(this,An);Z(this,wa);Z(this,ar);Z(this,lr);Z(this,xs);Z(this,gs);Z(this,Dn);Z(this,ir,new Set);this.options=s,H(this,it,t),H(this,An,null),H(this,an,tc()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,ce).addObserver(this),Ku(S(this,ce),this.options)?le(this,pe,Vr).call(this):this.updateResult(),le(this,pe,lc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dc(S(this,ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dc(S(this,ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,le(this,pe,ic).call(this),le(this,pe,oc).call(this),S(this,ce).removeObserver(this)}setOptions(t){const s=this.options,r=S(this,ce);if(this.options=S(this,it).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Et(this.options.enabled,S(this,ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");le(this,pe,cc).call(this),S(this,ce).setOptions(this.options),s._defaulted&&!Kl(this.options,s)&&S(this,it).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,ce),observer:this});const a=this.hasListeners();a&&Wu(S(this,ce),r,this.options,s)&&le(this,pe,Vr).call(this),this.updateResult(),a&&(S(this,ce)!==r||Et(this.options.enabled,S(this,ce))!==Et(s.enabled,S(this,ce))||Wn(this.options.staleTime,S(this,ce))!==Wn(s.staleTime,S(this,ce)))&&le(this,pe,sc).call(this);const l=le(this,pe,rc).call(this);a&&(S(this,ce)!==r||Et(this.options.enabled,S(this,ce))!==Et(s.enabled,S(this,ce))||l!==S(this,Dn))&&le(this,pe,ac).call(this,l)}getOptimisticResult(t){const s=S(this,it).getQueryCache().build(S(this,it),t),r=this.createResult(s,t);return W0(this,r)&&(H(this,Ze,r),H(this,rr,this.options),H(this,hs,S(this,ce).state)),r}getCurrentResult(){return S(this,Ze)}trackResult(t,s){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),s==null||s(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&S(this,an).status==="pending"&&S(this,an).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(t){S(this,ir).add(t)}getCurrentQuery(){return S(this,ce)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=S(this,it).defaultQueryOptions(t),r=S(this,it).getQueryCache().build(S(this,it),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return le(this,pe,Vr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,Ze)))}createResult(t,s){var _;const r=S(this,ce),a=this.options,l=S(this,Ze),i=S(this,hs),o=S(this,rr),d=t!==r?t.state:S(this,Na),{state:f}=t;let p={...f},m=!1,v;if(s._optimisticResults){const E=this.hasListeners(),T=!E&&Ku(t,s),F=E&&Wu(t,r,s,a);(T||F)&&(p={...p,...th(f.data,t.options)}),s._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:w}=p;v=p.data;let u=!1;if(s.placeholderData!==void 0&&v===void 0&&w==="pending"){let E;l!=null&&l.isPlaceholderData&&s.placeholderData===(o==null?void 0:o.placeholderData)?(E=l.data,u=!0):E=typeof s.placeholderData=="function"?s.placeholderData((_=S(this,lr))==null?void 0:_.state.data,S(this,lr)):s.placeholderData,E!==void 0&&(w="success",v=ec(l==null?void 0:l.data,E,s),m=!0)}if(s.select&&v!==void 0&&!u)if(l&&v===(i==null?void 0:i.data)&&s.select===S(this,wa))v=S(this,ar);else try{H(this,wa,s.select),v=s.select(v),v=ec(l==null?void 0:l.data,v,s),H(this,ar,v),H(this,An,null)}catch(E){H(this,An,E)}S(this,An)&&(y=S(this,An),v=S(this,ar),b=Date.now(),w="error");const h=p.fetchStatus==="fetching",g=w==="pending",x=w==="error",j=g&&h,R=v!==void 0,k={status:w,fetchStatus:p.fetchStatus,isPending:g,isSuccess:w==="success",isError:x,isInitialLoading:j,isLoading:j,data:v,dataUpdatedAt:p.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:h,isRefetching:h&&!g,isLoadingError:x&&!R,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:x&&R,isStale:yd(t,s),refetch:this.refetch,promise:S(this,an),isEnabled:Et(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=U=>{k.status==="error"?U.reject(k.error):k.data!==void 0&&U.resolve(k.data)},T=()=>{const U=H(this,an,k.promise=tc());E(U)},F=S(this,an);switch(F.status){case"pending":t.queryHash===r.queryHash&&E(F);break;case"fulfilled":(k.status==="error"||k.data!==F.value)&&T();break;case"rejected":(k.status!=="error"||k.error!==F.reason)&&T();break}}return k}updateResult(){const t=S(this,Ze),s=this.createResult(S(this,ce),this.options);if(H(this,hs,S(this,ce).state),H(this,rr,this.options),S(this,hs).data!==void 0&&H(this,lr,S(this,ce)),Kl(s,t))return;H(this,Ze,s);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!S(this,ir).size)return!0;const i=new Set(l??S(this,ir));return this.options.throwOnError&&i.add("error"),Object.keys(S(this,Ze)).some(o=>{const c=o;return S(this,Ze)[c]!==t[c]&&i.has(c)})};le(this,pe,nh).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&le(this,pe,lc).call(this)}},it=new WeakMap,ce=new WeakMap,Na=new WeakMap,Ze=new WeakMap,hs=new WeakMap,rr=new WeakMap,an=new WeakMap,An=new WeakMap,wa=new WeakMap,ar=new WeakMap,lr=new WeakMap,xs=new WeakMap,gs=new WeakMap,Dn=new WeakMap,ir=new WeakMap,pe=new WeakSet,Vr=function(t){le(this,pe,cc).call(this);let s=S(this,ce).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(nt)),s},sc=function(){le(this,pe,ic).call(this);const t=Wn(this.options.staleTime,S(this,ce));if(Es||S(this,Ze).isStale||!Xo(t))return;const r=Hf(S(this,Ze).dataUpdatedAt,t)+1;H(this,xs,is.setTimeout(()=>{S(this,Ze).isStale||this.updateResult()},r))},rc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,ce)):this.options.refetchInterval)??!1},ac=function(t){le(this,pe,oc).call(this),H(this,Dn,t),!(Es||Et(this.options.enabled,S(this,ce))===!1||!Xo(S(this,Dn))||S(this,Dn)===0)&&H(this,gs,is.setInterval(()=>{(this.options.refetchIntervalInBackground||gd.isFocused())&&le(this,pe,Vr).call(this)},S(this,Dn)))},lc=function(){le(this,pe,sc).call(this),le(this,pe,ac).call(this,le(this,pe,rc).call(this))},ic=function(){S(this,xs)&&(is.clearTimeout(S(this,xs)),H(this,xs,void 0))},oc=function(){S(this,gs)&&(is.clearInterval(S(this,gs)),H(this,gs,void 0))},cc=function(){const t=S(this,it).getQueryCache().build(S(this,it),this.options);if(t===S(this,ce))return;const s=S(this,ce);H(this,ce,t),H(this,Na,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},nh=function(t){_e.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(S(this,Ze))}),S(this,it).getQueryCache().notify({query:S(this,ce),type:"observerResultsUpdated"})})},Rm);function K0(e,t){return Et(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ku(e,t){return K0(e,t)||e.state.data!==void 0&&dc(e,t,t.refetchOnMount)}function dc(e,t,s){if(Et(t.enabled,e)!==!1&&Wn(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&yd(e,t)}return!1}function Wu(e,t,s,r){return(e!==t||Et(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&yd(e,s)}function yd(e,t){return Et(t.enabled,e)!==!1&&e.isStaleByTime(Wn(t.staleTime,e))}function W0(e,t){return!Kl(e.getCurrentResult(),t)}function Hu(e){return{onFetch:(t,s)=>{var f,p,m,v,y;const r=t.options,a=(m=(p=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,l=((v=t.state.data)==null?void 0:v.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let b=!1;const w=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},u=Jf(t.options,t.fetchOptions),h=async(g,x,j)=>{if(b)return Promise.reject();if(x==null&&g.pages.length)return Promise.resolve(g);const A=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:x,direction:j?"backward":"forward",meta:t.options.meta};return w(T),T})(),k=await u(A),{maxPages:_}=t.options,E=j?_0:L0;return{pages:E(g.pages,k,_),pageParams:E(g.pageParams,x,_)}};if(a&&l.length){const g=a==="backward",x=g?H0:Gu,j={pages:l,pageParams:i},R=x(r,j);o=await h(j,R,g)}else{const g=e??l.length;do{const x=c===0?i[0]??r.initialPageParam:Gu(r,o);if(c>0&&x==null)break;o=await h(o,x),c++}while(c<g)}return o};t.options.persister?t.fetchFn=()=>{var b,w;return(w=(b=t.options).persister)==null?void 0:w.call(b,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function Gu(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function H0(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var Sa,Gt,et,ys,Jt,Nn,Am,G0=(Am=class extends eh{constructor(t){super();Z(this,Jt);Z(this,Sa);Z(this,Gt);Z(this,et);Z(this,ys);H(this,Sa,t.client),this.mutationId=t.mutationId,H(this,et,t.mutationCache),H(this,Gt,[]),this.state=t.state||sh(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,Gt).includes(t)||(S(this,Gt).push(t),this.clearGcTimeout(),S(this,et).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){H(this,Gt,S(this,Gt).filter(s=>s!==t)),this.scheduleGc(),S(this,et).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,Gt).length||(this.state.status==="pending"?this.scheduleGc():S(this,et).remove(this))}continue(){var t;return((t=S(this,ys))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,c,d,f,p,m,v,y,b,w,u,h,g,x,j,R,A,k,_;const s=()=>{le(this,Jt,Nn).call(this,{type:"continue"})},r={client:S(this,Sa),meta:this.options.meta,mutationKey:this.options.mutationKey};H(this,ys,Zf({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(E,T)=>{le(this,Jt,Nn).call(this,{type:"failed",failureCount:E,error:T})},onPause:()=>{le(this,Jt,Nn).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,et).canRun(this)}));const a=this.state.status==="pending",l=!S(this,ys).canStart();try{if(a)s();else{le(this,Jt,Nn).call(this,{type:"pending",variables:t,isPaused:l}),await((o=(i=S(this,et).config).onMutate)==null?void 0:o.call(i,t,this,r));const T=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,r));T!==this.state.context&&le(this,Jt,Nn).call(this,{type:"pending",context:T,variables:t,isPaused:l})}const E=await S(this,ys).start();return await((p=(f=S(this,et).config).onSuccess)==null?void 0:p.call(f,E,t,this.state.context,this,r)),await((v=(m=this.options).onSuccess)==null?void 0:v.call(m,E,t,this.state.context,r)),await((b=(y=S(this,et).config).onSettled)==null?void 0:b.call(y,E,null,this.state.variables,this.state.context,this,r)),await((u=(w=this.options).onSettled)==null?void 0:u.call(w,E,null,t,this.state.context,r)),le(this,Jt,Nn).call(this,{type:"success",data:E}),E}catch(E){try{throw await((g=(h=S(this,et).config).onError)==null?void 0:g.call(h,E,t,this.state.context,this,r)),await((j=(x=this.options).onError)==null?void 0:j.call(x,E,t,this.state.context,r)),await((A=(R=S(this,et).config).onSettled)==null?void 0:A.call(R,void 0,E,this.state.variables,this.state.context,this,r)),await((_=(k=this.options).onSettled)==null?void 0:_.call(k,void 0,E,t,this.state.context,r)),E}finally{le(this,Jt,Nn).call(this,{type:"error",error:E})}}finally{S(this,et).runNext(this)}}},Sa=new WeakMap,Gt=new WeakMap,et=new WeakMap,ys=new WeakMap,Jt=new WeakSet,Nn=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),_e.batch(()=>{S(this,Gt).forEach(r=>{r.onMutationUpdate(t)}),S(this,et).notify({mutation:this,type:"updated",action:t})})},Am);function sh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ln,_t,ka,Dm,J0=(Dm=class extends wr{constructor(t={}){super();Z(this,ln);Z(this,_t);Z(this,ka);this.config=t,H(this,ln,new Set),H(this,_t,new Map),H(this,ka,0)}build(t,s,r){const a=new G0({client:t,mutationCache:this,mutationId:++_a(this,ka)._,options:t.defaultMutationOptions(s),state:r});return this.add(a),a}add(t){S(this,ln).add(t);const s=nl(t);if(typeof s=="string"){const r=S(this,_t).get(s);r?r.push(t):S(this,_t).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(S(this,ln).delete(t)){const s=nl(t);if(typeof s=="string"){const r=S(this,_t).get(s);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&S(this,_t).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=nl(t);if(typeof s=="string"){const r=S(this,_t).get(s),a=r==null?void 0:r.find(l=>l.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const s=nl(t);if(typeof s=="string"){const a=(r=S(this,_t).get(s))==null?void 0:r.find(l=>l!==t&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_e.batch(()=>{S(this,ln).forEach(t=>{this.notify({type:"removed",mutation:t})}),S(this,ln).clear(),S(this,_t).clear()})}getAll(){return Array.from(S(this,ln))}find(t){const s={exact:!0,...t};return this.getAll().find(r=>Uu(s,r))}findAll(t={}){return this.getAll().filter(s=>Uu(t,s))}notify(t){_e.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return _e.batch(()=>Promise.all(t.map(s=>s.continue().catch(nt))))}},ln=new WeakMap,_t=new WeakMap,ka=new WeakMap,Dm);function nl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var on,Fn,ot,cn,pn,xl,uc,Fm,Y0=(Fm=class extends wr{constructor(s,r){super();Z(this,pn);Z(this,on);Z(this,Fn);Z(this,ot);Z(this,cn);H(this,on,s),this.setOptions(r),this.bindMethods(),le(this,pn,xl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var a;const r=this.options;this.options=S(this,on).defaultMutationOptions(s),Kl(this.options,r)||S(this,on).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,ot),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ps(r.mutationKey)!==Ps(this.options.mutationKey)?this.reset():((a=S(this,ot))==null?void 0:a.state.status)==="pending"&&S(this,ot).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=S(this,ot))==null||s.removeObserver(this)}onMutationUpdate(s){le(this,pn,xl).call(this),le(this,pn,uc).call(this,s)}getCurrentResult(){return S(this,Fn)}reset(){var s;(s=S(this,ot))==null||s.removeObserver(this),H(this,ot,void 0),le(this,pn,xl).call(this),le(this,pn,uc).call(this)}mutate(s,r){var a;return H(this,cn,r),(a=S(this,ot))==null||a.removeObserver(this),H(this,ot,S(this,on).getMutationCache().build(S(this,on),this.options)),S(this,ot).addObserver(this),S(this,ot).execute(s)}},on=new WeakMap,Fn=new WeakMap,ot=new WeakMap,cn=new WeakMap,pn=new WeakSet,xl=function(){var r;const s=((r=S(this,ot))==null?void 0:r.state)??sh();H(this,Fn,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},uc=function(s){_e.batch(()=>{var r,a,l,i,o,c,d,f;if(S(this,cn)&&this.hasListeners()){const p=S(this,Fn).variables,m=S(this,Fn).context,v={client:S(this,on),meta:this.options.meta,mutationKey:this.options.mutationKey};(s==null?void 0:s.type)==="success"?((a=(r=S(this,cn)).onSuccess)==null||a.call(r,s.data,p,m,v),(i=(l=S(this,cn)).onSettled)==null||i.call(l,s.data,null,p,m,v)):(s==null?void 0:s.type)==="error"&&((c=(o=S(this,cn)).onError)==null||c.call(o,s.error,p,m,v),(f=(d=S(this,cn)).onSettled)==null||f.call(d,void 0,s.error,p,m,v))}this.listeners.forEach(p=>{p(S(this,Fn))})})},Fm),Yt,Om,X0=(Om=class extends wr{constructor(t={}){super();Z(this,Yt);this.config=t,H(this,Yt,new Map)}build(t,s,r){const a=s.queryKey,l=s.queryHash??hd(a,s);let i=this.get(l);return i||(i=new V0({client:t,queryKey:a,queryHash:l,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){S(this,Yt).has(t.queryHash)||(S(this,Yt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=S(this,Yt).get(t.queryHash);s&&(t.destroy(),s===t&&S(this,Yt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_e.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,Yt).get(t)}getAll(){return[...S(this,Yt).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>Bu(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>Bu(t,r)):s}notify(t){_e.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){_e.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_e.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yt=new WeakMap,Om),Ee,On,In,or,cr,Tn,dr,ur,Im,Z0=(Im=class{constructor(e={}){Z(this,Ee);Z(this,On);Z(this,In);Z(this,or);Z(this,cr);Z(this,Tn);Z(this,dr);Z(this,ur);H(this,Ee,e.queryCache||new X0),H(this,On,e.mutationCache||new J0),H(this,In,e.defaultOptions||{}),H(this,or,new Map),H(this,cr,new Map),H(this,Tn,0)}mount(){_a(this,Tn)._++,S(this,Tn)===1&&(H(this,dr,gd.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,Ee).onFocus())})),H(this,ur,Wl.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,Ee).onOnline())})))}unmount(){var e,t;_a(this,Tn)._--,S(this,Tn)===0&&((e=S(this,dr))==null||e.call(this),H(this,dr,void 0),(t=S(this,ur))==null||t.call(this),H(this,ur,void 0))}isFetching(e){return S(this,Ee).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,On).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=S(this,Ee).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=S(this,Ee).build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Wn(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return S(this,Ee).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),a=S(this,Ee).get(r.queryHash),l=a==null?void 0:a.state.data,i=I0(t,l);if(i!==void 0)return S(this,Ee).build(this,r).setData(i,{...s,manual:!0})}setQueriesData(e,t,s){return _e.batch(()=>S(this,Ee).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=S(this,Ee).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=S(this,Ee);_e.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=S(this,Ee);return _e.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=_e.batch(()=>S(this,Ee).findAll(e).map(a=>a.cancel(s)));return Promise.all(r).then(nt).catch(nt)}invalidateQueries(e,t={}){return _e.batch(()=>(S(this,Ee).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=_e.batch(()=>S(this,Ee).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,s);return s.throwOnError||(l=l.catch(nt)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(nt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=S(this,Ee).build(this,t);return s.isStaleByTime(Wn(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nt).catch(nt)}fetchInfiniteQuery(e){return e.behavior=Hu(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nt).catch(nt)}ensureInfiniteQueryData(e){return e.behavior=Hu(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wl.isOnline()?S(this,On).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,Ee)}getMutationCache(){return S(this,On)}getDefaultOptions(){return S(this,In)}setDefaultOptions(e){H(this,In,e)}setQueryDefaults(e,t){S(this,or).set(Ps(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,or).values()],s={};return t.forEach(r=>{ya(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){S(this,cr).set(Ps(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,cr).values()],s={};return t.forEach(r=>{ya(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,In).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===xd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,In).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,Ee).clear(),S(this,On).clear()}},Ee=new WeakMap,On=new WeakMap,In=new WeakMap,or=new WeakMap,cr=new WeakMap,Tn=new WeakMap,dr=new WeakMap,ur=new WeakMap,Im),rh=N.createContext(void 0),Ne=e=>{const t=N.useContext(rh);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ey=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(rh.Provider,{value:e,children:t})),ah=N.createContext(!1),ty=()=>N.useContext(ah);ah.Provider;function ny(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sy=N.createContext(ny()),ry=()=>N.useContext(sy),ay=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ly=e=>{N.useEffect(()=>{e.clearReset()},[e])},iy=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||Yf(s,[e.error,r])),oy=e=>{if(e.suspense){const s=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>s(r(...a)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},cy=(e,t)=>e.isLoading&&e.isFetching&&!t,dy=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ju=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function uy(e,t,s){var p,m,v,y,b;const r=ty(),a=ry(),l=Ne(),i=l.defaultQueryOptions(e);(m=(p=l.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||m.call(p,i),i._optimisticResults=r?"isRestoring":"optimistic",oy(i),ay(i,a),ly(a);const o=!l.getQueryCache().get(i.queryHash),[c]=N.useState(()=>new t(l,i)),d=c.getOptimisticResult(i),f=!r&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(w=>{const u=f?c.subscribe(_e.batchCalls(w)):nt;return c.updateResult(),u},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(i)},[i,c]),dy(i,d))throw Ju(i,c,a);if(iy({result:d,errorResetBoundary:a,throwOnError:i.throwOnError,query:l.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if((y=(v=l.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||y.call(v,i,d),i.experimental_prefetchInRender&&!Es&&cy(d,r)){const w=o?Ju(i,c,a):(b=l.getQueryCache().get(i.queryHash))==null?void 0:b.promise;w==null||w.catch(nt).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?d:c.trackResult(d)}function te(e,t){return uy(e,Q0)}function ee(e,t){const s=Ne(),[r]=N.useState(()=>new Y0(s,e));N.useEffect(()=>{r.setOptions(e)},[r,e]);const a=N.useSyncExternalStore(N.useCallback(i=>r.subscribe(_e.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),l=N.useCallback((i,o)=>{r.mutate(i,o).catch(nt)},[r]);if(a.error&&Yf(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},va.apply(this,arguments)}var _n;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_n||(_n={}));const Yu="popstate";function my(e){e===void 0&&(e={});function t(r,a){let{pathname:l,search:i,hash:o}=r.location;return mc("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:Hl(a)}return fy(t,s,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function py(){return Math.random().toString(36).substr(2,8)}function Xu(e,t){return{usr:e.state,key:e.key,idx:t}}function mc(e,t,s,r){return s===void 0&&(s=null),va({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sr(t):t,{state:s,key:t&&t.key||r||py()})}function Hl(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Sr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fy(e,t,s,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,i=a.history,o=_n.Pop,c=null,d=f();d==null&&(d=0,i.replaceState(va({},i.state,{idx:d}),""));function f(){return(i.state||{idx:null}).idx}function p(){o=_n.Pop;let w=f(),u=w==null?null:w-d;d=w,c&&c({action:o,location:b.location,delta:u})}function m(w,u){o=_n.Push;let h=mc(b.location,w,u);d=f()+1;let g=Xu(h,d),x=b.createHref(h);try{i.pushState(g,"",x)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(x)}l&&c&&c({action:o,location:b.location,delta:1})}function v(w,u){o=_n.Replace;let h=mc(b.location,w,u);d=f();let g=Xu(h,d),x=b.createHref(h);i.replaceState(g,"",x),l&&c&&c({action:o,location:b.location,delta:0})}function y(w){let u=a.location.origin!=="null"?a.location.origin:a.location.href,h=typeof w=="string"?w:Hl(w);return h=h.replace(/ $/,"%20"),De(u,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,u)}let b={get action(){return o},get location(){return e(a,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Yu,p),c=w,()=>{a.removeEventListener(Yu,p),c=null}},createHref(w){return t(a,w)},createURL:y,encodeLocation(w){let u=y(w);return{pathname:u.pathname,search:u.search,hash:u.hash}},push:m,replace:v,go(w){return i.go(w)}};return b}var Zu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zu||(Zu={}));function hy(e,t,s){return s===void 0&&(s="/"),xy(e,t,s)}function xy(e,t,s,r){let a=typeof t=="string"?Sr(t):t,l=vd(a.pathname||"/",s);if(l==null)return null;let i=ih(e);gy(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=Ry(l);o=Cy(i[c],d)}return o}function ih(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(De(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Hn([r,c.relativePath]),f=s.concat(c);l.children&&l.children.length>0&&(De(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ih(l.children,t,f,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:Sy(d,l.index),routesMeta:f})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of oh(l.path))a(l,i,c)}),t}function oh(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,a=s.endsWith("?"),l=s.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let i=oh(r.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function gy(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:ky(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const yy=/^:[\w-]+$/,vy=3,by=2,jy=1,Ny=10,wy=-2,em=e=>e==="*";function Sy(e,t){let s=e.split("/"),r=s.length;return s.some(em)&&(r+=wy),t&&(r+=by),s.filter(a=>!em(a)).reduce((a,l)=>a+(yy.test(l)?vy:l===""?jy:Ny),r)}function ky(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Cy(e,t,s){let{routesMeta:r}=e,a={},l="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,f=l==="/"?t:t.slice(l.length)||"/",p=Ey({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!p)return null;Object.assign(a,p.params),i.push({params:a,pathname:Hn([l,p.pathname]),pathnameBase:Oy(Hn([l,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(l=Hn([l,p.pathnameBase]))}return i}function Ey(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=Py(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:m,isOptional:v}=f;if(m==="*"){let b=o[p]||"";i=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[p];return v&&!y?d[m]=void 0:d[m]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function Py(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),lh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Ry(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function Ay(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:a=""}=typeof e=="string"?Sr(e):e;return{pathname:s?s.startsWith("/")?s:Dy(s,t):t,search:Iy(r),hash:Ty(a)}}function Dy(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function Hi(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fy(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function bd(e,t){let s=Fy(e);return t?s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function jd(e,t,s,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Sr(e):(a=va({},e),De(!a.pathname||!a.pathname.includes("?"),Hi("?","pathname","search",a)),De(!a.pathname||!a.pathname.includes("#"),Hi("#","pathname","hash",a)),De(!a.search||!a.search.includes("#"),Hi("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=s;else{let p=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),p-=1;a.pathname=m.join("/")}o=p>=0?t[p]:"/"}let c=Ay(a,o),d=i&&i!=="/"&&i.endsWith("/"),f=(l||i===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const Hn=e=>e.join("/").replace(/\/\/+/g,"/"),Oy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Iy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ty=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function My(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ch=["post","put","patch","delete"];new Set(ch);const Ly=["get",...ch];new Set(Ly);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ba.apply(this,arguments)}const Nd=N.createContext(null),_y=N.createContext(null),ts=N.createContext(null),pi=N.createContext(null),vn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),dh=N.createContext(null);function qy(e,t){let{relative:s}=t===void 0?{}:t;kr()||De(!1);let{basename:r,navigator:a}=N.useContext(ts),{hash:l,pathname:i,search:o}=mh(e,{relative:s}),c=i;return r!=="/"&&(c=i==="/"?r:Hn([r,i])),a.createHref({pathname:c,search:o,hash:l})}function kr(){return N.useContext(pi)!=null}function Cr(){return kr()||De(!1),N.useContext(pi).location}function uh(e){N.useContext(ts).static||N.useLayoutEffect(e)}function Xe(){let{isDataRoute:e}=N.useContext(vn);return e?Xy():By()}function By(){kr()||De(!1);let e=N.useContext(Nd),{basename:t,future:s,navigator:r}=N.useContext(ts),{matches:a}=N.useContext(vn),{pathname:l}=Cr(),i=JSON.stringify(bd(a,s.v7_relativeSplatPath)),o=N.useRef(!1);return uh(()=>{o.current=!0}),N.useCallback(function(d,f){if(f===void 0&&(f={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let p=jd(d,JSON.parse(i),l,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Hn([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,i,l,e])}function wd(){let{matches:e}=N.useContext(vn),t=e[e.length-1];return t?t.params:{}}function mh(e,t){let{relative:s}=t===void 0?{}:t,{future:r}=N.useContext(ts),{matches:a}=N.useContext(vn),{pathname:l}=Cr(),i=JSON.stringify(bd(a,r.v7_relativeSplatPath));return N.useMemo(()=>jd(e,JSON.parse(i),l,s==="path"),[e,i,l,s])}function Uy(e,t){return zy(e,t)}function zy(e,t,s,r){kr()||De(!1);let{navigator:a}=N.useContext(ts),{matches:l}=N.useContext(vn),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Cr(),f;if(t){var p;let w=typeof t=="string"?Sr(t):t;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||De(!1),f=w}else f=d;let m=f.pathname||"/",v=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=hy(e,{pathname:v}),b=Wy(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Hn([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Hn([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,s,r);return t&&b?N.createElement(pi.Provider,{value:{location:ba({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:_n.Pop}},b):b}function $y(){let e=Yy(),t=My(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),s?N.createElement("pre",{style:a},s):null,null)}const Vy=N.createElement($y,null);class Qy extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?N.createElement(vn.Provider,{value:this.props.routeContext},N.createElement(dh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ky(e){let{routeContext:t,match:s,children:r}=e,a=N.useContext(Nd);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),N.createElement(vn.Provider,{value:t},r)}function Wy(e,t,s,r){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var l;if(!s)return null;if(s.errors)e=s.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,o=(a=s)==null?void 0:a.errors;if(o!=null){let f=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);f>=0||De(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,d=-1;if(s&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:v}=s,y=p.route.loader&&m[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||y){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,p,m)=>{let v,y=!1,b=null,w=null;s&&(v=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||Vy,c&&(d<0&&m===0?(Zy("route-fallback"),y=!0,w=null):d===m&&(y=!0,w=p.route.hydrateFallbackElement||null)));let u=t.concat(i.slice(0,m+1)),h=()=>{let g;return v?g=b:y?g=w:p.route.Component?g=N.createElement(p.route.Component,null):p.route.element?g=p.route.element:g=f,N.createElement(Ky,{match:p,routeContext:{outlet:f,matches:u,isDataRoute:s!=null},children:g})};return s&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?N.createElement(Qy,{location:s.location,revalidation:s.revalidation,component:b,error:v,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()},null)}var ph=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ph||{}),fh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fh||{});function Hy(e){let t=N.useContext(Nd);return t||De(!1),t}function Gy(e){let t=N.useContext(_y);return t||De(!1),t}function Jy(e){let t=N.useContext(vn);return t||De(!1),t}function hh(e){let t=Jy(),s=t.matches[t.matches.length-1];return s.route.id||De(!1),s.route.id}function Yy(){var e;let t=N.useContext(dh),s=Gy(),r=hh();return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function Xy(){let{router:e}=Hy(ph.UseNavigateStable),t=hh(fh.UseNavigateStable),s=N.useRef(!1);return uh(()=>{s.current=!0}),N.useCallback(function(a,l){l===void 0&&(l={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ba({fromRouteId:t},l)))},[e,t])}const tm={};function Zy(e,t,s){tm[e]||(tm[e]=!0)}function ev(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function tv(e){let{to:t,replace:s,state:r,relative:a}=e;kr()||De(!1);let{future:l,static:i}=N.useContext(ts),{matches:o}=N.useContext(vn),{pathname:c}=Cr(),d=Xe(),f=jd(t,bd(o,l.v7_relativeSplatPath),c,a==="path"),p=JSON.stringify(f);return N.useEffect(()=>d(JSON.parse(p),{replace:s,state:r,relative:a}),[d,p,a,s,r]),null}function xe(e){De(!1)}function nv(e){let{basename:t="/",children:s=null,location:r,navigationType:a=_n.Pop,navigator:l,static:i=!1,future:o}=e;kr()&&De(!1);let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:l,static:i,future:ba({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof r=="string"&&(r=Sr(r));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=r,b=N.useMemo(()=>{let w=vd(f,c);return w==null?null:{location:{pathname:w,search:p,hash:m,state:v,key:y},navigationType:a}},[c,f,p,m,v,y,a]);return b==null?null:N.createElement(ts.Provider,{value:d},N.createElement(pi.Provider,{children:s,value:b}))}function sv(e){let{children:t,location:s}=e;return Uy(pc(t),s)}new Promise(()=>{});function pc(e,t){t===void 0&&(t=[]);let s=[];return N.Children.forEach(e,(r,a)=>{if(!N.isValidElement(r))return;let l=[...t,a];if(r.type===N.Fragment){s.push.apply(s,pc(r.props.children,l));return}r.type!==xe&&De(!1),!r.props.index||!r.props.children||De(!1);let i={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=pc(r.props.children,l)),s.push(i)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fc(){return fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},fc.apply(this,arguments)}function rv(e,t){if(e==null)return{};var s={},r=Object.keys(e),a,l;for(l=0;l<r.length;l++)a=r[l],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function av(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lv(e,t){return e.button===0&&(!t||t==="_self")&&!av(e)}const iv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ov="6";try{window.__reactRouterVersion=ov}catch{}const cv="startTransition",nm=vx[cv];function dv(e){let{basename:t,children:s,future:r,window:a}=e,l=N.useRef();l.current==null&&(l.current=my({window:a,v5Compat:!0}));let i=l.current,[o,c]=N.useState({action:i.action,location:i.location}),{v7_startTransition:d}=r||{},f=N.useCallback(p=>{d&&nm?nm(()=>c(p)):c(p)},[c,d]);return N.useLayoutEffect(()=>i.listen(f),[i,f]),N.useEffect(()=>ev(r),[r]),N.createElement(nv,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:i,future:r})}const uv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pv=N.forwardRef(function(t,s){let{onClick:r,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:f,viewTransition:p}=t,m=rv(t,iv),{basename:v}=N.useContext(ts),y,b=!1;if(typeof d=="string"&&mv.test(d)&&(y=d,uv))try{let g=new URL(window.location.href),x=d.startsWith("//")?new URL(g.protocol+d):new URL(d),j=vd(x.pathname,v);x.origin===g.origin&&j!=null?d=j+x.search+x.hash:b=!0}catch{}let w=qy(d,{relative:a}),u=fv(d,{replace:i,state:o,target:c,preventScrollReset:f,relative:a,viewTransition:p});function h(g){r&&r(g),g.defaultPrevented||u(g)}return N.createElement("a",fc({},m,{href:y||w,onClick:b||l?r:h,ref:s,target:c}))});var sm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sm||(sm={}));var rm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rm||(rm={}));function fv(e,t){let{target:s,replace:r,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,c=Xe(),d=Cr(),f=mh(e,{relative:i});return N.useCallback(p=>{if(lv(p,s)){p.preventDefault();let m=r!==void 0?r:Hl(d)===Hl(f);c(e,{replace:m,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,f,r,a,s,e,l,i,o])}function xh(e,t){return function(){return e.apply(t,arguments)}}const{toString:hv}=Object.prototype,{getPrototypeOf:Sd}=Object,{iterator:fi,toStringTag:gh}=Symbol,hi=(e=>t=>{const s=hv.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Vt=e=>(e=e.toLowerCase(),t=>hi(t)===e),xi=e=>t=>typeof t===e,{isArray:Er}=Array,vr=xi("undefined");function Da(e){return e!==null&&!vr(e)&&e.constructor!==null&&!vr(e.constructor)&&ft(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const yh=Vt("ArrayBuffer");function xv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&yh(e.buffer),t}const gv=xi("string"),ft=xi("function"),vh=xi("number"),Fa=e=>e!==null&&typeof e=="object",yv=e=>e===!0||e===!1,gl=e=>{if(hi(e)!=="object")return!1;const t=Sd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(gh in e)&&!(fi in e)},vv=e=>{if(!Fa(e)||Da(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},bv=Vt("Date"),jv=Vt("File"),Nv=Vt("Blob"),wv=Vt("FileList"),Sv=e=>Fa(e)&&ft(e.pipe),kv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ft(e.append)&&((t=hi(e))==="formdata"||t==="object"&&ft(e.toString)&&e.toString()==="[object FormData]"))},Cv=Vt("URLSearchParams"),[Ev,Pv,Rv,Av]=["ReadableStream","Request","Response","Headers"].map(Vt),Dv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Oa(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Er(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(Da(e))return;const l=s?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(r=0;r<i;r++)o=l[r],t.call(null,e[o],o,e)}}function bh(e,t){if(Da(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const os=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jh=e=>!vr(e)&&e!==os;function hc(){const{caseless:e,skipUndefined:t}=jh(this)&&this||{},s={},r=(a,l)=>{const i=e&&bh(s,l)||l;gl(s[i])&&gl(a)?s[i]=hc(s[i],a):gl(a)?s[i]=hc({},a):Er(a)?s[i]=a.slice():(!t||!vr(a))&&(s[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Oa(arguments[a],r);return s}const Fv=(e,t,s,{allOwnKeys:r}={})=>(Oa(t,(a,l)=>{s&&ft(a)?e[l]=xh(a,s):e[l]=a},{allOwnKeys:r}),e),Ov=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Iv=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Tv=(e,t,s,r)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!r||r(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=s!==!1&&Sd(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Mv=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},Lv=e=>{if(!e)return null;if(Er(e))return e;let t=e.length;if(!vh(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},_v=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Sd(Uint8Array)),qv=(e,t)=>{const r=(e&&e[fi]).call(e);let a;for(;(a=r.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},Bv=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},Uv=Vt("HTMLFormElement"),zv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),am=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),$v=Vt("RegExp"),Nh=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Oa(s,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(r[l]=i||a)}),Object.defineProperties(e,r)},Vv=e=>{Nh(e,(t,s)=>{if(ft(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(ft(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Qv=(e,t)=>{const s={},r=a=>{a.forEach(l=>{s[l]=!0})};return Er(e)?r(e):r(String(e).split(t)),s},Kv=()=>{},Wv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Hv(e){return!!(e&&ft(e.append)&&e[gh]==="FormData"&&e[fi])}const Gv=e=>{const t=new Array(10),s=(r,a)=>{if(Fa(r)){if(t.indexOf(r)>=0)return;if(Da(r))return r;if(!("toJSON"in r)){t[a]=r;const l=Er(r)?[]:{};return Oa(r,(i,o)=>{const c=s(i,a+1);!vr(c)&&(l[o]=c)}),t[a]=void 0,l}}return r};return s(e,0)},Jv=Vt("AsyncFunction"),Yv=e=>e&&(Fa(e)||ft(e))&&ft(e.then)&&ft(e.catch),wh=((e,t)=>e?setImmediate:t?((s,r)=>(os.addEventListener("message",({source:a,data:l})=>{a===os&&l===s&&r.length&&r.shift()()},!1),a=>{r.push(a),os.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ft(os.postMessage)),Xv=typeof queueMicrotask<"u"?queueMicrotask.bind(os):typeof process<"u"&&process.nextTick||wh,Zv=e=>e!=null&&ft(e[fi]),O={isArray:Er,isArrayBuffer:yh,isBuffer:Da,isFormData:kv,isArrayBufferView:xv,isString:gv,isNumber:vh,isBoolean:yv,isObject:Fa,isPlainObject:gl,isEmptyObject:vv,isReadableStream:Ev,isRequest:Pv,isResponse:Rv,isHeaders:Av,isUndefined:vr,isDate:bv,isFile:jv,isBlob:Nv,isRegExp:$v,isFunction:ft,isStream:Sv,isURLSearchParams:Cv,isTypedArray:_v,isFileList:wv,forEach:Oa,merge:hc,extend:Fv,trim:Dv,stripBOM:Ov,inherits:Iv,toFlatObject:Tv,kindOf:hi,kindOfTest:Vt,endsWith:Mv,toArray:Lv,forEachEntry:qv,matchAll:Bv,isHTMLForm:Uv,hasOwnProperty:am,hasOwnProp:am,reduceDescriptors:Nh,freezeMethods:Vv,toObjectSet:Qv,toCamelCase:zv,noop:Kv,toFiniteNumber:Wv,findKey:bh,global:os,isContextDefined:jh,isSpecCompliantForm:Hv,toJSONObject:Gv,isAsyncFn:Jv,isThenable:Yv,setImmediate:wh,asap:Xv,isIterable:Zv};function re(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}O.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const Sh=re.prototype,kh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{kh[e]={value:e}});Object.defineProperties(re,kh);Object.defineProperty(Sh,"isAxiosError",{value:!0});re.from=(e,t,s,r,a,l)=>{const i=Object.create(Sh);O.toFlatObject(e,i,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return re.call(i,o,c,s,r,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const eb=null;function xc(e){return O.isPlainObject(e)||O.isArray(e)}function Ch(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function lm(e,t,s){return e?e.concat(t).map(function(a,l){return a=Ch(a),!s&&l?"["+a+"]":a}).join(s?".":""):t}function tb(e){return O.isArray(e)&&!e.some(xc)}const nb=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function gi(e,t,s){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=O.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!O.isUndefined(w[b])});const r=s.metaTokens,a=s.visitor||f,l=s.dots,i=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(O.isDate(y))return y.toISOString();if(O.isBoolean(y))return y.toString();if(!c&&O.isBlob(y))throw new re("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(y)||O.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,b,w){let u=y;if(y&&!w&&typeof y=="object"){if(O.endsWith(b,"{}"))b=r?b:b.slice(0,-2),y=JSON.stringify(y);else if(O.isArray(y)&&tb(y)||(O.isFileList(y)||O.endsWith(b,"[]"))&&(u=O.toArray(y)))return b=Ch(b),u.forEach(function(g,x){!(O.isUndefined(g)||g===null)&&t.append(i===!0?lm([b],x,l):i===null?b:b+"[]",d(g))}),!1}return xc(y)?!0:(t.append(lm(w,b,l),d(y)),!1)}const p=[],m=Object.assign(nb,{defaultVisitor:f,convertValue:d,isVisitable:xc});function v(y,b){if(!O.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(y),O.forEach(y,function(u,h){(!(O.isUndefined(u)||u===null)&&a.call(t,u,O.isString(h)?h.trim():h,b,m))===!0&&v(u,b?b.concat(h):[h])}),p.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return v(e),t}function im(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function kd(e,t){this._pairs=[],e&&gi(e,this,t)}const Eh=kd.prototype;Eh.append=function(t,s){this._pairs.push([t,s])};Eh.toString=function(t){const s=t?function(r){return t.call(this,r,im)}:im;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function sb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ph(e,t,s){if(!t)return e;const r=s&&s.encode||sb;O.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let l;if(a?l=a(t,s):l=O.isURLSearchParams(t)?t.toString():new kd(t,s).toString(r),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class om{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Rh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rb=typeof URLSearchParams<"u"?URLSearchParams:kd,ab=typeof FormData<"u"?FormData:null,lb=typeof Blob<"u"?Blob:null,ib={isBrowser:!0,classes:{URLSearchParams:rb,FormData:ab,Blob:lb},protocols:["http","https","file","blob","url","data"]},Cd=typeof window<"u"&&typeof document<"u",gc=typeof navigator=="object"&&navigator||void 0,ob=Cd&&(!gc||["ReactNative","NativeScript","NS"].indexOf(gc.product)<0),cb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",db=Cd&&window.location.href||"http://localhost",ub=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Cd,hasStandardBrowserEnv:ob,hasStandardBrowserWebWorkerEnv:cb,navigator:gc,origin:db},Symbol.toStringTag,{value:"Module"})),Je={...ub,...ib};function mb(e,t){return gi(e,new Je.classes.URLSearchParams,{visitor:function(s,r,a,l){return Je.isNode&&O.isBuffer(s)?(this.append(r,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function pb(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fb(e){const t={},s=Object.keys(e);let r;const a=s.length;let l;for(r=0;r<a;r++)l=s[r],t[l]=e[l];return t}function Ah(e){function t(s,r,a,l){let i=s[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=s.length;return i=!i&&O.isArray(a)?a.length:i,c?(O.hasOwnProp(a,i)?a[i]=[a[i],r]:a[i]=r,!o):((!a[i]||!O.isObject(a[i]))&&(a[i]=[]),t(s,r,a[i],l)&&O.isArray(a[i])&&(a[i]=fb(a[i])),!o)}if(O.isFormData(e)&&O.isFunction(e.entries)){const s={};return O.forEachEntry(e,(r,a)=>{t(pb(r),a,s,0)}),s}return null}function hb(e,t,s){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const Ia={transitional:Rh,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,l=O.isObject(t);if(l&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return a?JSON.stringify(Ah(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mb(t,this.formSerializer).toString();if((o=O.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return gi(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||a?(s.setContentType("application/json",!1),hb(t)):t}],transformResponse:[function(t){const s=this.transitional||Ia.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(r&&!this.responseType||a)){const i=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?re.from(o,re.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Je.classes.FormData,Blob:Je.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{Ia.headers[e]={}});const xb=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gb=e=>{const t={};let s,r,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),s=i.substring(0,a).trim().toLowerCase(),r=i.substring(a+1).trim(),!(!s||t[s]&&xb[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},cm=Symbol("internals");function _r(e){return e&&String(e).trim().toLowerCase()}function yl(e){return e===!1||e==null?e:O.isArray(e)?e.map(yl):String(e)}function yb(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const vb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Gi(e,t,s,r,a){if(O.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!O.isString(t)){if(O.isString(r))return t.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(t)}}function bb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function jb(e,t){const s=O.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(a,l,i){return this[r].call(this,t,a,l,i)},configurable:!0})})}let ht=class{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function l(o,c,d){const f=_r(c);if(!f)throw new Error("header name must be a non-empty string");const p=O.findKey(a,f);(!p||a[p]===void 0||d===!0||d===void 0&&a[p]!==!1)&&(a[p||c]=yl(o))}const i=(o,c)=>O.forEach(o,(d,f)=>l(d,f,c));if(O.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(O.isString(t)&&(t=t.trim())&&!vb(t))i(gb(t),s);else if(O.isObject(t)&&O.isIterable(t)){let o={},c,d;for(const f of t){if(!O.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[d=f[0]]=(c=o[d])?O.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}i(o,s)}else t!=null&&l(s,t,r);return this}get(t,s){if(t=_r(t),t){const r=O.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return yb(a);if(O.isFunction(s))return s.call(this,a,r);if(O.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=_r(t),t){const r=O.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||Gi(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function l(i){if(i=_r(i),i){const o=O.findKey(r,i);o&&(!s||Gi(r,r[o],o,s))&&(delete r[o],a=!0)}}return O.isArray(t)?t.forEach(l):l(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const l=s[r];(!t||Gi(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const s=this,r={};return O.forEach(this,(a,l)=>{const i=O.findKey(r,l);if(i){s[i]=yl(a),delete s[l];return}const o=t?bb(l):String(l).trim();o!==l&&delete s[l],s[o]=yl(a),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return O.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&O.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[cm]=this[cm]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=_r(i);r[o]||(jb(a,i),r[o]=!0)}return O.isArray(t)?t.forEach(l):l(t),this}};ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(ht.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});O.freezeMethods(ht);function Ji(e,t){const s=this||Ia,r=t||s,a=ht.from(r.headers);let l=r.data;return O.forEach(e,function(o){l=o.call(s,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function Dh(e){return!!(e&&e.__CANCEL__)}function Pr(e,t,s){re.call(this,e??"canceled",re.ERR_CANCELED,t,s),this.name="CanceledError"}O.inherits(Pr,re,{__CANCEL__:!0});function Fh(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new re("Request failed with status code "+s.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Nb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function wb(e,t){e=e||10;const s=new Array(e),r=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),f=r[l];i||(i=d),s[a]=c,r[a]=d;let p=l,m=0;for(;p!==a;)m+=s[p++],p=p%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),d-i<t)return;const v=f&&d-f;return v?Math.round(m*1e3/v):void 0}}function Sb(e,t){let s=0,r=1e3/t,a,l;const i=(d,f=Date.now())=>{s=f,a=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const f=Date.now(),p=f-s;p>=r?i(d,f):(a=d,l||(l=setTimeout(()=>{l=null,i(a)},r-p)))},()=>a&&i(a)]}const Gl=(e,t,s=3)=>{let r=0;const a=wb(50,250);return Sb(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-r,d=a(c),f=i<=o;r=i;const p={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&f?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(p)},s)},dm=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},um=e=>(...t)=>O.asap(()=>e(...t)),kb=Je.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Je.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Je.origin),Je.navigator&&/(msie|trident)/i.test(Je.navigator.userAgent)):()=>!0,Cb=Je.hasStandardBrowserEnv?{write(e,t,s,r,a,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];O.isNumber(s)&&o.push(`expires=${new Date(s).toUTCString()}`),O.isString(r)&&o.push(`path=${r}`),O.isString(a)&&o.push(`domain=${a}`),l===!0&&o.push("secure"),O.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Eb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Pb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Oh(e,t,s){let r=!Eb(t);return e&&(r||s==!1)?Pb(e,t):t}const mm=e=>e instanceof ht?{...e}:e;function Rs(e,t){t=t||{};const s={};function r(d,f,p,m){return O.isPlainObject(d)&&O.isPlainObject(f)?O.merge.call({caseless:m},d,f):O.isPlainObject(f)?O.merge({},f):O.isArray(f)?f.slice():f}function a(d,f,p,m){if(O.isUndefined(f)){if(!O.isUndefined(d))return r(void 0,d,p,m)}else return r(d,f,p,m)}function l(d,f){if(!O.isUndefined(f))return r(void 0,f)}function i(d,f){if(O.isUndefined(f)){if(!O.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function o(d,f,p){if(p in t)return r(d,f);if(p in e)return r(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,f,p)=>a(mm(d),mm(f),p,!0)};return O.forEach(Object.keys({...e,...t}),function(f){const p=c[f]||a,m=p(e[f],t[f],f);O.isUndefined(m)&&p!==o||(s[f]=m)}),s}const Ih=e=>{const t=Rs({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=ht.from(i),t.url=Ph(Oh(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),O.isFormData(s)){if(Je.hasStandardBrowserEnv||Je.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(O.isFunction(s.getHeaders)){const c=s.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([f,p])=>{d.includes(f.toLowerCase())&&i.set(f,p)})}}if(Je.hasStandardBrowserEnv&&(r&&O.isFunction(r)&&(r=r(t)),r||r!==!1&&kb(t.url))){const c=a&&l&&Cb.read(l);c&&i.set(a,c)}return t},Rb=typeof XMLHttpRequest<"u",Ab=Rb&&function(e){return new Promise(function(s,r){const a=Ih(e);let l=a.data;const i=ht.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,f,p,m,v,y;function b(){v&&v(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function u(){if(!w)return;const g=ht.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),j={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:g,config:e,request:w};Fh(function(A){s(A),b()},function(A){r(A),b()},j),w=null}"onloadend"in w?w.onloadend=u:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(u)},w.onabort=function(){w&&(r(new re("Request aborted",re.ECONNABORTED,e,w)),w=null)},w.onerror=function(x){const j=x&&x.message?x.message:"Network Error",R=new re(j,re.ERR_NETWORK,e,w);R.event=x||null,r(R),w=null},w.ontimeout=function(){let x=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||Rh;a.timeoutErrorMessage&&(x=a.timeoutErrorMessage),r(new re(x,j.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,e,w)),w=null},l===void 0&&i.setContentType(null),"setRequestHeader"in w&&O.forEach(i.toJSON(),function(x,j){w.setRequestHeader(j,x)}),O.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),o&&o!=="json"&&(w.responseType=a.responseType),d&&([m,y]=Gl(d,!0),w.addEventListener("progress",m)),c&&w.upload&&([p,v]=Gl(c),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(f=g=>{w&&(r(!g||g.type?new Pr(null,e,w):g),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const h=Nb(a.url);if(h&&Je.protocols.indexOf(h)===-1){r(new re("Unsupported protocol "+h+":",re.ERR_BAD_REQUEST,e));return}w.send(l||null)})},Db=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,a;const l=function(d){if(!a){a=!0,o();const f=d instanceof Error?d:this.reason;r.abort(f instanceof re?f:new Pr(f instanceof Error?f.message:f))}};let i=t&&setTimeout(()=>{i=null,l(new re(`timeout ${t} of ms exceeded`,re.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=r;return c.unsubscribe=()=>O.asap(o),c}},Fb=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,a;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},Ob=async function*(e,t){for await(const s of Ib(e))yield*Fb(s,t)},Ib=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},pm=(e,t,s,r)=>{const a=Ob(e,t);let l=0,i,o=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await a.next();if(d){o(),c.close();return}let p=f.byteLength;if(s){let m=l+=p;s(m)}c.enqueue(new Uint8Array(f))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},fm=64*1024,{isFunction:sl}=O,Tb=(({Request:e,Response:t})=>({Request:e,Response:t}))(O.global),{ReadableStream:hm,TextEncoder:xm}=O.global,gm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Mb=e=>{e=O.merge.call({skipUndefined:!0},Tb,e);const{fetch:t,Request:s,Response:r}=e,a=t?sl(t):typeof fetch=="function",l=sl(s),i=sl(r);if(!a)return!1;const o=a&&sl(hm),c=a&&(typeof xm=="function"?(y=>b=>y.encode(b))(new xm):async y=>new Uint8Array(await new s(y).arrayBuffer())),d=l&&o&&gm(()=>{let y=!1;const b=new s(Je.origin,{body:new hm,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),f=i&&o&&gm(()=>O.isReadableStream(new r("").body)),p={stream:f&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!p[y]&&(p[y]=(b,w)=>{let u=b&&b[y];if(u)return u.call(b);throw new re(`Response type '${y}' is not supported`,re.ERR_NOT_SUPPORT,w)})});const m=async y=>{if(y==null)return 0;if(O.isBlob(y))return y.size;if(O.isSpecCompliantForm(y))return(await new s(Je.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(O.isArrayBufferView(y)||O.isArrayBuffer(y))return y.byteLength;if(O.isURLSearchParams(y)&&(y=y+""),O.isString(y))return(await c(y)).byteLength},v=async(y,b)=>{const w=O.toFiniteNumber(y.getContentLength());return w??m(b)};return async y=>{let{url:b,method:w,data:u,signal:h,cancelToken:g,timeout:x,onDownloadProgress:j,onUploadProgress:R,responseType:A,headers:k,withCredentials:_="same-origin",fetchOptions:E}=Ih(y),T=t||fetch;A=A?(A+"").toLowerCase():"text";let F=Db([h,g&&g.toAbortSignal()],x),U=null;const C=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let M;try{if(R&&d&&w!=="get"&&w!=="head"&&(M=await v(k,u))!==0){let z=new s(b,{method:"POST",body:u,duplex:"half"}),G;if(O.isFormData(u)&&(G=z.headers.get("content-type"))&&k.setContentType(G),z.body){const[de,fe]=dm(M,Gl(um(R)));u=pm(z.body,fm,de,fe)}}O.isString(_)||(_=_?"include":"omit");const P=l&&"credentials"in s.prototype,K={...E,signal:F,method:w.toUpperCase(),headers:k.normalize().toJSON(),body:u,duplex:"half",credentials:P?_:void 0};U=l&&new s(b,K);let I=await(l?T(U,E):T(b,K));const X=f&&(A==="stream"||A==="response");if(f&&(j||X&&C)){const z={};["status","statusText","headers"].forEach(Oe=>{z[Oe]=I[Oe]});const G=O.toFiniteNumber(I.headers.get("content-length")),[de,fe]=j&&dm(G,Gl(um(j),!0))||[];I=new r(pm(I.body,fm,de,()=>{fe&&fe(),C&&C()}),z)}A=A||"text";let L=await p[O.findKey(p,A)||"text"](I,y);return!X&&C&&C(),await new Promise((z,G)=>{Fh(z,G,{data:L,headers:ht.from(I.headers),status:I.status,statusText:I.statusText,config:y,request:U})})}catch(P){throw C&&C(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,y,U),{cause:P.cause||P}):re.from(P,P&&P.code,y,U)}}},Lb=new Map,Th=e=>{let t=e&&e.env||{};const{fetch:s,Request:r,Response:a}=t,l=[r,a,s];let i=l.length,o=i,c,d,f=Lb;for(;o--;)c=l[o],d=f.get(c),d===void 0&&f.set(c,d=o?new Map:Mb(t)),f=d;return d};Th();const Ed={http:eb,xhr:Ab,fetch:{get:Th}};O.forEach(Ed,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ym=e=>`- ${e}`,_b=e=>O.isFunction(e)||e===null||e===!1;function qb(e,t){e=O.isArray(e)?e:[e];const{length:s}=e;let r,a;const l={};for(let i=0;i<s;i++){r=e[i];let o;if(a=r,!_b(r)&&(a=Ed[(o=String(r)).toLowerCase()],a===void 0))throw new re(`Unknown adapter '${o}'`);if(a&&(O.isFunction(a)||(a=a.get(t))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=s?i.length>1?`since :
`+i.map(ym).join(`
`):" "+ym(i[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const Mh={getAdapter:qb,adapters:Ed};function Yi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pr(null,e)}function vm(e){return Yi(e),e.headers=ht.from(e.headers),e.data=Ji.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Mh.getAdapter(e.adapter||Ia.adapter,e)(e).then(function(r){return Yi(e),r.data=Ji.call(e,e.transformResponse,r),r.headers=ht.from(r.headers),r},function(r){return Dh(r)||(Yi(e),r&&r.response&&(r.response.data=Ji.call(e,e.transformResponse,r.response),r.response.headers=ht.from(r.response.headers))),Promise.reject(r)})}const Lh="1.13.1",yi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yi[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const bm={};yi.transitional=function(t,s,r){function a(l,i){return"[Axios v"+Lh+"] Transitional option '"+l+"'"+i+(r?". "+r:"")}return(l,i,o)=>{if(t===!1)throw new re(a(i," has been removed"+(s?" in "+s:"")),re.ERR_DEPRECATED);return s&&!bm[i]&&(bm[i]=!0,console.warn(a(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(l,i,o):!0}};yi.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Bb(e,t,s){if(typeof e!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const l=r[a],i=t[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new re("option "+l+" must be "+c,re.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new re("Unknown option "+l,re.ERR_BAD_OPTION)}}const vl={assertOptions:Bb,validators:yi},Wt=vl.validators;let js=class{constructor(t){this.defaults=t||{},this.interceptors={request:new om,response:new om}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Rs(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:l}=s;r!==void 0&&vl.assertOptions(r,{silentJSONParsing:Wt.transitional(Wt.boolean),forcedJSONParsing:Wt.transitional(Wt.boolean),clarifyTimeoutError:Wt.transitional(Wt.boolean)},!1),a!=null&&(O.isFunction(a)?s.paramsSerializer={serialize:a}:vl.assertOptions(a,{encode:Wt.function,serialize:Wt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),vl.assertOptions(s,{baseUrl:Wt.spelling("baseURL"),withXsrfToken:Wt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=l&&O.merge(l.common,l[s.method]);l&&O.forEach(["delete","get","head","post","put","patch","common"],y=>{delete l[y]}),s.headers=ht.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let f,p=0,m;if(!c){const y=[vm.bind(this),void 0];for(y.unshift(...o),y.push(...d),m=y.length,f=Promise.resolve(s);p<m;)f=f.then(y[p++],y[p++]);return f}m=o.length;let v=s;for(;p<m;){const y=o[p++],b=o[p++];try{v=y(v)}catch(w){b.call(this,w);break}}try{f=vm.call(this,v)}catch(y){return Promise.reject(y)}for(p=0,m=d.length;p<m;)f=f.then(d[p++],d[p++]);return f}getUri(t){t=Rs(this.defaults,t);const s=Oh(t.baseURL,t.url,t.allowAbsoluteUrls);return Ph(s,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){js.prototype[t]=function(s,r){return this.request(Rs(r||{},{method:t,url:s,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(t){function s(r){return function(l,i,o){return this.request(Rs(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}js.prototype[t]=s(),js.prototype[t+"Form"]=s(!0)});let Ub=class _h{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const r=this;this.promise.then(a=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](a);r._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{r.subscribe(o),l=o}).then(a);return i.cancel=function(){r.unsubscribe(l)},i},t(function(l,i,o){r.reason||(r.reason=new Pr(l,i,o),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new _h(function(a){t=a}),cancel:t}}};function zb(e){return function(s){return e.apply(null,s)}}function $b(e){return O.isObject(e)&&e.isAxiosError===!0}const yc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yc).forEach(([e,t])=>{yc[t]=e});function qh(e){const t=new js(e),s=xh(js.prototype.request,t);return O.extend(s,js.prototype,t,{allOwnKeys:!0}),O.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return qh(Rs(e,a))},s}const Fe=qh(Ia);Fe.Axios=js;Fe.CanceledError=Pr;Fe.CancelToken=Ub;Fe.isCancel=Dh;Fe.VERSION=Lh;Fe.toFormData=gi;Fe.AxiosError=re;Fe.Cancel=Fe.CanceledError;Fe.all=function(t){return Promise.all(t)};Fe.spread=zb;Fe.isAxiosError=$b;Fe.mergeConfig=Rs;Fe.AxiosHeaders=ht;Fe.formToJSON=e=>Ah(O.isHTMLForm(e)?new FormData(e):e);Fe.getAdapter=Mh.getAdapter;Fe.HttpStatusCode=yc;Fe.default=Fe;const{Axios:Ej,AxiosError:Pj,CanceledError:Rj,isCancel:Aj,CancelToken:Dj,VERSION:Fj,all:Oj,Cancel:Ij,isAxiosError:Tj,spread:Mj,toFormData:Lj,AxiosHeaders:_j,HttpStatusCode:qj,formToJSON:Bj,getAdapter:Uj,mergeConfig:zj}=Fe,V=Fe.create({baseURL:"http://localhost:3000/api",headers:{"Content-Type":"application/json"}});V.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));V.interceptors.response.use(e=>e,e=>{var t,s,r;return((t=e.response)==null?void 0:t.status)===401&&!((r=(s=e.config)==null?void 0:s.url)!=null&&r.includes("/auth/login"))&&(localStorage.removeItem("token"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(e)});const Bh=N.createContext(void 0),Vb=({children:e})=>{const[t,s]=N.useState(null),[r,a]=N.useState(!0);N.useEffect(()=>{localStorage.getItem("token")?l():a(!1)},[]);const l=async()=>{try{const c=await V.get("/auth/me");c.data.status==="success"&&s({...c.data.data.user,userId:c.data.data.user.id})}catch(c){console.error("Failed to fetch user:",c),localStorage.removeItem("token")}finally{a(!1)}},i=async(c,d)=>{var f,p;try{const m=await V.post("/auth/login",{email:c,password:d});if(m.data.status==="success"){const v=m.data.data.token,y=m.data.data.user;localStorage.setItem("token",v),s({...y,userId:y.id})}else throw new Error(m.data.message||"Login failed")}catch(m){throw(p=(f=m.response)==null?void 0:f.data)!=null&&p.message?new Error(m.response.data.message):m.message?m:new Error("Login failed. Please try again.")}},o=()=>{localStorage.removeItem("token"),s(null),window.location.href="/login"};return n.jsx(Bh.Provider,{value:{user:t,loading:r,login:i,logout:o,isAuthenticated:!!t},children:e})},Ce=()=>{const e=N.useContext(Bh);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Qb=()=>{const[e,t]=N.useState(""),[s,r]=N.useState(""),[a,l]=N.useState(""),[i,o]=N.useState(!1),{login:c,isAuthenticated:d,loading:f}=Ce(),p=Xe();N.useEffect(()=>{!f&&d&&p("/dashboard",{replace:!0})},[d,f,p]);const m=async v=>{var y;if(v.preventDefault(),l(""),!e.trim()){l("Please enter your email address");return}if(!s.trim()){l("Please enter your password");return}o(!0);try{await c(e.trim(),s),p("/dashboard",{replace:!0})}catch(b){let w="Login failed. Please check your credentials.";b.response?w=((y=b.response.data)==null?void 0:y.message)||b.message||w:b.request?w="Unable to connect to server. Please check your connection.":w=b.message||w,l(w)}finally{o(!1)}};return f?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):n.jsxs("div",{className:"min-h-screen flex overflow-hidden",children:[n.jsxs("div",{className:"w-full lg:w-1/2 relative flex items-center justify-center min-h-screen",style:{backgroundImage:"url('/login-bg.jpeg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70"}),n.jsxs("div",{className:"relative z-10 w-full max-w-md px-8 py-12",children:[n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-orange-500 text-5xl font-bold tracking-tight mb-2",style:{fontFamily:"Arial, sans-serif",lineHeight:"1.1"},children:"PRIME"}),n.jsxs("div",{className:"flex flex-col mb-2",children:[n.jsx("div",{className:"h-1 w-24 bg-orange-500 mb-1"}),n.jsx("div",{className:"h-0.5 w-24 bg-orange-500"})]}),n.jsx("div",{className:"text-white text-xl font-light tracking-wider mb-1",children:"ACADEMY"}),n.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"SINCE 2013"})]}),n.jsx("p",{className:"text-white text-lg font-light",children:"Digital Art With Excellence"})]}),a&&n.jsx("div",{className:"mb-6 p-4 bg-red-500 bg-opacity-90 text-white rounded-lg text-sm",children:a}),n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsx("div",{children:n.jsx("input",{id:"email",type:"email",value:e,onChange:v=>t(v.target.value),required:!0,className:"w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-30 rounded-lg text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your email",style:{color:"white"}})}),n.jsx("div",{children:n.jsx("input",{id:"password",type:"password",value:s,onChange:v=>r(v.target.value),required:!0,className:"w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-30 rounded-lg text-white placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent backdrop-blur-sm",placeholder:"Enter your password",style:{color:"white"}})}),n.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 px-4 bg-white text-black font-semibold rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Signing in...":"Sign In"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("p",{className:"text-white text-opacity-80 text-sm",children:"Enter your registered email and password to continue"})})]})]}),n.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-white relative overflow-hidden",children:n.jsxs("div",{className:"w-full h-full p-12 flex flex-col justify-center",children:[n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"text-6xl font-bold text-black leading-tight mb-2",children:"A Journey of 12 Years"}),n.jsx("h2",{className:"text-6xl font-bold text-black leading-tight",children:"A Legacy of Pride"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-8",children:[n.jsx("div",{className:"border-4 border-red-600 rounded-lg overflow-hidden bg-gray-200 aspect-square shadow-lg",style:{backgroundImage:"url('/login-page.jpeg')",backgroundSize:"cover",backgroundPosition:"center"},children:n.jsx("div",{className:"w-full h-full bg-black bg-opacity-20"})}),n.jsx("div",{className:"border-4 border-red-600 rounded-lg overflow-hidden bg-gray-200 aspect-square shadow-lg",style:{backgroundImage:"url('/login-page.jpeg')",backgroundSize:"cover",backgroundPosition:"center"},children:n.jsx("div",{className:"w-full h-full bg-black bg-opacity-20"})}),n.jsx("div",{className:"border-4 border-red-600 rounded-lg overflow-hidden bg-gray-200 aspect-square shadow-lg col-span-2",style:{backgroundImage:"url('/login-page.jpeg')",backgroundSize:"cover",backgroundPosition:"center"},children:n.jsx("div",{className:"w-full h-full bg-black bg-opacity-20"})})]})]})})]})},ne=({children:e})=>{var o;const{user:t,logout:s}=Ce(),r=Cr(),[a,l]=N.useState(!0),i=[{name:"Dashboard",href:"/dashboard",icon:""},{name:"Batches",href:"/batches",icon:""},{name:"Students",href:"/students",icon:""},{name:"Faculty",href:"/faculty",icon:""},{name:"Employees",href:"/employees",icon:""},{name:"Attendance",href:"/attendance",icon:""},...(t==null?void 0:t.role)!=="student"?[{name:"My Attendance",href:"/student-attendance",icon:""}]:[],{name:"Payments",href:"/payments",icon:""},{name:"Portfolios",href:"/portfolios",icon:""},{name:"Reports",href:"/reports",icon:""},{name:"Approvals",href:"/approvals",icon:""},{name:"Leave Management",href:"/leaves",icon:""},{name:"Batch Extensions",href:"/batch-extensions",icon:""},{name:"Users",href:"/users",icon:""},...(t==null?void 0:t.role)==="superadmin"?[{name:"Roles",href:"/roles",icon:""}]:[]];return n.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[n.jsxs("aside",{className:`${a?"w-64":"w-20"} bg-white shadow-lg transition-all duration-300 ease-in-out fixed h-screen overflow-y-auto z-50`,children:[n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a&&n.jsx("h1",{className:"text-xl font-bold text-orange-600",children:"Prime Academy"}),n.jsx("button",{onClick:()=>l(!a),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n.jsx("nav",{className:"space-y-2 pb-24",children:i.map(c=>{const d=r.pathname===c.href||c.href!=="/dashboard"&&r.pathname.startsWith(c.href);return n.jsxs(pv,{to:c.href,className:`flex items-center px-4 py-3 rounded-lg transition-colors ${d?"bg-orange-100 text-orange-700 font-semibold":"text-gray-700 hover:bg-gray-100"}`,title:a?"":c.name,children:[n.jsx("span",{className:"text-xl mr-3 flex-shrink-0",children:c.icon}),a&&n.jsx("span",{className:"text-sm whitespace-nowrap",children:c.name})]},c.name)})})]}),a&&t&&n.jsxs("div",{className:"sticky bottom-0 left-0 right-0 p-4 border-t border-gray-200 bg-white mt-auto",children:[n.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("div",{className:"font-semibold text-gray-900 truncate",children:t.name}),n.jsx("div",{className:"text-xs text-gray-500",children:t.role})]}),n.jsx("button",{onClick:s,className:"w-full px-4 py-2 text-sm font-medium text-white bg-orange-600 rounded-lg hover:bg-orange-700 transition-colors",children:"Logout"})]})]}),n.jsxs("div",{className:`flex-1 ${a?"ml-64":"ml-20"} transition-all duration-300 min-h-screen`,children:[n.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-40",children:n.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[!a&&n.jsx("button",{onClick:()=>l(!0),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors mr-4",children:n.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:((o=i.find(c=>r.pathname===c.href||c.href!=="/dashboard"&&r.pathname.startsWith(c.href)))==null?void 0:o.name)||"Dashboard"})]}),n.jsx("div",{className:"flex items-center space-x-4",children:!a&&t&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-sm text-gray-700",children:[t.name," (",t.role,")"]}),n.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 rounded-lg hover:bg-orange-700 transition-colors",children:"Logout"})]})})]})}),n.jsx("main",{className:"p-6 bg-gray-50 min-h-[calc(100vh-4rem)]",children:e})]})]})},jm=()=>{const{user:e}=Ce(),t=Xe(),r=[{name:"Batches",path:"/batches",icon:"",description:"Manage training batches"},{name:"Students",path:"/students",icon:"",description:"Manage students"},{name:"Faculty",path:"/faculty",icon:"",description:"Manage faculty members"},{name:"Employees",path:"/employees",icon:"",description:"Manage employees"},{name:"Attendance",path:"/attendance",icon:"",description:"Track attendance"},...(e==null?void 0:e.role)!=="student"?[{name:"My Attendance",path:"/student-attendance",icon:"",description:"Punch in/out with photo and fingerprint"}]:[],{name:"Payments",path:"/payments",icon:"",description:"Manage payments"},{name:"Portfolios",path:"/portfolios",icon:"",description:"Student portfolios"},{name:"Reports",path:"/reports",icon:"",description:"View reports"},{name:"Approvals",path:"/approvals",icon:"",description:"Manage approvals"},{name:"Leave Management",path:"/leaves",icon:"",description:"Manage leave requests for all users"},{name:"Batch Extensions",path:"/batch-extensions",icon:"",description:"Manage batch extensions"},{name:"Users",path:"/users",icon:"",description:"Manage users"}];return n.jsx(ne,{children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),n.jsxs("p",{className:"mt-2 text-gray-600",children:["Welcome back, ",e==null?void 0:e.name,"!"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(a=>n.jsxs("div",{onClick:()=>t(a.path),className:"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow border border-gray-200 hover:border-orange-500",children:[n.jsx("div",{className:"text-4xl mb-4",children:a.icon}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:a.name}),n.jsx("p",{className:"text-sm text-gray-600",children:a.description})]},a.path))})]})})};var vc=(e=>(e.IN_PROGRESS="in_progress",e.COMPLETED="completed",e))(vc||{});const bl={createCompletion:async e=>(await V.post("/software-completions",e)).data,getCompletions:async e=>(await V.get("/software-completions",{params:e})).data,updateCompletion:async(e,t)=>(await V.patch(`/software-completions/${e}`,t)).data},st={getAllBatches:async()=>(await V.get("/batches")).data,getBatchById:async e=>(await V.get(`/batches/${e}`)).data,createBatch:async e=>(await V.post("/batches",e)).data,updateBatch:async(e,t)=>(await V.put(`/batches/${e}`,t)).data,deleteBatch:async e=>(await V.delete(`/batches/${e}`)).data,suggestCandidates:async e=>(await V.get(`/batches/${e}/candidates/suggest`)).data},Zt={getAllStudents:async()=>(await V.get("/reports/all-students")).data,createEnrollment:async e=>(await V.post("/enrollments",e)).data,completeEnrollment:async e=>(await V.post("/students/enroll",e)).data,bulkEnrollStudents:async e=>{const t=new FormData;return t.append("file",e),(await V.post("/students/bulk-enroll",t,{headers:{"Content-Type":"multipart/form-data"}})).data},downloadEnrollmentTemplate:async()=>(await V.get("/students/template",{responseType:"blob"})).data},Kb=()=>{var x;const{user:e}=Ce(),t=Ne(),[s,r]=N.useState(!1),[a,l]=N.useState(null),[i,o]=N.useState(!1),{data:c,isLoading:d}=te({queryKey:["software-completions",e==null?void 0:e.role,e==null?void 0:e.userId],queryFn:()=>bl.getCompletions()}),{data:f}=te({queryKey:["batches"],queryFn:()=>st.getAllBatches()}),{data:p}=te({queryKey:["students"],queryFn:()=>Zt.getAllStudents()}),m=ee({mutationFn:j=>bl.createCompletion(j),onSuccess:()=>{t.invalidateQueries({queryKey:["software-completions"]}),r(!1),alert("Software completion record created successfully!")}}),v=ee({mutationFn:({id:j,status:R,endDate:A})=>bl.updateCompletion(j,{status:R,endDate:A}),onSuccess:()=>{t.invalidateQueries({queryKey:["software-completions"]}),o(!1),l(null),alert("Software completion record updated successfully!")}}),y=(c==null?void 0:c.data.completions)||[],b=(f==null?void 0:f.data)||[],w=((x=p==null?void 0:p.data)==null?void 0:x.students)||[],u=j=>{const R={[vc.IN_PROGRESS]:"bg-blue-100 text-blue-800",[vc.COMPLETED]:"bg-green-100 text-green-800"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${R[j]}`,children:j.replace("_"," ").toUpperCase()})},h=j=>{l(j),o(!0)},g=(j,R)=>{a&&v.mutate({id:a.id,status:j,endDate:R})};return n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Software Completion Management"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Track software completion for students"})]}),((e==null?void 0:e.role)==="faculty"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"+ Add Completion"})]})}),n.jsx("div",{className:"p-6",children:d?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Software"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Faculty"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),((e==null?void 0:e.role)==="faculty"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(j=>{var R,A,k,_;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:(R=j.student)==null?void 0:R.name}),n.jsx("div",{className:"text-sm text-gray-500",children:(A=j.student)==null?void 0:A.email})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(k=j.batch)==null?void 0:k.title}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j.softwareName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(_=j.faculty)==null?void 0:_.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(j.startDate).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(j.endDate).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u(j.status)}),((e==null?void 0:e.role)==="faculty"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsx("button",{onClick:()=>h(j),className:"text-orange-600 hover:text-orange-900",children:"Update"})})]},j.id)})})]}),y.length===0&&n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No software completion records found"})]})})]})}),s&&n.jsx(Wb,{onClose:()=>r(!1),onSubmit:j=>m.mutate(j),batches:b,students:w,currentUser:e}),i&&a&&n.jsx(Hb,{completion:a,onClose:()=>{o(!1),l(null)},onSubmit:g})]})},Wb=({onClose:e,onSubmit:t,batches:s,students:r,currentUser:a})=>{const[l,i]=N.useState({studentId:0,batchId:0,softwareName:"",startDate:"",endDate:"",facultyId:(a==null?void 0:a.role)==="faculty"?a.userId:0}),o=c=>{c.preventDefault(),l.studentId&&l.batchId&&l.softwareName&&l.startDate&&l.endDate&&l.facultyId?t(l):alert("Please fill in all required fields")};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Add Software Completion"}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student"}),n.jsxs("select",{value:l.studentId,onChange:c=>i({...l,studentId:parseInt(c.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:[n.jsx("option",{value:"",children:"Select Student"}),r.map(c=>n.jsx("option",{value:c.id,children:c.name},c.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch"}),n.jsxs("select",{value:l.batchId,onChange:c=>i({...l,batchId:parseInt(c.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:[n.jsx("option",{value:"",children:"Select Batch"}),s.map(c=>n.jsx("option",{value:c.id,children:c.title},c.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Software Name"}),n.jsx("input",{type:"text",value:l.softwareName,onChange:c=>i({...l,softwareName:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),(a==null?void 0:a.role)!=="faculty"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Faculty"}),n.jsx("input",{type:"number",value:l.facultyId,onChange:c=>i({...l,facultyId:parseInt(c.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),n.jsx("input",{type:"date",value:l.startDate,onChange:c=>i({...l,startDate:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),n.jsx("input",{type:"date",value:l.endDate,onChange:c=>i({...l,endDate:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Submit"})]})]})]})})},Hb=({completion:e,onClose:t,onSubmit:s})=>{var c;const[r,a]=N.useState(e.status),[l,i]=N.useState(e.endDate),o=d=>{d.preventDefault(),s(r,l)};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Update Software Completion"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Student:"})," ",(c=e.student)==null?void 0:c.name]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Software:"})," ",e.softwareName]})]}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:r,onChange:d=>a(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"completed",children:"Completed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),n.jsx("input",{type:"date",value:l,onChange:d=>i(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Update"})]})]})]})})};var Ts=(e=>(e.PENDING="pending",e.APPROVED="approved",e.REJECTED="rejected",e))(Ts||{});const Xi={createExtension:async e=>(await V.post("/batch-extensions",e)).data,getExtensions:async e=>(await V.get("/batch-extensions",{params:e})).data,approveExtension:async(e,t)=>(await V.post(`/batch-extensions/${e}/approve`,t)).data},Gb=()=>{const{user:e}=Ce(),t=Ne(),[s,r]=N.useState(!1),[a,l]=N.useState(null),[i,o]=N.useState(!1),{data:c,isLoading:d}=te({queryKey:["batch-extensions"],queryFn:()=>Xi.getExtensions()}),{data:f}=te({queryKey:["batches"],queryFn:()=>st.getAllBatches()}),p=ee({mutationFn:g=>Xi.createExtension(g),onSuccess:()=>{t.invalidateQueries({queryKey:["batch-extensions"]}),r(!1),alert("Extension request created successfully!")}}),m=ee({mutationFn:({id:g,approve:x,rejectionReason:j})=>Xi.approveExtension(g,{approve:x,rejectionReason:j}),onSuccess:()=>{t.invalidateQueries({queryKey:["batch-extensions"]}),t.invalidateQueries({queryKey:["batches"]}),o(!1),l(null),alert("Extension request processed successfully!")}}),v=(c==null?void 0:c.data.extensions)||[],y=(f==null?void 0:f.data)||[],b=g=>{const x={[Ts.PENDING]:"bg-yellow-100 text-yellow-800",[Ts.APPROVED]:"bg-green-100 text-green-800",[Ts.REJECTED]:"bg-red-100 text-red-800"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${x[g]}`,children:g.toUpperCase()})},w=(g,x)=>{l(g),o(!0)},u=(g,x)=>{a&&m.mutate({id:a.id,approve:g,rejectionReason:x})},h=g=>(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="admin"&&g.numberOfSessions<=3;return n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Batch Extension Management"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Request and manage batch time extensions"})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"+ Request Extension"})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Note:"})," Extensions up to 3 sessions can be approved by Admin. Extensions for more than 3 sessions require SuperAdmin approval."]})}),d?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sessions"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requested By"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(g=>{var x,j,R;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:(x=g.batch)==null?void 0:x.title}),n.jsx("div",{className:"text-sm text-gray-500",children:(j=g.batch)==null?void 0:j.software})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm font-semibold ${g.numberOfSessions>3?"text-red-600":"text-gray-900"}`,children:[g.numberOfSessions," ",g.numberOfSessions>3&&"(Requires SuperAdmin)"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(R=g.requester)==null?void 0:R.name}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:g.reason||"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b(g.status)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[g.status===Ts.PENDING&&h(g)&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>w(g),className:"text-green-600 hover:text-green-900",children:"Approve"}),n.jsx("button",{onClick:()=>w(g),className:"text-red-600 hover:text-red-900",children:"Reject"})]}),g.status===Ts.PENDING&&!h(g)&&n.jsx("span",{className:"text-gray-400",children:"Requires SuperAdmin"})]})]},g.id)})})]}),v.length===0&&n.jsx("div",{className:"text-center py-12 text-gray-500",children:"No extension requests found"})]})]})]})}),s&&n.jsx(Jb,{onClose:()=>r(!1),onSubmit:g=>p.mutate(g),batches:y}),i&&a&&n.jsx(Yb,{extension:a,onClose:()=>{o(!1),l(null)},onSubmit:u})]})},Jb=({onClose:e,onSubmit:t,batches:s})=>{const[r,a]=N.useState({batchId:0,numberOfSessions:1,reason:""}),l=i=>{i.preventDefault(),r.batchId&&r.numberOfSessions>0?t(r):alert("Please fill in all required fields")};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Request Batch Extension"}),n.jsxs("form",{onSubmit:l,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch"}),n.jsxs("select",{value:r.batchId,onChange:i=>a({...r,batchId:parseInt(i.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:[n.jsx("option",{value:"",children:"Select Batch"}),s.map(i=>n.jsx("option",{value:i.id,children:i.title},i.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Sessions"}),n.jsx("input",{type:"number",min:"1",value:r.numberOfSessions,onChange:i=>a({...r,numberOfSessions:parseInt(i.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),r.numberOfSessions>3&&n.jsx("p",{className:"text-sm text-red-600 mt-1",children:"This will require SuperAdmin approval"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),n.jsx("textarea",{value:r.reason,onChange:i=>a({...r,reason:i.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Submit"})]})]})]})})},Yb=({extension:e,onClose:t,onSubmit:s})=>{var c;const[r,a]=N.useState(!0),[l,i]=N.useState(""),o=d=>{d.preventDefault(),s(r,r?void 0:l)};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[n.jsxs("h2",{className:"text-2xl font-bold mb-4",children:[r?"Approve":"Reject"," Extension Request"]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Batch:"})," ",(c=e.batch)==null?void 0:c.title]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Sessions:"})," ",e.numberOfSessions]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"Reason:"})," ",e.reason||"-"]})]}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",checked:r,onChange:()=>a(!0)}),n.jsx("span",{children:"Approve"})]}),n.jsxs("label",{className:"flex items-center space-x-2 mt-2",children:[n.jsx("input",{type:"radio",checked:!r,onChange:()=>a(!1)}),n.jsx("span",{children:"Reject"})]})]}),!r&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rejection Reason"}),n.jsx("textarea",{value:l,onChange:d=>i(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,required:!r})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:`px-4 py-2 rounded-lg text-white ${r?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:r?"Approve":"Reject"})]})]})]})})};var gt=(e=>(e.PENDING="pending",e.APPROVED="approved",e.REJECTED="rejected",e))(gt||{});const Zi={createLeave:async e=>(await V.post("/student-leaves",e)).data,getLeaves:async e=>(await V.get("/student-leaves",{params:e})).data,approveLeave:async(e,t)=>(await V.post(`/student-leaves/${e}/approve`,t)).data},eo={createLeave:async e=>(await V.post("/employee-leaves",e)).data,getLeaves:async e=>(await V.get("/employee-leaves",{params:e})).data,approveLeave:async(e,t)=>(await V.post(`/employee-leaves/${e}/approve`,t)).data},to={createLeave:async e=>(await V.post("/faculty-leaves",e)).data,getLeaves:async e=>(await V.get("/faculty-leaves",{params:e})).data,approveLeave:async(e,t)=>(await V.post(`/faculty-leaves/${e}/approve`,t)).data},Be={getAllUsers:async e=>(await V.get("/users",{params:e})).data,getUser:async e=>(await V.get(`/users/${e}`)).data,createUser:async e=>(await V.post("/auth/register",e)).data,updateUser:async(e,t)=>(await V.put(`/users/${e}`,t)).data,deleteUser:async e=>{await V.delete(`/users/${e}`)},loginAsUser:async e=>(await V.post(`/users/${e}/login-as`)).data,updateStudentProfile:async(e,t)=>(await V.put(`/users/${e}/student-profile`,t)).data},Nm=()=>{var z,G,de,fe,Oe,Re,q,Y,ae,Te,Me,It,xt;const{user:e}=Ce(),t=Ne(),[s,r]=N.useState(()=>(e==null?void 0:e.role)==="student"?"student":(e==null?void 0:e.role)==="employee"?"employee":(e==null?void 0:e.role)==="faculty"?"faculty":"student"),[a,l]=N.useState(!1),[i,o]=N.useState(!1),[c,d]=N.useState(null),[f,p]=N.useState("all"),{data:m,isLoading:v}=te({queryKey:["student-leaves",f],queryFn:()=>Zi.getLeaves(f!=="all"?{status:f}:{}),enabled:s==="student"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"}),{data:y,isLoading:b}=te({queryKey:["employee-leaves",f],queryFn:()=>eo.getLeaves(f!=="all"?{status:f}:{}),enabled:s==="employee"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"}),{data:w,isLoading:u}=te({queryKey:["faculty-leaves",f],queryFn:()=>to.getLeaves(f!=="all"?{status:f}:{}),enabled:s==="faculty"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"}),{data:h}=te({queryKey:["batches"],queryFn:()=>st.getAllBatches(),enabled:a&&s==="student"&&((e==null?void 0:e.role)==="student"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")}),{data:g}=te({queryKey:["students","active"],queryFn:()=>Be.getAllUsers({role:"student",isActive:!0}),enabled:a&&s==="student"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")}),{data:x}=te({queryKey:["employees","active"],queryFn:()=>Be.getAllUsers({role:"employee",isActive:!0}),enabled:a&&s==="employee"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")}),{data:j}=te({queryKey:["faculty","active"],queryFn:()=>Be.getAllUsers({role:"faculty",isActive:!0}),enabled:a&&s==="faculty"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")}),R=ee({mutationFn:Q=>Zi.createLeave(Q),onSuccess:()=>{t.invalidateQueries({queryKey:["student-leaves"]}),l(!1),alert("Leave request created successfully!")},onError:Q=>{var se,ie;alert(((ie=(se=Q.response)==null?void 0:se.data)==null?void 0:ie.message)||"Failed to create leave request")}}),A=ee({mutationFn:Q=>eo.createLeave(Q),onSuccess:()=>{t.invalidateQueries({queryKey:["employee-leaves"]}),l(!1),alert("Leave request created successfully!")},onError:Q=>{var se,ie;alert(((ie=(se=Q.response)==null?void 0:se.data)==null?void 0:ie.message)||"Failed to create leave request")}}),k=ee({mutationFn:Q=>to.createLeave(Q),onSuccess:()=>{t.invalidateQueries({queryKey:["faculty-leaves"]}),l(!1),alert("Leave request created successfully!")},onError:Q=>{var se,ie;alert(((ie=(se=Q.response)==null?void 0:se.data)==null?void 0:ie.message)||"Failed to create leave request")}}),_=ee({mutationFn:({id:Q,approve:se,rejectionReason:ie})=>Zi.approveLeave(Q,{approve:se,rejectionReason:ie}),onSuccess:()=>{t.invalidateQueries({queryKey:["student-leaves"]}),o(!1),d(null),alert("Leave request updated successfully!")},onError:Q=>{var se,ie;alert(((ie=(se=Q.response)==null?void 0:se.data)==null?void 0:ie.message)||"Failed to update leave request")}}),E=ee({mutationFn:({id:Q,approve:se,rejectionReason:ie})=>eo.approveLeave(Q,{approve:se,rejectionReason:ie}),onSuccess:()=>{t.invalidateQueries({queryKey:["employee-leaves"]}),o(!1),d(null),alert("Leave request updated successfully!")},onError:Q=>{var se,ie;alert(((ie=(se=Q.response)==null?void 0:se.data)==null?void 0:ie.message)||"Failed to update leave request")}}),T=ee({mutationFn:({id:Q,approve:se,rejectionReason:ie})=>to.approveLeave(Q,{approve:se,rejectionReason:ie}),onSuccess:()=>{t.invalidateQueries({queryKey:["faculty-leaves"]}),o(!1),d(null),alert("Leave request updated successfully!")},onError:Q=>{var se,ie;alert(((ie=(se=Q.response)==null?void 0:se.data)==null?void 0:ie.message)||"Failed to update leave request")}}),F=Q=>{Q.preventDefault();const se=new FormData(Q.currentTarget);if(s==="student"){const ie={studentId:(e==null?void 0:e.role)==="student"?(e==null?void 0:e.id)||0:parseInt(se.get("studentId")),batchId:parseInt(se.get("batchId")),startDate:se.get("startDate"),endDate:se.get("endDate"),reason:se.get("reason")||void 0};R.mutate(ie)}else if(s==="employee"){const ie={employeeId:(e==null?void 0:e.role)==="employee"?(e==null?void 0:e.id)||0:parseInt(se.get("employeeId")),startDate:se.get("startDate"),endDate:se.get("endDate"),reason:se.get("reason")||void 0};A.mutate(ie)}else if(s==="faculty"){const ie={facultyId:(e==null?void 0:e.role)==="faculty"?(e==null?void 0:e.id)||0:parseInt(se.get("facultyId")),startDate:se.get("startDate"),endDate:se.get("endDate"),reason:se.get("reason")||void 0};k.mutate(ie)}},U=Q=>{d(Q),o(!0)},C=Q=>{if(Q.preventDefault(),!c)return;const se=new FormData(Q.currentTarget),ie=se.get("approve")==="true",Qt=se.get("rejectionReason")||void 0;s==="student"?_.mutate({id:c.id,approve:ie,rejectionReason:Qt}):s==="employee"?E.mutate({id:c.id,approve:ie,rejectionReason:Qt}):s==="faculty"&&T.mutate({id:c.id,approve:ie,rejectionReason:Qt})},M=()=>s==="student"?(m==null?void 0:m.data.leaves)||[]:s==="employee"?(y==null?void 0:y.data.leaves)||[]:s==="faculty"?(w==null?void 0:w.data.leaves)||[]:[],P=()=>s==="student"?v:s==="employee"?b:s==="faculty"?u:!1,K=()=>(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"||s==="student"&&(e==null?void 0:e.role)==="student"||s==="employee"&&(e==null?void 0:e.role)==="employee"||s==="faculty"&&(e==null?void 0:e.role)==="faculty",I=()=>(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin",X=M(),L=f==="all"?X:X.filter(Q=>Q.status===f);return n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Leave Management"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Manage leave requests for all users"})]}),K()&&n.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"+ Request Leave"})]})}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"flex -mb-px",children:[((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="student")&&n.jsx("button",{onClick:()=>r("student"),className:`px-6 py-3 text-sm font-medium ${s==="student"?"border-b-2 border-orange-500 text-orange-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Student Leaves"}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="employee")&&n.jsx("button",{onClick:()=>r("employee"),className:`px-6 py-3 text-sm font-medium ${s==="employee"?"border-b-2 border-orange-500 text-orange-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Employee Leaves"}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="faculty")&&n.jsx("button",{onClick:()=>r("faculty"),className:`px-6 py-3 text-sm font-medium ${s==="faculty"?"border-b-2 border-orange-500 text-orange-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Faculty Leaves"})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-4 flex gap-2",children:[n.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-lg text-sm font-medium ${f==="all"?"bg-orange-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"All"}),n.jsx("button",{onClick:()=>p(gt.PENDING),className:`px-4 py-2 rounded-lg text-sm font-medium ${f===gt.PENDING?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Pending"}),n.jsx("button",{onClick:()=>p(gt.APPROVED),className:`px-4 py-2 rounded-lg text-sm font-medium ${f===gt.APPROVED?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Approved"}),n.jsx("button",{onClick:()=>p(gt.REJECTED),className:`px-4 py-2 rounded-lg text-sm font-medium ${f===gt.REJECTED?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Rejected"})]}),P()?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):L.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"No leave requests found"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[s==="student"&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),s==="employee"&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),s==="faculty"&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Faculty"}),s==="student"&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),I()&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(Q=>{var se,ie,Qt,Fs,Os,Rr,Ta,Ma;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[s==="student"&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:((se=Q.student)==null?void 0:se.name)||"N/A"}),n.jsx("div",{className:"text-sm text-gray-500",children:(ie=Q.student)==null?void 0:ie.email})]}),s==="employee"&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Qt=Q.employee)==null?void 0:Qt.name)||"N/A"}),n.jsx("div",{className:"text-sm text-gray-500",children:(Fs=Q.employee)==null?void 0:Fs.email})]}),s==="faculty"&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Os=Q.faculty)==null?void 0:Os.name)||"N/A"}),n.jsx("div",{className:"text-sm text-gray-500",children:(Rr=Q.faculty)==null?void 0:Rr.email})]}),s==="student"&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:((Ta=Q.batch)==null?void 0:Ta.title)||"N/A"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(Q.startDate).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(Q.endDate).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:Q.reason||"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${Q.status===gt.APPROVED?"bg-green-100 text-green-800":Q.status===gt.REJECTED?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Q.status})}),I()&&Q.status===gt.PENDING&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[n.jsx("button",{onClick:()=>U(Q),className:"text-green-600 hover:text-green-900 mr-3",children:"Approve"}),n.jsx("button",{onClick:()=>U(Q),className:"text-red-600 hover:text-red-900",children:"Reject"})]}),I()&&Q.status!==gt.PENDING&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[((Ma=Q.approver)==null?void 0:Ma.name)&&`By ${Q.approver.name}`,Q.approvedAt&&` on ${new Date(Q.approvedAt).toLocaleDateString()}`]})]},Q.id)})})]})})]})]})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Request Leave"}),n.jsx("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("form",{onSubmit:F,children:[s==="student"&&n.jsxs(n.Fragment,{children:[((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student *"}),n.jsxs("select",{name:"studentId",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:!((z=g==null?void 0:g.data)!=null&&z.users),children:[n.jsx("option",{value:"",children:(G=g==null?void 0:g.data)!=null&&G.users?"Select Student":"Loading..."}),(fe=(de=g==null?void 0:g.data)==null?void 0:de.users)==null?void 0:fe.map(Q=>n.jsxs("option",{value:Q.id,children:[Q.name," (",Q.email,")"]},Q.id))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch *"}),n.jsxs("select",{name:"batchId",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select Batch"}),(Oe=h==null?void 0:h.data)==null?void 0:Oe.map(Q=>n.jsx("option",{value:Q.id,children:Q.title},Q.id))]})]})]}),s==="employee"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee *"}),n.jsxs("select",{name:"employeeId",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:!((Re=x==null?void 0:x.data)!=null&&Re.users),children:[n.jsx("option",{value:"",children:(q=x==null?void 0:x.data)!=null&&q.users?"Select Employee":"Loading..."}),(ae=(Y=x==null?void 0:x.data)==null?void 0:Y.users)==null?void 0:ae.map(Q=>n.jsxs("option",{value:Q.id,children:[Q.name," (",Q.email,")"]},Q.id))]})]}),s==="faculty"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Faculty *"}),n.jsxs("select",{name:"facultyId",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:!((Te=j==null?void 0:j.data)!=null&&Te.users),children:[n.jsx("option",{value:"",children:(Me=j==null?void 0:j.data)!=null&&Me.users?"Select Faculty":"Loading..."}),(xt=(It=j==null?void 0:j.data)==null?void 0:It.users)==null?void 0:xt.map(Q=>n.jsxs("option",{value:Q.id,children:[Q.name," (",Q.email,")"]},Q.id))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),n.jsx("input",{type:"date",name:"startDate",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),n.jsx("input",{type:"date",name:"endDate",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),n.jsx("textarea",{name:"reason",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:s==="student"&&R.isPending||s==="employee"&&A.isPending||s==="faculty"&&k.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:R.isPending||A.isPending||k.isPending?"Submitting...":"Submit Request"}),n.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}),i&&c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:c.status===gt.PENDING?"Approve/Reject Leave":"Leave Details"}),n.jsx("button",{onClick:()=>{o(!1),d(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.status===gt.PENDING?n.jsxs("form",{onSubmit:C,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action *"}),n.jsxs("select",{name:"approve",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"true",children:"Approve"}),n.jsx("option",{value:"false",children:"Reject"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rejection Reason (if rejecting)"}),n.jsx("textarea",{name:"rejectionReason",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:s==="student"&&_.isPending||s==="employee"&&E.isPending||s==="faculty"&&T.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:_.isPending||E.isPending||T.isPending?"Processing...":"Submit"}),n.jsx("button",{type:"button",onClick:()=>{o(!1),d(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.status})]}),c.rejectionReason&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rejection Reason"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.rejectionReason})]}),c.approver&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Approved By"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.approver.name})]}),n.jsx("button",{onClick:()=>{o(!1),d(null)},className:"w-full px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Close"})]})]})})]})},Xb=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Zb=()=>{const{user:e}=Ce(),t=Xe(),s=Ne(),[r,a]=N.useState(null),[l,i]=N.useState(!1),[o,c]=N.useState(!1),[d,f]=N.useState(!1),[p,m]=N.useState({}),[v,y]=N.useState(!1),{data:b,isLoading:w}=te({queryKey:["batches"],queryFn:()=>st.getAllBatches()}),u=ee({mutationFn:({id:T,data:F})=>st.updateBatch(T,F),onSuccess:()=>{s.invalidateQueries({queryKey:["batches"]}),c(!1),a(null),m({}),y(!1),alert("Batch updated successfully!")},onError:T=>{var F,U;alert(((U=(F=T.response)==null?void 0:F.data)==null?void 0:U.message)||"Failed to update batch")}}),h=ee({mutationFn:T=>st.deleteBatch(T),onSuccess:()=>{s.invalidateQueries({queryKey:["batches"]}),f(!1),a(null),alert("Batch deleted successfully!")},onError:T=>{var F,U;alert(((U=(F=T.response)==null?void 0:F.data)==null?void 0:U.message)||"Failed to delete batch")}}),g=(b==null?void 0:b.data)||[],x=T=>{a(T),i(!0)},j=T=>{a(T),m(T.schedule||{}),y(!1),c(!0)},R=T=>{m(F=>{if(F[T]){const U={...F};return delete U[T],U}else return{...F,[T]:{startTime:"",endTime:""}}})},A=(T,F,U)=>{m(C=>{const M={...C};return v?Object.keys(C).forEach(P=>{M[P]={...C[P],[F]:U}}):M[T]={...C[T],[F]:U},M})},k=T=>{a(T),f(!0)},_=()=>{r&&h.mutate(r.id)},E=T=>{if(T.preventDefault(),!r)return;const F=new FormData(T.currentTarget),U={title:F.get("title")||void 0,software:F.get("software")||void 0,mode:F.get("mode")||void 0,startDate:F.get("startDate")||void 0,endDate:F.get("endDate")||void 0,maxCapacity:F.get("maxCapacity")?parseInt(F.get("maxCapacity")):void 0,status:F.get("status")||void 0,schedule:Object.keys(p).length>0?Object.fromEntries(Object.entries(p).filter(([C,M])=>M.startTime&&M.endTime)):void 0};u.mutate({id:r.id,data:U})};return w?n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})}):n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Batch Management"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Manage training batches"})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("button",{onClick:()=>t("/batches/create"),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"+ Create Batch"})]})}),n.jsx("div",{className:"p-6",children:g.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"No batches found"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(T=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:T.title}),T.software&&n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Software:"})," ",T.software]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Mode:"})," ",T.mode]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Start:"})," ",new Date(T.startDate).toLocaleDateString()]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"End:"})," ",new Date(T.endDate).toLocaleDateString()]}),T.maxCapacity&&n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Capacity:"})," ",T.maxCapacity]}),T.status&&n.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold ${T.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.status}),n.jsxs("div",{className:"mt-4 flex gap-2 flex-wrap",children:[n.jsx("button",{onClick:()=>x(T),className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 transition-colors",title:"View Batch",children:" View"}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>j(T),className:"px-3 py-1 bg-orange-500 text-white rounded text-sm hover:bg-orange-600 transition-colors",title:"Edit Batch",children:" Edit"}),n.jsx("button",{onClick:()=>k(T),className:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",title:"Delete Batch",children:" Delete"})]})]})]},T.id))})})]})}),l&&r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Batch Details"}),n.jsx("button",{onClick:()=>{i(!1),a(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.title})]}),r.software&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Software"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.software})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mode"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:r.mode})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(r.startDate).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(r.endDate).toLocaleDateString()})]})]}),r.maxCapacity&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Max Capacity"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.maxCapacity})]}),r.status&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsx("span",{className:`inline-block mt-1 px-2 py-1 rounded text-xs font-semibold ${r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status})]}),r.schedule&&Object.keys(r.schedule).length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule"}),n.jsx("div",{className:"space-y-2",children:Object.entries(r.schedule).map(([T,F])=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:T}),n.jsxs("span",{className:"text-sm text-gray-600",children:[F.startTime," - ",F.endTime]})]},T))})]}),r.enrollments&&r.enrollments.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Enrolled Students"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.enrollments.length})]}),r.assignedFaculty&&r.assignedFaculty.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Faculty"}),n.jsx("div",{className:"mt-1",children:r.assignedFaculty.map(T=>n.jsxs("p",{className:"text-sm text-gray-900",children:[T.name," (",T.email,")"]},T.id))})]}),r.createdAt&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created At"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(r.createdAt).toLocaleString()})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:()=>{i(!1),a(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Close"})})]})}),o&&r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Edit Batch"}),n.jsxs("form",{onSubmit:E,children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),n.jsx("input",{type:"text",name:"title",defaultValue:r.title,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Software"}),n.jsx("input",{type:"text",name:"software",defaultValue:r.software||"",placeholder:"e.g., Adobe Photoshop, Figma",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode *"}),n.jsxs("select",{name:"mode",defaultValue:r.mode,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"online",children:"Online"}),n.jsx("option",{value:"offline",children:"Offline"}),n.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),n.jsx("input",{type:"date",name:"startDate",defaultValue:r.startDate.split("T")[0],required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),n.jsx("input",{type:"date",name:"endDate",defaultValue:r.endDate.split("T")[0],required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Capacity"}),n.jsx("input",{type:"number",name:"maxCapacity",min:"1",defaultValue:r.maxCapacity||"",placeholder:"e.g., 30",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{name:"status",defaultValue:r.status||"active",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),n.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Schedule (Optional)"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select days and set start/end times for each day"}),n.jsxs("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:v,onChange:T=>y(T.target.checked),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),n.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Apply same time to all selected days"})]}),n.jsx("p",{className:"ml-6 mt-1 text-xs text-gray-600",children:"When enabled, changing time on any day will update all selected days"})]}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Xb.map(T=>{const F=!!p[T],U=p[T]||{startTime:"",endTime:""};return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:F,onChange:()=>R(T),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),n.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:T})]})}),F&&n.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2 pl-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Start Time"}),n.jsx("input",{type:"time",value:U.startTime,onChange:C=>A(T,"startTime",C.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"End Time"}),n.jsx("input",{type:"time",value:U.endTime,onChange:C=>A(T,"endTime",C.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm"})]})]})]},T)})})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{type:"submit",disabled:u.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:u.isPending?"Updating...":"Update"}),n.jsx("button",{type:"button",onClick:()=>{c(!1),a(null),m({}),y(!1)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}),d&&r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Delete Batch"}),n.jsxs("p",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete ",n.jsx("strong",{children:r.title}),"? This action cannot be undone."]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:_,disabled:h.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",children:h.isPending?"Deleting...":"Delete"}),n.jsx("button",{onClick:()=>{f(!1),a(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})})]})},ej=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],tj=()=>{const{user:e}=Ce(),t=Xe(),s=Ne(),[r,a]=N.useState({}),[l,i]=N.useState(!1),[o,c]=N.useState([]),[d,f]=N.useState(!1),[p,m]=N.useState([]),[v,y]=N.useState(!1),[b,w]=N.useState(""),[u,h]=N.useState([]),{data:g}=te({queryKey:["students"],queryFn:()=>Zt.getAllStudents()}),x=ee({mutationFn:async F=>{const U=await st.createBatch(F);if(o.length>0&&U.data.batch){const C=o.map(M=>Zt.createEnrollment({studentId:M,batchId:U.data.batch.id,enrollmentDate:new Date().toISOString().split("T")[0],status:"active"}).catch(P=>(console.error(`Failed to enroll student ${M}:`,P),null)));await Promise.all(C)}return U},onSuccess:()=>{s.invalidateQueries({queryKey:["batches"]}),s.invalidateQueries({queryKey:["students"]}),alert("Batch created successfully!"),t("/batches")},onError:F=>{var U,C;alert(((C=(U=F.response)==null?void 0:U.data)==null?void 0:C.message)||"Failed to create batch")}}),j=F=>{a(U=>{if(U[F]){const C={...U};return delete C[F],C}else return{...U,[F]:{startTime:"",endTime:""}}})},R=(F,U,C)=>{a(M=>{const P={...M};return l?Object.keys(M).forEach(K=>{P[K]={...M[K],[U]:C}}):P[F]={...M[F],[U]:C},P})},A=F=>{F.preventDefault();const U=new FormData(F.currentTarget),C=u.length>0?u.join(", "):void 0,M={title:U.get("title"),software:C,mode:U.get("mode"),startDate:U.get("startDate"),endDate:U.get("endDate"),maxCapacity:U.get("maxCapacity")?parseInt(U.get("maxCapacity")):void 0,status:U.get("status")||"active",schedule:Object.keys(r).length>0?Object.fromEntries(Object.entries(r).filter(([P,K])=>K.startTime&&K.endTime)):void 0};x.mutate(M)},k=async()=>{var P,K;const F=document.querySelector("form");if(!F)return;const U=new FormData(F),C=u.length>0?u.join(", "):void 0,M=U.get("startDate");if(!C||!M){alert("Please select software and enter start date first to get suggestions");return}try{const I={title:"TEMP_FOR_SUGGESTIONS",software:C,mode:U.get("mode")||"online",startDate:M,endDate:U.get("endDate")||M,maxCapacity:100},X=await st.createBatch(I);if(X.data.batch){const L=await st.suggestCandidates(X.data.batch.id);m(L.data.candidates),f(!0);try{await st.deleteBatch(X.data.batch.id)}catch(z){console.error("Failed to delete temp batch:",z)}}}catch(I){alert(((K=(P=I.response)==null?void 0:P.data)==null?void 0:K.message)||"Failed to get suggestions")}},_=F=>{c(U=>U.includes(F)?U.filter(C=>C!==F):[...U,F])},E=F=>{(F.status==="available"||F.status==="fees_overdue")&&_(F.studentId)},T=(g==null?void 0:g.data.students)||[];return(e==null?void 0:e.role)!=="admin"&&(e==null?void 0:e.role)!=="superadmin"?n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6",children:[n.jsx("p",{className:"text-red-600",children:"You don't have permission to create batches."}),n.jsx("button",{onClick:()=>t("/batches"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Back to Batches"})]})})}):n.jsx(ne,{children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Create New Batch"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Fill in the details to create a new training batch"})]}),n.jsx("button",{onClick:()=>t("/batches"),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:" Back"})]})}),n.jsx("div",{className:"p-8",children:n.jsxs("form",{onSubmit:A,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Batch Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"title",required:!0,placeholder:"e.g., Digital Art Fundamentals - Batch 1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Software"}),n.jsx("div",{className:"border border-gray-300 rounded-lg p-4 max-h-48 overflow-y-auto",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Photoshop","Illustrator","InDesign","After Effects","Premiere Pro","Figma","Sketch","Blender","Maya","3ds Max","Cinema 4D","Lightroom","CorelDRAW","AutoCAD","SolidWorks","Revit","SketchUp","Unity","Unreal Engine","DaVinci Resolve","Final Cut Pro","Procreate","Affinity Designer","Affinity Photo","Canva Pro","Other"].map(F=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[n.jsx("input",{type:"checkbox",checked:F==="Other"?v:u.includes(F),onChange:U=>{F==="Other"?y(U.target.checked):U.target.checked?h(C=>[...C,F]):h(C=>C.filter(M=>M!==F))},className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:F})]},F))})}),v&&n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specify Other Software"}),n.jsx("input",{type:"text",value:b,onChange:F=>{const U=F.target.value;if(w(U),U.trim()){const C=U.split(",").map(M=>M.trim()).filter(M=>M);h(M=>[...M.filter(K=>["Photoshop","Illustrator","InDesign","After Effects","Premiere Pro","Figma","Sketch","Blender","Maya","3ds Max","Cinema 4D","Lightroom","CorelDRAW","AutoCAD","SolidWorks","Revit","SketchUp","Unity","Unreal Engine","DaVinci Resolve","Final Cut Pro","Procreate","Affinity Designer","Affinity Photo","Canva Pro"].includes(K)),...C])}else h(C=>C.filter(M=>["Photoshop","Illustrator","InDesign","After Effects","Premiere Pro","Figma","Sketch","Blender","Maya","3ds Max","Cinema 4D","Lightroom","CorelDRAW","AutoCAD","SolidWorks","Revit","SketchUp","Unity","Unreal Engine","DaVinci Resolve","Final Cut Pro","Procreate","Affinity Designer","Affinity Photo","Canva Pro"].includes(M)))},placeholder:"Enter software names (comma separated)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),u.length>0&&n.jsxs("p",{className:"mt-2 text-xs text-gray-600",children:["Selected: ",u.join(", ")]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Mode ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"mode",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select mode"}),n.jsx("option",{value:"online",children:"Online"}),n.jsx("option",{value:"offline",children:"Offline"}),n.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Start Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",name:"startDate",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["End Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",name:"endDate",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Capacity"}),n.jsx("input",{type:"number",name:"maxCapacity",min:"1",placeholder:"e.g., 30",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Maximum number of students allowed in this batch"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{name:"status",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),n.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Students (Optional)"}),n.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-semibold hover:bg-blue-700 transition-colors",children:"Get Suggested Students"})]}),d&&p.length>0&&n.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Suggested Students (based on software)"}),n.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:p.map(F=>n.jsx("div",{className:`p-2 rounded border cursor-pointer ${F.status==="available"?"bg-green-50 border-green-300 hover:bg-green-100":F.status==="fees_overdue"?"bg-yellow-50 border-yellow-300 hover:bg-yellow-100":"bg-gray-50 border-gray-300 opacity-50"}`,onClick:()=>E(F),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsxs("span",{className:"text-xs text-gray-600 ml-2",children:["(",F.email,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-xs px-2 py-1 rounded ${F.status==="available"?"bg-green-200 text-green-800":F.status==="fees_overdue"?"bg-yellow-200 text-yellow-800":"bg-gray-200 text-gray-800"}`,children:F.statusMessage}),n.jsx("input",{type:"checkbox",checked:o.includes(F.studentId),onChange:()=>_(F.studentId),disabled:F.status==="busy",className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"})]})]})},F.studentId))})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Students to Enroll"}),n.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-300 rounded-lg p-3 space-y-2",children:T.map(F=>n.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:o.includes(F.id),onChange:()=>_(F.id),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500 mr-3"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",F.email,")"]})]})]},F.id))}),o.length>0&&n.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[o.length," student(s) selected"]})]})]}),n.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schedule (Optional)"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select days and set start/end times for each day"}),n.jsxs("div",{className:"mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:l,onChange:F=>i(F.target.checked),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),n.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Apply same time to all selected days"})]}),n.jsx("p",{className:"ml-6 mt-1 text-xs text-gray-600",children:"When enabled, changing time on any day will update all selected days"})]}),n.jsx("div",{className:"space-y-4",children:ej.map(F=>{const U=!!r[F],C=r[F]||{startTime:"",endTime:""};return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:U,onChange:()=>j(F),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),n.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:F})]})}),U&&n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 pl-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Start Time"}),n.jsx("input",{type:"time",value:C.startTime,onChange:M=>R(F,"startTime",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"End Time"}),n.jsx("input",{type:"time",value:C.endTime,onChange:M=>R(F,"endTime",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm"})]})]})]},F)})})]}),n.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"submit",disabled:x.isPending,className:"flex-1 px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x.isPending?"Creating...":"Create Batch"}),n.jsx("button",{type:"button",onClick:()=>t("/batches"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})})]})})})},vi={getAllFaculty:async()=>(await V.get("/users",{params:{role:"faculty"}})).data,createFacultyProfile:async e=>(await V.post("/faculty",e)).data,updateFacultyProfile:async(e,t)=>(await V.put(`/users/${e}/faculty-profile`,t)).data},bi={uploadFile:async e=>{const t=new FormData;return t.append("files",e),(await V.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data},uploadMultipleFiles:async e=>{const t=new FormData;return e.forEach(r=>{t.append("files",r)}),(await V.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},nj=()=>{var R,A;const{user:e}=Ce(),t=Xe(),s=Ne(),[r,a]=N.useState(null),[l,i]=N.useState(!1),[o,c]=N.useState(!1),[d,f]=N.useState(null),[p,m]=N.useState(!1),{data:v,isLoading:y,error:b}=te({queryKey:["faculty"],queryFn:()=>vi.getAllFaculty(),retry:1}),w=ee({mutationFn:k=>Be.deleteUser(k),onSuccess:()=>{s.invalidateQueries({queryKey:["faculty"]}),i(!1),a(null),alert("Faculty deleted successfully!")},onError:k=>{var _,E;alert(((E=(_=k.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to delete faculty")}}),u=ee({mutationFn:({userId:k,avatarUrl:_})=>Be.updateUser(k,{avatarUrl:_}),onSuccess:()=>{s.invalidateQueries({queryKey:["faculty"]}),c(!1),a(null),f(null),alert("Image updated successfully!")},onError:k=>{var _,E;alert(((E=(_=k.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to update image"),m(!1)}}),h=async k=>{var T,F,U;const _=(T=k.target.files)==null?void 0:T[0];if(!_||!r)return;if(!_.type.startsWith("image/")){alert("Please select an image file");return}if(_.size>5*1024*1024){alert("Image size must be less than 5MB");return}const E=new FileReader;E.onloadend=()=>{f(E.result)},E.readAsDataURL(_),m(!0);try{const C=await bi.uploadFile(_);if(C.data.files.length>0){const M=C.data.files[0].url;u.mutate({userId:r.id,avatarUrl:M})}}catch(C){alert(((U=(F=C.response)==null?void 0:F.data)==null?void 0:U.message)||"Failed to upload image"),m(!1)}},g=(v==null?void 0:v.data.users)||[],x=k=>{a(k),i(!0)},j=()=>{r&&w.mutate(r.id)};return y?n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})}):b?n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"bg-white shadow-xl rounded-lg p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-red-600 text-lg mb-4",children:"Error loading faculty data"}),n.jsx("p",{className:"text-gray-500 text-sm",children:((A=(R=b==null?void 0:b.response)==null?void 0:R.data)==null?void 0:A.message)||(b==null?void 0:b.message)||"Unknown error"}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Retry"})]})})})}):n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Faculty Management"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Manage faculty members"})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("button",{onClick:()=>window.location.href="/faculty/register",className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"+ New Faculty Registration"})]})}),n.jsx("div",{className:"p-6",children:g.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"No faculty members found"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(k=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:k.avatarUrl?n.jsx("img",{src:k.avatarUrl,alt:k.name,className:"h-16 w-16 rounded-full object-cover border-2 border-orange-200",onError:_=>{_.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(k.name)+"&background=orange&color=fff"}}):n.jsx("div",{className:"h-16 w-16 rounded-full bg-orange-500 flex items-center justify-center text-white font-semibold text-xl",children:k.name.charAt(0).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:k.name}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.email}),k.phone&&n.jsx("p",{className:"text-sm text-gray-600",children:k.phone})]})]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${k.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.isActive?"Active":"Inactive"})]}),k.facultyProfile&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[k.facultyProfile.expertise&&n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Expertise:"})," ",k.facultyProfile.expertise]}),k.facultyProfile.availability&&n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Availability:"})," ",k.facultyProfile.availability]})]}),!k.facultyProfile&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsx("p",{className:"text-xs text-gray-500 italic",children:"No faculty profile created yet"})}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex flex-col gap-2",children:[n.jsx("button",{onClick:()=>{a(k),f(k.avatarUrl||null),c(!0)},className:"w-full px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:" Update Photo"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>t(`/faculty/${k.id}/edit`),className:"flex-1 px-3 py-2 bg-orange-600 text-white rounded text-sm hover:bg-orange-700 transition-colors",children:" Edit"}),(e==null?void 0:e.role)==="superadmin"&&n.jsx("button",{onClick:()=>x(k),className:"flex-1 px-3 py-2 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors",children:" Delete"})]})]})]},k.id))})})]})}),l&&r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Delete Faculty"}),n.jsxs("p",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete ",n.jsx("strong",{children:r.name}),"? This action cannot be undone."]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:j,disabled:w.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",children:w.isPending?"Deleting...":"Delete"}),n.jsx("button",{onClick:()=>{i(!1),a(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}),o&&r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Update Faculty Photo"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("strong",{children:"Faculty:"})," ",r.name]}),n.jsx("div",{className:"flex justify-center mb-4",children:d?n.jsx("img",{src:d,alt:"Preview",className:"h-32 w-32 rounded-full object-cover border-4 border-orange-500"}):n.jsx("div",{className:"h-32 w-32 rounded-full bg-gray-200 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-400",children:"No image"})})}),n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Image (JPG, PNG - Max 5MB)"}),n.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:h,disabled:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50"})]}),n.jsx("div",{className:"flex gap-3",children:n.jsx("button",{type:"button",onClick:()=>{c(!1),a(null),f(null)},disabled:p,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors disabled:opacity-50",children:p?"Uploading...":"Close"})})]})})]})},sj=()=>{var d,f;const{id:e}=wd(),{user:t}=Ce(),s=Xe(),r=Ne(),{data:a,isLoading:l}=te({queryKey:["faculty",e],queryFn:async()=>(await V.get(`/users/${e}`)).data.data.user,enabled:!!e}),i=ee({mutationFn:p=>Be.updateUser(Number(e),p),onSuccess:()=>{r.invalidateQueries({queryKey:["faculty",e]}),r.invalidateQueries({queryKey:["faculty"]})}}),o=ee({mutationFn:p=>vi.updateFacultyProfile(Number(e),p),onSuccess:()=>{r.invalidateQueries({queryKey:["faculty",e]}),r.invalidateQueries({queryKey:["faculty"]}),alert("Faculty updated successfully!"),s("/faculty")},onError:p=>{var m,v;alert(((v=(m=p.response)==null?void 0:m.data)==null?void 0:v.message)||"Failed to update faculty profile")}});if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="superadmin")return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6",children:[n.jsx("p",{className:"text-red-600",children:"You don't have permission to edit faculty."}),n.jsx("button",{onClick:()=>s("/faculty"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Back to Faculty"})]})})});if(l)return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})});if(!a)return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6",children:[n.jsx("p",{className:"text-red-600",children:"Faculty not found."}),n.jsx("button",{onClick:()=>s("/faculty"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Back to Faculty"})]})})});const c=p=>{p.preventDefault();const m=new FormData(p.currentTarget),v={name:m.get("name")||void 0,email:m.get("email")||void 0,phone:m.get("phone")||void 0,isActive:m.get("isActive")==="true"},y={expertise:m.get("expertise")||void 0,availability:m.get("availability")||void 0};i.mutate(v,{onSuccess:()=>{y.expertise||y.availability?o.mutate(y):(alert("Faculty updated successfully!"),s("/faculty"))}})};return n.jsx(ne,{children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Edit Faculty"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Update faculty information"})]}),n.jsx("button",{onClick:()=>s("/faculty"),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:" Back"})]})}),n.jsx("div",{className:"p-8",children:n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),n.jsx("input",{type:"text",name:"name",defaultValue:a.name,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),n.jsx("input",{type:"email",name:"email",defaultValue:a.email,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",name:"phone",defaultValue:a.phone||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),n.jsxs("select",{name:"isActive",defaultValue:a.isActive?"true":"false",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"true",children:"Active"}),n.jsx("option",{value:"false",children:"Inactive"})]})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Faculty Profile"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expertise"}),n.jsx("textarea",{name:"expertise",rows:4,defaultValue:((d=a.facultyProfile)==null?void 0:d.expertise)||"",placeholder:"e.g., Digital Art, Photoshop, Illustrator, UI/UX Design",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"List the areas of expertise for this faculty member"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Availability"}),n.jsx("textarea",{name:"availability",rows:4,defaultValue:((f=a.facultyProfile)==null?void 0:f.availability)||"",placeholder:"e.g., Monday-Friday, 9 AM - 5 PM",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Specify the availability schedule for this faculty member"})]})]})]}),n.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"submit",disabled:i.isPending||o.isPending,className:"flex-1 px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:i.isPending||o.isPending?"Saving...":"Save Changes"}),n.jsx("button",{type:"button",onClick:()=>s("/faculty"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})})]})})})},rj=()=>{const{user:e}=Ce(),t=Xe(),s=Ne(),[r,a]=N.useState(!1),[l,i]=N.useState(!1),[o,c]=N.useState(!1),[d,f]=N.useState(!1),[p,m]=N.useState(!1),[v,y]=N.useState(null),[b,w]=N.useState(null),[u,h]=N.useState(!1),[g,x]=N.useState(!1),[j,R]=N.useState(null),{data:A,isLoading:k}=te({queryKey:["students"],queryFn:()=>Zt.getAllStudents()}),{data:_}=te({queryKey:["batches"],queryFn:()=>st.getAllBatches()}),{data:E,isLoading:T}=te({queryKey:["student-profile",v==null?void 0:v.id],queryFn:()=>Be.getUser(v.id),enabled:!!v&&o}),{data:F}=te({queryKey:["software-completions",v==null?void 0:v.id],queryFn:()=>bl.getCompletions({studentId:v==null?void 0:v.id}),enabled:!!v&&o}),U=ee({mutationFn:q=>Zt.createEnrollment(q),onSuccess:()=>{s.invalidateQueries({queryKey:["students"]}),s.invalidateQueries({queryKey:["batches"]}),a(!1),alert("Student enrolled successfully!")},onError:q=>{var Y,ae;alert(((ae=(Y=q.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Failed to enroll student. Please check if the enrollment endpoint exists in the backend.")}}),C=ee({mutationFn:({userId:q,avatarUrl:Y})=>Be.updateUser(q,{avatarUrl:Y}),onSuccess:()=>{s.invalidateQueries({queryKey:["students"]}),i(!1),y(null),w(null),alert("Image updated successfully!")},onError:q=>{var Y,ae;alert(((ae=(Y=q.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Failed to update image"),h(!1)}}),M=ee({mutationFn:q=>Be.deleteUser(q),onSuccess:()=>{s.invalidateQueries({queryKey:["students"]}),f(!1),y(null),alert("Student deleted successfully!")},onError:q=>{var Y,ae;alert(((ae=(Y=q.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Failed to delete student")}}),P=ee({mutationFn:q=>Zt.bulkEnrollStudents(q),onSuccess:q=>{R(q.data),s.invalidateQueries({queryKey:["students"]}),s.invalidateQueries({queryKey:["batches"]}),x(!1),q.data.failed===0&&(alert(`Successfully enrolled ${q.data.success} student(s)!`),m(!1),R(null))},onError:q=>{var Y,ae;x(!1),alert(((ae=(Y=q.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Failed to bulk enroll students")}}),K=async()=>{var q,Y;try{const ae=await Zt.downloadEnrollmentTemplate(),Te=window.URL.createObjectURL(ae),Me=document.createElement("a");Me.href=Te,Me.download="student_enrollment_template.xlsx",document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),window.URL.revokeObjectURL(Te)}catch(ae){alert(((Y=(q=ae.response)==null?void 0:q.data)==null?void 0:Y.message)||"Failed to download template")}},I=async q=>{q.preventDefault();const ae=new FormData(q.currentTarget).get("file");if(!ae){alert("Please select a file");return}if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"].includes(ae.type)){alert("Invalid file type. Only Excel files (.xlsx, .xls) and CSV files are allowed.");return}x(!0),R(null),P.mutate(ae)},X=async q=>{var Te,Me,It;const Y=(Te=q.target.files)==null?void 0:Te[0];if(!Y||!v)return;if(!Y.type.startsWith("image/")){alert("Please select an image file");return}if(Y.size>5*1024*1024){alert("Image size must be less than 5MB");return}const ae=new FileReader;ae.onloadend=()=>{w(ae.result)},ae.readAsDataURL(Y),h(!0);try{const xt=await bi.uploadFile(Y);if(xt.data.files.length>0){const Q=xt.data.files[0].url;C.mutate({userId:v.id,avatarUrl:Q})}}catch(xt){alert(((It=(Me=xt.response)==null?void 0:Me.data)==null?void 0:It.message)||"Failed to upload image"),h(!1)}},L=(A==null?void 0:A.data.students)||[],z=(_==null?void 0:_.data)||[],G=q=>{q.preventDefault();const Y=new FormData(q.currentTarget),ae={studentId:parseInt(Y.get("studentId")),batchId:parseInt(Y.get("batchId")),enrollmentDate:Y.get("enrollmentDate")||new Date().toISOString().split("T")[0],status:Y.get("status")||"active"};U.mutate(ae)},de=q=>{y(q),c(!0)},fe=q=>{t(`/students/${q.id}/edit`)},Oe=q=>{y(q),f(!0)},Re=()=>{v&&M.mutate(v.id)};return k?n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})}):n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Student Management"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Manage students and enrollments"})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>t("/students/enroll"),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"+ New Enrollment"}),n.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-orange-700 text-white rounded-lg font-semibold hover:bg-orange-800 transition-colors",children:"Enroll Existing Student"}),n.jsx("button",{onClick:K,className:"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:" Download Template"}),n.jsx("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:" Bulk Upload"})]})]})}),n.jsx("div",{className:"p-6",children:L.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"No students found"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Photo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined Date"}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(q=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex items-center",children:q.avatarUrl?n.jsx("img",{src:q.avatarUrl,alt:q.name,className:"h-12 w-12 rounded-full object-cover border-2 border-gray-200",onError:Y=>{Y.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(q.name)+"&background=orange&color=fff"}}):n.jsx("div",{className:"h-12 w-12 rounded-full bg-orange-500 flex items-center justify-center text-white font-semibold text-lg",children:q.name.charAt(0).toUpperCase()})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:q.email})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:q.phone||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:q.createdAt?new Date(q.createdAt).toLocaleDateString():"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>de(q),className:"text-blue-600 hover:text-blue-900",title:"View Student",children:" View"}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{y(q),w(q.avatarUrl||null),i(!0)},className:"text-blue-600 hover:text-blue-900",title:"Update Photo",children:" Photo"}),n.jsx("button",{onClick:()=>fe(q),className:"text-orange-600 hover:text-orange-900",title:"Edit Student",children:" Edit"}),(e==null?void 0:e.role)==="superadmin"&&n.jsx("button",{onClick:()=>Oe(q),className:"text-red-600 hover:text-red-900",title:"Delete Student",children:" Delete"})]})]})})]},q.id))})]})})})]})}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Enroll Student in Batch"}),n.jsxs("form",{onSubmit:G,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student *"}),n.jsxs("select",{name:"studentId",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select a student"}),L.map(q=>n.jsxs("option",{value:q.id,children:[q.name," (",q.email,")"]},q.id))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch *"}),n.jsxs("select",{name:"batchId",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select a batch"}),z.map(q=>n.jsxs("option",{value:q.id,children:[q.title," ",q.software?`- ${q.software}`:""," (",q.mode,")"]},q.id))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enrollment Date *"}),n.jsx("input",{type:"date",name:"enrollmentDate",required:!0,defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{name:"status",defaultValue:"active",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),n.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[n.jsx("strong",{children:"Note:"})," This enrollment form requires a backend endpoint at ",n.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"POST /api/enrollments"}),". If the endpoint doesn't exist, you may need to create it in the backend."]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:U.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:U.isPending?"Enrolling...":"Enroll Student"}),n.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}),l&&v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Update Student Photo"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("strong",{children:"Student:"})," ",v.name]}),n.jsx("div",{className:"flex justify-center mb-4",children:b?n.jsx("img",{src:b,alt:"Preview",className:"h-32 w-32 rounded-full object-cover border-4 border-orange-500"}):n.jsx("div",{className:"h-32 w-32 rounded-full bg-gray-200 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-400",children:"No image"})})}),n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Image (JPG, PNG - Max 5MB)"}),n.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:X,disabled:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50"})]}),n.jsx("div",{className:"flex gap-3",children:n.jsx("button",{type:"button",onClick:()=>{i(!1),y(null),w(null)},disabled:u,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors disabled:opacity-50",children:u?"Uploading...":"Close"})})]})}),o&&v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Student Profile"}),n.jsx("button",{onClick:()=>{c(!1),y(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),T?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-center mb-6",children:(()=>{var ae;const q=((ae=E==null?void 0:E.data.user.studentProfile)==null?void 0:ae.photoUrl)||(E==null?void 0:E.data.user.avatarUrl)||v.avatarUrl,Y=(E==null?void 0:E.data.user.name)||v.name;return q?n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:q,alt:Y,className:"w-40 h-40 rounded-full object-cover border-4 border-orange-500 shadow-lg mx-auto",onError:Te=>{Te.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(Y)+"&background=orange&color=fff&size=160"}}),n.jsx("p",{className:"mt-3 text-sm font-medium text-gray-700",children:"Student Photo"})]}):n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-40 h-40 rounded-full bg-orange-500 flex items-center justify-center text-white font-bold text-4xl mx-auto shadow-lg",children:Y.charAt(0).toUpperCase()}),n.jsx("p",{className:"mt-3 text-sm font-medium text-gray-700",children:"No Photo Available"})]})})()}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 border-b pb-2",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900 font-medium",children:(E==null?void 0:E.data.user.name)||v.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(E==null?void 0:E.data.user.email)||v.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(E==null?void 0:E.data.user.phone)||v.phone||"-"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsx("p",{className:"mt-1",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${E!=null&&E.data.user.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E!=null&&E.data.user.isActive?"Active":"Inactive"})})]}),(E==null?void 0:E.data.user.createdAt)&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Joined Date"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(E.data.user.createdAt).toLocaleDateString()})]}),(E==null?void 0:E.data.user.updatedAt)&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Updated"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(E.data.user.updatedAt).toLocaleDateString()})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 border-b pb-2",children:"Profile Details"}),E!=null&&E.data.user.studentProfile?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.data.user.studentProfile.dob?new Date(E.data.user.studentProfile.dob).toLocaleDateString():"-"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Enrollment Date"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.data.user.studentProfile.enrollmentDate?new Date(E.data.user.studentProfile.enrollmentDate).toLocaleDateString():"-"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Profile Status"}),n.jsx("p",{className:"mt-1",children:E.data.user.studentProfile.status?n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold capitalize ${E.data.user.studentProfile.status==="active"?"bg-green-100 text-green-800":E.data.user.studentProfile.status==="completed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:E.data.user.studentProfile.status}):"-"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Profile Photo URL"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900 break-all",children:E.data.user.studentProfile.photoUrl||"-"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.data.user.studentProfile.address||"-"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Software List"}),E.data.user.studentProfile.softwareList&&E.data.user.studentProfile.softwareList.length>0?n.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:E.data.user.studentProfile.softwareList.map((q,Y)=>n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:q},Y))}):n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"-"})]}),E.data.user.studentProfile.documents&&Object.keys(E.data.user.studentProfile.documents).length>0&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Documents"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200 max-h-60 overflow-y-auto",children:n.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(E.data.user.studentProfile.documents,null,2)})})]}),E.data.user.studentProfile.createdAt&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Profile Created"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(E.data.user.studentProfile.createdAt).toLocaleDateString()})]}),E.data.user.studentProfile.updatedAt&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Profile Updated"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(E.data.user.studentProfile.updatedAt).toLocaleDateString()})]})]}):n.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-500",children:"No student profile information available."})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 border-b pb-2",children:"Software Completions"}),F!=null&&F.data.completions&&F.data.completions.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Software"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Faculty"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.data.completions.map(q=>{var Y,ae;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:q.softwareName}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:((Y=q.batch)==null?void 0:Y.title)||`Batch ${q.batchId}`}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:new Date(q.startDate).toLocaleDateString()}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:new Date(q.endDate).toLocaleDateString()}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${q.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:q.status==="completed"?"Completed":"In Progress"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:((ae=q.faculty)==null?void 0:ae.name)||"-"})]},q.id)})})]})}):n.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-500",children:"No software completions found for this student."})})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:()=>{c(!1),y(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Close"})})]})}),d&&v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Delete Student"}),n.jsxs("p",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete ",n.jsx("strong",{children:v.name}),"? This action cannot be undone."]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:Re,disabled:M.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",children:M.isPending?"Deleting...":"Delete"}),n.jsx("button",{onClick:()=>{f(!1),y(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}),p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Bulk Student Enrollment"}),j?n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:`p-4 rounded-lg mb-4 ${j.failed===0?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"}`,children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Upload Results:"}),n.jsxs("p",{className:"text-green-700 font-medium",children:[" Successfully enrolled: ",j.success," student(s)"]}),j.failed>0&&n.jsxs("p",{className:"text-red-700 font-medium mt-1",children:[" Failed: ",j.failed," student(s)"]})]}),j.errors.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"font-semibold text-red-700 mb-2",children:"Errors:"}),n.jsx("div",{className:"max-h-40 overflow-y-auto border border-red-200 rounded p-3 bg-red-50",children:j.errors.map((q,Y)=>n.jsxs("div",{className:"text-sm text-red-700 mb-1",children:["Row ",q.row,": ",q.error]},Y))})]}),n.jsx("button",{onClick:()=>{m(!1),R(null)},className:"w-full px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors",children:"Close"})]}):n.jsxs("form",{onSubmit:I,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Excel File (.xlsx, .xls, or .csv)"}),n.jsx("input",{type:"file",name:"file",accept:".xlsx,.xls,.csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,text/csv",required:!0,disabled:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50"}),n.jsx("p",{className:"mt-2 text-xs text-gray-600",children:"Maximum file size: 10MB. Download the template to see the required format."})]}),n.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Note:"})," Make sure your Excel file follows the template format. Required fields: studentName, email, phone, dateOfAdmission."]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50",children:g?"Uploading...":"Upload & Enroll"}),n.jsx("button",{type:"button",onClick:()=>{m(!1),R(null)},disabled:g,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})})]})},aj=()=>{const e=Xe(),t=Ne(),[s,r]=N.useState(1),a=4,[l,i]=N.useState(!1),[o,c]=N.useState(""),[d,f]=N.useState([]),[p,m]=N.useState([]),{data:v}=te({queryKey:["batches"],queryFn:()=>st.getAllBatches()}),y=ee({mutationFn:x=>Zt.completeEnrollment(x),onSuccess:()=>{t.invalidateQueries({queryKey:["students"]}),t.invalidateQueries({queryKey:["batches"]}),alert("Student enrolled successfully!"),e("/students")},onError:x=>{var j,R;alert(((R=(j=x.response)==null?void 0:j.data)==null?void 0:R.message)||"Failed to enroll student. Please check all required fields.")}}),b=(v==null?void 0:v.data)||[];N.useEffect(()=>{if(d.length>0){const x=new Date;x.setHours(0,0,0,0);const j=b.filter(R=>{const A=new Date(R.startDate);if(A.setHours(0,0,0,0),A<x)return!1;if(R.software){const k=R.software.toLowerCase();return d.some(_=>k.includes(_.toLowerCase())||_.toLowerCase().includes(k))}return!1});m(j)}else m([])},[d,b]);const w=(x,j)=>{f(j?R=>[...R,x]:R=>R.filter(A=>A!==x))},u=x=>{x.preventDefault();const j=new FormData(x.currentTarget);let A=j.getAll("softwaresIncluded").filter(E=>E!=="Other");l&&o.trim()&&A.push(o.trim());const k=A.length>0?A.join(", "):void 0,_={studentName:j.get("studentName"),email:j.get("email"),phone:j.get("phone"),whatsappNumber:j.get("whatsappNumber")||void 0,dateOfAdmission:j.get("dateOfAdmission"),localAddress:j.get("localAddress")||void 0,permanentAddress:j.get("permanentAddress")||void 0,emergencyContactNumber:j.get("emergencyContactNumber")||void 0,emergencyName:j.get("emergencyName")||void 0,emergencyRelation:j.get("emergencyRelation")||void 0,courseName:j.get("courseName")||void 0,batchId:j.get("batchId")?parseInt(j.get("batchId")):void 0,softwaresIncluded:k,totalDeal:j.get("totalDeal")?parseFloat(j.get("totalDeal")):void 0,bookingAmount:j.get("bookingAmount")?parseFloat(j.get("bookingAmount")):void 0,balanceAmount:j.get("balanceAmount")?parseFloat(j.get("balanceAmount")):void 0,emiPlan:j.get("emiPlan")==="yes",emiPlanDate:j.get("emiPlanDate")||void 0,complimentarySoftware:j.get("complimentarySoftware")||void 0,complimentaryGift:j.get("complimentaryGift")||void 0,hasReference:j.get("hasReference")==="yes",referenceDetails:j.get("referenceDetails")||void 0,counselorName:j.get("counselorName")||void 0,leadSource:j.get("leadSource")||void 0,walkinDate:j.get("walkinDate")||void 0,masterFaculty:j.get("masterFaculty")||void 0};y.mutate(_)},h=()=>{s<a&&r(s+1)},g=()=>{s>1&&r(s-1)};return n.jsx(ne,{children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Student Enrollment Form"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Complete student registration and enrollment"})]}),n.jsx("div",{className:"px-8 py-4 bg-gray-50 border-b",children:n.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(x=>n.jsxs(Gn.Fragment,{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${s>=x?"bg-orange-600 text-white":"bg-gray-300 text-gray-600"}`,children:x}),n.jsxs("span",{className:`ml-2 text-sm font-medium ${s>=x?"text-orange-600":"text-gray-500"}`,children:[x===1&&"Basic Info",x===2&&"Contact & Address",x===3&&"Course & Financial",x===4&&"Additional Info"]})]}),x<a&&n.jsx("div",{className:`flex-1 h-1 mx-2 ${s>x?"bg-orange-600":"bg-gray-300"}`})]},x))})}),n.jsx("form",{onSubmit:u,children:n.jsxs("div",{className:"p-8",children:[s===1&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Student Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"studentName",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"tel",name:"phone",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number"}),n.jsx("input",{type:"tel",name:"whatsappNumber",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Admission ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",name:"dateOfAdmission",required:!0,defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),s===2&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Contact & Address Information"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local Address"}),n.jsx("textarea",{name:"localAddress",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Permanent Address"}),n.jsx("textarea",{name:"permanentAddress",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Number"}),n.jsx("input",{type:"tel",name:"emergencyContactNumber",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Name"}),n.jsx("input",{type:"text",name:"emergencyName",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relation"}),n.jsx("input",{type:"text",name:"emergencyRelation",placeholder:"e.g., Father, Mother, Guardian",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]})]}),s===3&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Course & Financial Details"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course Name"}),n.jsx("input",{type:"text",name:"courseName",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Batch"}),p.length>0&&n.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Suggested Batches (based on your software selection)"}),n.jsx("div",{className:"space-y-2",children:p.map(x=>n.jsx("div",{className:"p-2 bg-white border border-blue-300 rounded hover:bg-blue-50 cursor-pointer",onClick:()=>{const j=document.querySelector('select[name="batchId"]');j&&(j.value=x.id.toString())},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:x.title}),x.software&&n.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["- ",x.software]}),n.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",x.mode,") | Starts: ",new Date(x.startDate).toLocaleDateString()]})]}),n.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Suggested"})]})},x.id))})]}),n.jsxs("select",{name:"batchId",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select a batch (optional)"}),p.length>0&&n.jsx("optgroup",{label:"Suggested Batches",children:p.map(x=>n.jsxs("option",{value:x.id,children:[x.title," ",x.software?`- ${x.software}`:""," (",x.mode,") - Starts: ",new Date(x.startDate).toLocaleDateString()]},x.id))}),p.length>0&&b.length>p.length&&n.jsx("optgroup",{label:"All Batches",children:b.filter(x=>!p.some(j=>j.id===x.id)).map(x=>n.jsxs("option",{value:x.id,children:[x.title," ",x.software?`- ${x.software}`:""," (",x.mode,")"]},x.id))}),p.length===0&&b.map(x=>n.jsxs("option",{value:x.id,children:[x.title," ",x.software?`- ${x.software}`:""," (",x.mode,")"]},x.id))]}),p.length>0&&n.jsx("p",{className:"mt-1 text-xs text-blue-600",children:"Batches matching your software selection are shown above"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Softwares Included"}),n.jsx("div",{className:"border border-gray-300 rounded-md p-4 max-h-48 overflow-y-auto",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Photoshop","Illustrator","InDesign","After Effects","Premiere Pro","Figma","Sketch","Blender","Maya","3ds Max","Cinema 4D","Lightroom","CorelDRAW","AutoCAD","SolidWorks","Revit","SketchUp","Unity","Unreal Engine","DaVinci Resolve","Final Cut Pro","Procreate","Affinity Designer","Affinity Photo","Canva Pro","Other"].map(x=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[n.jsx("input",{type:"checkbox",name:"softwaresIncluded",value:x,onChange:j=>{x==="Other"?i(j.target.checked):w(x,j.target.checked)},className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:x})]},x))})}),l&&n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specify Other Software"}),n.jsx("input",{type:"text",value:o,onChange:x=>{const j=x.target.value;if(c(j),j.trim()){const R=j.trim();d.includes(R)||f(A=>[...A,R])}},placeholder:"Enter software names (comma separated)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Select all applicable software"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Deal Amount ()"}),n.jsx("input",{type:"number",name:"totalDeal",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Amount ()"}),n.jsx("input",{type:"number",name:"bookingAmount",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Balance Amount ()"}),n.jsx("input",{type:"number",name:"balanceAmount",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"EMI Plan"}),n.jsxs("select",{name:"emiPlan",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"no",children:"No"}),n.jsx("option",{value:"yes",children:"Yes"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"EMI Plan Date"}),n.jsx("input",{type:"date",name:"emiPlanDate",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]})]}),s===4&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Additional Information"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complimentary Software"}),n.jsx("input",{type:"text",name:"complimentarySoftware",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complimentary Gift"}),n.jsx("input",{type:"text",name:"complimentaryGift",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Has Reference"}),n.jsxs("select",{name:"hasReference",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"no",children:"No"}),n.jsx("option",{value:"yes",children:"Yes"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference Details"}),n.jsx("textarea",{name:"referenceDetails",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Counselor Name"}),n.jsx("input",{type:"text",name:"counselorName",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Source"}),n.jsxs("select",{name:"leadSource",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select lead source"}),n.jsx("option",{value:"Walk-in",children:"Walk-in"}),n.jsx("option",{value:"Online",children:"Online"}),n.jsx("option",{value:"Reference",children:"Reference"}),n.jsx("option",{value:"Social Media",children:"Social Media"}),n.jsx("option",{value:"Advertisement",children:"Advertisement"}),n.jsx("option",{value:"Other",children:"Other"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Walk-in Date"}),n.jsx("input",{type:"date",name:"walkinDate",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Master Faculty"}),n.jsx("input",{type:"text",name:"masterFaculty",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]})]}),n.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:g,disabled:s===1,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s<a?n.jsx("button",{type:"button",onClick:h,className:"px-6 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors",children:"Next"}):n.jsx("button",{type:"submit",disabled:y.isPending,className:"px-6 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:y.isPending?"Submitting...":"Submit Enrollment"})]})]})})]})})})},lj=()=>{var v,y,b,w,u,h,g,x,j;const{id:e}=wd(),{user:t}=Ce(),s=Xe(),r=Ne();console.log("StudentEdit component rendered, id:",e,"user:",t);const{data:a,isLoading:l,error:i}=te({queryKey:["student",e],queryFn:async()=>{var R,A;if(!e)throw new Error("Student ID is required");try{console.log("Fetching student data for ID:",e);const k=await Be.getUser(Number(e));if(console.log("User response:",k),(R=k==null?void 0:k.data)!=null&&R.user)return k.data.user;throw new Error("Invalid response structure")}catch(k){throw console.error("Error fetching student data:",k),console.error("Error response:",(A=k.response)==null?void 0:A.data),k}},enabled:!!e&&!!t,retry:1}),[o,c]=N.useState(""),d=ee({mutationFn:R=>Be.updateUser(Number(e),R),onSuccess:()=>{r.invalidateQueries({queryKey:["student",e]}),r.invalidateQueries({queryKey:["students"]})},onError:R=>{var A,k;alert(((k=(A=R.response)==null?void 0:A.data)==null?void 0:k.message)||"Failed to update user information")}}),f=ee({mutationFn:R=>Be.updateStudentProfile(Number(e),R),onSuccess:()=>{r.invalidateQueries({queryKey:["student",e]}),r.invalidateQueries({queryKey:["students"]}),r.invalidateQueries({queryKey:["student-profile"]})},onError:R=>{var A,k;alert(((k=(A=R.response)==null?void 0:A.data)==null?void 0:k.message)||"Failed to update student profile")}});if(!t)return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})});if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="superadmin")return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6",children:[n.jsx("p",{className:"text-red-600",children:"You don't have permission to edit students."}),n.jsx("button",{onClick:()=>s("/students"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Back to Students"})]})})});if(l)return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})});if(i)return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6",children:[n.jsxs("p",{className:"text-red-600",children:["Error loading student data: ",i instanceof Error?i.message:"Unknown error"]}),n.jsx("button",{onClick:()=>s("/students"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Back to Students"})]})})});if(!a)return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6",children:[n.jsx("p",{className:"text-red-600",children:"Student not found or data is still loading."}),n.jsxs("p",{className:"text-gray-500 mt-2",children:["ID: ",e]}),n.jsx("button",{onClick:()=>s("/students"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Back to Students"})]})})});const p=R=>{if(!R)return"";try{const A=new Date(R);if(!isNaN(A.getTime()))return A.toISOString().split("T")[0]}catch(A){console.error("Error parsing date:",A)}return""};Gn.useEffect(()=>{var R;(R=a==null?void 0:a.studentProfile)!=null&&R.softwareList&&Array.isArray(a.studentProfile.softwareList)?c(a.studentProfile.softwareList.join(", ")):c("")},[a]);const m=async R=>{if(R.preventDefault(),!a){alert("Student data is not loaded. Please try again.");return}const A=new FormData(R.currentTarget),k={name:A.get("name")||void 0,email:A.get("email")||void 0,phone:A.get("phone")||void 0,isActive:A.get("isActive")==="true",avatarUrl:A.get("avatarUrl")||void 0},_={dob:A.get("dob")||void 0,address:A.get("address")||void 0,photoUrl:A.get("photoUrl")||void 0,softwareList:o?o.split(",").map(E=>E.trim()).filter(E=>E.length>0):void 0,enrollmentDate:A.get("enrollmentDate")||void 0,status:A.get("profileStatus")||void 0};try{await d.mutateAsync(k),(a!=null&&a.studentProfile||Object.values(_).some(E=>E!==void 0&&E!==""))&&await f.mutateAsync(_),alert("Student updated successfully!"),s("/students")}catch(E){console.error("Error updating student:",E)}};return n.jsx(ne,{children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Edit Student"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Update student information"})]}),n.jsx("button",{onClick:()=>s("/students"),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:" Back"})]})}),n.jsx("div",{className:"p-8",children:n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Student Photo"}),n.jsxs("div",{className:"flex items-center gap-6",children:[(()=>{var k;const R=((k=a==null?void 0:a.studentProfile)==null?void 0:k.photoUrl)||(a==null?void 0:a.avatarUrl),A=(a==null?void 0:a.name)||"Student";return R?n.jsx("img",{src:R,alt:A,className:"w-32 h-32 rounded-full object-cover border-4 border-orange-500 shadow-lg",onError:_=>{_.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(A)+"&background=orange&color=fff&size=128"}}):n.jsx("div",{className:"w-32 h-32 rounded-full bg-orange-500 flex items-center justify-center text-white font-bold text-3xl shadow-lg",children:A.charAt(0).toUpperCase()})})(),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Avatar URL"}),n.jsx("input",{type:"url",name:"avatarUrl",defaultValue:(a==null?void 0:a.avatarUrl)||"",placeholder:"https://example.com/photo.jpg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"URL for student's profile photo"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Photo URL"}),n.jsx("input",{type:"url",name:"photoUrl",defaultValue:((v=a==null?void 0:a.studentProfile)==null?void 0:v.photoUrl)||"",placeholder:"https://example.com/photo.jpg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Alternative photo URL in student profile"})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 border-b pb-2",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),n.jsx("input",{type:"text",name:"name",defaultValue:(a==null?void 0:a.name)||"",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),n.jsx("input",{type:"email",name:"email",defaultValue:(a==null?void 0:a.email)||"",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",name:"phone",defaultValue:(a==null?void 0:a.phone)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Status *"}),n.jsxs("select",{name:"isActive",defaultValue:a!=null&&a.isActive?"true":"false",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"true",children:"Active"}),n.jsx("option",{value:"false",children:"Inactive"})]})]}),(a==null?void 0:a.createdAt)&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Created"}),n.jsx("p",{className:"text-sm text-gray-900 py-3",children:new Date(a.createdAt).toLocaleString()})]}),(a==null?void 0:a.updatedAt)&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Updated"}),n.jsx("p",{className:"text-sm text-gray-900 py-3",children:new Date(a.updatedAt).toLocaleString()})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 border-b pb-2",children:"Student Profile Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),n.jsx("input",{type:"date",name:"dob",defaultValue:p((y=a==null?void 0:a.studentProfile)==null?void 0:y.dob),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enrollment Date"}),n.jsx("input",{type:"date",name:"enrollmentDate",defaultValue:p((b=a==null?void 0:a.studentProfile)==null?void 0:b.enrollmentDate),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Status"}),n.jsxs("select",{name:"profileStatus",defaultValue:((w=a==null?void 0:a.studentProfile)==null?void 0:w.status)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"on-hold",children:"On Hold"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsx("textarea",{name:"address",rows:3,defaultValue:((u=a==null?void 0:a.studentProfile)==null?void 0:u.address)||"",placeholder:"Enter full address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Software List"}),n.jsx("input",{type:"text",value:o,onChange:R=>c(R.target.value),placeholder:"Photoshop, Illustrator, InDesign (comma-separated)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter software names separated by commas"}),((h=a==null?void 0:a.studentProfile)==null?void 0:h.softwareList)&&Array.isArray(a.studentProfile.softwareList)&&a.studentProfile.softwareList.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:a.studentProfile.softwareList.map((R,A)=>n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs",children:R},A))})]}),((g=a==null?void 0:a.studentProfile)==null?void 0:g.documents)&&Object.keys(a.studentProfile.documents).length>0&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Documents (Read-only)"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:n.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap max-h-40 overflow-y-auto",children:JSON.stringify(a.studentProfile.documents,null,2)})}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Documents are managed through the enrollment process"})]}),((x=a==null?void 0:a.studentProfile)==null?void 0:x.createdAt)&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Created"}),n.jsx("p",{className:"text-sm text-gray-900 py-3",children:new Date(a.studentProfile.createdAt).toLocaleString()})]}),((j=a==null?void 0:a.studentProfile)==null?void 0:j.updatedAt)&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Updated"}),n.jsx("p",{className:"text-sm text-gray-900 py-3",children:new Date(a.studentProfile.updatedAt).toLocaleString()})]})]})]}),n.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"submit",disabled:d.isPending||f.isPending,className:"flex-1 px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:d.isPending||f.isPending?"Saving...":"Save All Changes"}),n.jsx("button",{type:"button",onClick:()=>s("/students"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})})]})})})},Jl={getAllEmployees:async()=>(await V.get("/users",{params:{role:"employee",isActive:!0}})).data,getEmployeeProfile:async e=>(await V.get(`/employees/${e}`)).data,createEmployeeProfile:async e=>(await V.post("/employees",e)).data,updateEmployeeProfile:async(e,t)=>(await V.put(`/users/${e}/employee-profile`,t)).data},ij=()=>{var R,A;const{user:e}=Ce(),t=Xe(),s=Ne(),[r,a]=N.useState(null),[l,i]=N.useState(!1),[o,c]=N.useState(!1),[d,f]=N.useState(null),[p,m]=N.useState(!1),{data:v,isLoading:y,error:b}=te({queryKey:["employees"],queryFn:()=>Jl.getAllEmployees(),retry:1}),w=ee({mutationFn:k=>Be.deleteUser(k),onSuccess:()=>{s.invalidateQueries({queryKey:["employees"]}),i(!1),a(null),alert("Employee deleted successfully!")},onError:k=>{var _,E;alert(((E=(_=k.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to delete employee")}}),u=ee({mutationFn:({userId:k,avatarUrl:_})=>Be.updateUser(k,{avatarUrl:_}),onSuccess:()=>{s.invalidateQueries({queryKey:["employees"]}),c(!1),a(null),f(null),alert("Image updated successfully!")},onError:k=>{var _,E;alert(((E=(_=k.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to update image"),m(!1)}}),h=async k=>{var T,F,U;const _=(T=k.target.files)==null?void 0:T[0];if(!_||!r)return;if(!_.type.startsWith("image/")){alert("Please select an image file");return}if(_.size>5*1024*1024){alert("Image size must be less than 5MB");return}const E=new FileReader;E.onloadend=()=>{f(E.result)},E.readAsDataURL(_),m(!0);try{const C=await bi.uploadFile(_);if(C.data.files.length>0){const M=C.data.files[0].url;u.mutate({userId:r.id,avatarUrl:M})}}catch(C){alert(((U=(F=C.response)==null?void 0:F.data)==null?void 0:U.message)||"Failed to upload image"),m(!1)}},g=(v==null?void 0:v.data.users)||[],x=k=>{a(k),i(!0)},j=()=>{r&&w.mutate(r.id)};return y?n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})}):b?n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"bg-white shadow-xl rounded-lg p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-red-600 text-lg mb-4",children:"Error loading employee data"}),n.jsx("p",{className:"text-gray-500 text-sm",children:((A=(R=b==null?void 0:b.response)==null?void 0:R.data)==null?void 0:A.message)||(b==null?void 0:b.message)||"Unknown error"}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Retry"})]})})})}):n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Employee Management"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Manage employees"})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("button",{onClick:()=>window.location.href="/employees/register",className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"+ New Employee Registration"})]})}),n.jsx("div",{className:"p-6",children:g.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"No employees found"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Photo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Designation"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(k=>{var _,E;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex items-center",children:k.avatarUrl?n.jsx("img",{src:k.avatarUrl,alt:k.name,className:"h-12 w-12 rounded-full object-cover border-2 border-gray-200",onError:T=>{T.target.src="https://ui-avatars.com/api/?name="+encodeURIComponent(k.name)+"&background=orange&color=fff"}}):n.jsx("div",{className:"h-12 w-12 rounded-full bg-orange-500 flex items-center justify-center text-white font-semibold text-lg",children:k.name.charAt(0).toUpperCase()})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:k.email})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:k.phone||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:((_=k.employeeProfile)==null?void 0:_.department)||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:((E=k.employeeProfile)==null?void 0:E.designation)||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${k.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.isActive?"Active":"Inactive"})}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("button",{onClick:()=>{a(k),f(k.avatarUrl||null),c(!0)},className:"text-orange-600 hover:text-orange-900 text-xs",title:"Update Photo",children:" Photo"}),n.jsx("button",{onClick:()=>t(`/employees/${k.id}/edit`),className:"text-orange-600 hover:text-orange-900 text-xs",title:"Edit Employee",children:" Edit"}),(e==null?void 0:e.role)==="superadmin"&&n.jsx("button",{onClick:()=>x(k),className:"text-red-600 hover:text-red-900 text-xs",title:"Delete Employee",children:" Delete"})]})})]},k.id)})})]})})})]})}),l&&r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Delete Employee"}),n.jsxs("p",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete ",n.jsx("strong",{children:r.name}),"? This action cannot be undone."]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:j,disabled:w.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",children:w.isPending?"Deleting...":"Delete"}),n.jsx("button",{onClick:()=>{i(!1),a(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}),o&&r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Update Employee Photo"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("strong",{children:"Employee:"})," ",r.name]}),n.jsx("div",{className:"flex justify-center mb-4",children:d?n.jsx("img",{src:d,alt:"Preview",className:"h-32 w-32 rounded-full object-cover border-4 border-orange-500"}):n.jsx("div",{className:"h-32 w-32 rounded-full bg-gray-200 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-400",children:"No image"})})}),n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Image (JPG, PNG - Max 5MB)"}),n.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:h,disabled:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50"})]}),n.jsx("div",{className:"flex gap-3",children:n.jsx("button",{type:"button",onClick:()=>{c(!1),a(null),f(null)},disabled:p,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors disabled:opacity-50",children:p?"Uploading...":"Close"})})]})})]})},oj=()=>{const e=Xe(),t=Ne(),[s,r]=N.useState(1),a=6,[l,i]=N.useState(null),o=ee({mutationFn:async v=>(await V.post("/auth/register",v)).data,onSuccess:v=>{i(v.data.user.id),r(2)},onError:v=>{var y,b;alert(((b=(y=v.response)==null?void 0:y.data)==null?void 0:b.message)||"Failed to create user account")}}),c=ee({mutationFn:v=>Jl.createEmployeeProfile(v),onSuccess:()=>{t.invalidateQueries({queryKey:["employees"]}),t.invalidateQueries({queryKey:["users"]}),alert("Employee registration completed successfully!"),e("/employees")},onError:v=>{var y,b;alert(((b=(y=v.response)==null?void 0:y.data)==null?void 0:b.message)||"Failed to create employee profile")}}),d=v=>{v.preventDefault();const y=new FormData(v.currentTarget),b={name:y.get("fullName"),email:y.get("email"),phone:y.get("contactNumber"),password:y.get("password"),role:"employee"};o.mutate(b)},f=v=>{v.preventDefault();const y=new FormData(v.currentTarget);if(!l){alert("Please complete user registration first");return}const b=y.getAll("documents"),w={userId:l,employeeId:y.get("employeeId"),gender:y.get("gender")||void 0,dateOfBirth:y.get("dateOfBirth")||void 0,nationality:y.get("nationality")||void 0,maritalStatus:y.get("maritalStatus")||void 0,department:y.get("department")||void 0,designation:y.get("designation")||void 0,dateOfJoining:y.get("dateOfJoining")||void 0,employmentType:y.get("employmentType")||void 0,reportingManager:y.get("reportingManager")||void 0,workLocation:y.get("workLocation")||void 0,bankName:y.get("bankName")||void 0,accountNumber:y.get("accountNumber")||void 0,ifscCode:y.get("ifscCode")||void 0,branch:y.get("branch")||void 0,panNumber:y.get("panNumber")||void 0,city:y.get("city")||void 0,state:y.get("state")||void 0,postalCode:y.get("postalCode")||void 0,address:y.get("address")||void 0,emergencyContactName:y.get("emergencyContactName")||void 0,emergencyRelationship:y.get("emergencyRelationship")||void 0,emergencyPhoneNumber:y.get("emergencyPhoneNumber")||void 0,emergencyAlternatePhone:y.get("emergencyAlternatePhone")||void 0,documentsSubmitted:b.join(", ")||void 0};c.mutate(w)},p=()=>{s<a&&r(s+1)},m=()=>{s>1&&r(s-1)};return n.jsx(ne,{children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Employee Registration Form"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Complete employee registration and profile setup"})]}),n.jsx("div",{className:"px-8 py-4 bg-gray-50 border-b",children:n.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5,6].map(v=>n.jsxs(Gn.Fragment,{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold ${s>=v?"bg-orange-600 text-white":"bg-gray-300 text-gray-600"}`,children:v}),n.jsxs("span",{className:`ml-1 text-xs font-medium ${s>=v?"text-orange-600":"text-gray-500"}`,children:[v===1&&"Account",v===2&&"Personal",v===3&&"Employment",v===4&&"Bank",v===5&&"Emergency",v===6&&"Documents"]})]}),v<a&&n.jsx("div",{className:`flex-1 h-1 mx-1 ${s>v?"bg-orange-600":"bg-gray-300"}`})]},v))})}),s===1&&n.jsxs("form",{onSubmit:d,className:"p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 1: Create User Account"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"fullName",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"tel",name:"contactNumber",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"password",name:"password",required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:o.isPending,className:"px-6 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:o.isPending?"Creating Account...":"Create Account & Continue"})})]})]}),s>1&&n.jsx("form",{onSubmit:f,children:n.jsxs("div",{className:"p-8",children:[s===2&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 2: Personal Information"}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Employee ID ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"employeeId",required:!0,placeholder:"e.g., EMP001",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),n.jsxs("div",{className:"flex gap-4 mt-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"gender",value:"male",className:"mr-2"}),n.jsx("span",{children:"Male"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"gender",value:"female",className:"mr-2"}),n.jsx("span",{children:"Female"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"gender",value:"other",className:"mr-2"}),n.jsx("span",{children:"Other"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),n.jsx("input",{type:"date",name:"dateOfBirth",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality"}),n.jsx("input",{type:"text",name:"nationality",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marital Status"}),n.jsxs("div",{className:"flex gap-4 mt-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"maritalStatus",value:"single",className:"mr-2"}),n.jsx("span",{children:"Single"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"maritalStatus",value:"married",className:"mr-2"}),n.jsx("span",{children:"Married"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"maritalStatus",value:"other",className:"mr-2"}),n.jsx("span",{children:"Other"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),n.jsx("textarea",{name:"address",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),n.jsx("input",{type:"text",name:"city",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State/Province"}),n.jsx("input",{type:"text",name:"state",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),n.jsx("input",{type:"text",name:"postalCode",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),s===3&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 3: Employment Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),n.jsx("input",{type:"text",name:"department",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation / Job Title"}),n.jsx("input",{type:"text",name:"designation",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Joining"}),n.jsx("input",{type:"date",name:"dateOfJoining",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employment Type"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"employmentType",value:"full-time",className:"mr-2"}),n.jsx("span",{children:"Full-Time"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"employmentType",value:"part-time",className:"mr-2"}),n.jsx("span",{children:"Part-Time"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"employmentType",value:"contract",className:"mr-2"}),n.jsx("span",{children:"Contract"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"employmentType",value:"intern",className:"mr-2"}),n.jsx("span",{children:"Intern"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reporting Manager"}),n.jsx("input",{type:"text",name:"reportingManager",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Location"}),n.jsx("input",{type:"text",name:"workLocation",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),s===4&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 4: Bank Details"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),n.jsx("input",{type:"text",name:"bankName",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),n.jsx("input",{type:"text",name:"accountNumber",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IFSC / Routing Number"}),n.jsx("input",{type:"text",name:"ifscCode",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),n.jsx("input",{type:"text",name:"branch",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PAN / Tax ID"}),n.jsx("input",{type:"text",name:"panNumber",maxLength:10,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),s===5&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 5: Emergency Contact Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name"}),n.jsx("input",{type:"text",name:"emergencyContactName",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship"}),n.jsx("input",{type:"text",name:"emergencyRelationship",placeholder:"e.g., Father, Mother, Spouse, Guardian",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsx("input",{type:"tel",name:"emergencyPhoneNumber",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alternate Phone Number"}),n.jsx("input",{type:"tel",name:"emergencyAlternatePhone",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),s===6&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 6: Documents & Declaration"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Documents Submitted"}),n.jsx("div",{className:"space-y-2 border border-gray-300 rounded-md p-4",children:["Resume","ID Proof","Previous Salary Payslip","Educational Certificates","Experience Certificates","Relieving letter"].map(v=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"documents",value:v,className:"mr-2"}),n.jsx("span",{children:v})]},v))})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Declaration"}),n.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"I hereby declare that the above information is true and correct to the best of my knowledge."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee Signature"}),n.jsx("div",{className:"border-b-2 border-gray-400 h-10"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),n.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",readOnly:!0})]})]})]})]}),n.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:m,disabled:s===2,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s<a?n.jsx("button",{type:"button",onClick:p,className:"px-6 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors",children:"Next"}):n.jsx("button",{type:"submit",disabled:c.isPending,className:"px-6 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:c.isPending?"Submitting...":"Submit Registration"})]})]})})]})})})},cj=()=>{const{id:e}=wd(),{user:t}=Ce(),s=Xe(),r=Ne(),[a,l]=N.useState(1),i=4,{data:o,isLoading:c}=te({queryKey:["employee",e],queryFn:async()=>{const u=await V.get(`/users/${e}`),h=await Jl.getEmployeeProfile(Number(e));return{user:u.data.data.user,profile:h.data.employeeProfile}},enabled:!!e}),d=ee({mutationFn:u=>Be.updateUser(Number(e),u),onSuccess:()=>{r.invalidateQueries({queryKey:["employee",e]}),r.invalidateQueries({queryKey:["employees"]})}}),f=ee({mutationFn:u=>Jl.updateEmployeeProfile(Number(e),u),onSuccess:()=>{r.invalidateQueries({queryKey:["employee",e]}),r.invalidateQueries({queryKey:["employees"]}),alert("Employee updated successfully!"),s("/employees")},onError:u=>{var h,g;alert(((g=(h=u.response)==null?void 0:h.data)==null?void 0:g.message)||"Failed to update employee profile")}});if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="superadmin")return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6",children:[n.jsx("p",{className:"text-red-600",children:"You don't have permission to edit employees."}),n.jsx("button",{onClick:()=>s("/employees"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Back to Employees"})]})})});if(c)return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})});if(!o)return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6",children:[n.jsx("p",{className:"text-red-600",children:"Employee not found."}),n.jsx("button",{onClick:()=>s("/employees"),className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Back to Employees"})]})})});const{user:p,profile:m}=o,v=u=>{u.preventDefault();const h=new FormData(u.currentTarget),g={name:h.get("name")||void 0,email:h.get("email")||void 0,phone:h.get("phone")||void 0,isActive:h.get("isActive")==="true"};d.mutate(g,{onSuccess:()=>{l(2)}})},y=u=>{u.preventDefault();const h=new FormData(u.currentTarget),g={employeeId:h.get("employeeId")||void 0,gender:h.get("gender")||void 0,dateOfBirth:h.get("dateOfBirth")||void 0,nationality:h.get("nationality")||void 0,maritalStatus:h.get("maritalStatus")||void 0};f.mutate(g)},b=u=>{u.preventDefault();const h=new FormData(u.currentTarget),g={department:h.get("department")||void 0,designation:h.get("designation")||void 0,dateOfJoining:h.get("dateOfJoining")||void 0,employmentType:h.get("employmentType")||void 0,reportingManager:h.get("reportingManager")||void 0,workLocation:h.get("workLocation")||void 0};f.mutate(g)},w=u=>{u.preventDefault();const h=new FormData(u.currentTarget),g={bankName:h.get("bankName")||void 0,accountNumber:h.get("accountNumber")||void 0,ifscCode:h.get("ifscCode")||void 0,branch:h.get("branch")||void 0,panNumber:h.get("panNumber")||void 0,city:h.get("city")||void 0,state:h.get("state")||void 0,postalCode:h.get("postalCode")||void 0};f.mutate(g)};return n.jsx(ne,{children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Edit Employee"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Update employee information"})]}),n.jsx("button",{onClick:()=>s("/employees"),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:" Back"})]})}),n.jsx("div",{className:"px-8 py-4 bg-gray-50 border-b",children:n.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(u=>n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${a>=u?"bg-orange-600 text-white":"bg-gray-300 text-gray-600"}`,children:u}),n.jsxs("span",{className:"mt-2 text-xs text-gray-600",children:[u===1&&"Basic Info",u===2&&"Personal Info",u===3&&"Employment",u===4&&"Bank Details"]})]}),u<i&&n.jsx("div",{className:`flex-1 h-1 mx-2 ${a>u?"bg-orange-600":"bg-gray-300"}`})]},u))})}),n.jsxs("div",{className:"p-8",children:[a===1&&n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),n.jsx("input",{type:"text",name:"name",defaultValue:p.name,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),n.jsx("input",{type:"email",name:"email",defaultValue:p.email,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",name:"phone",defaultValue:p.phone||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),n.jsxs("select",{name:"isActive",defaultValue:p.isActive?"true":"false",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"true",children:"Active"}),n.jsx("option",{value:"false",children:"Inactive"})]})]})]}),n.jsx("div",{className:"flex gap-4 pt-6",children:n.jsx("button",{type:"submit",disabled:d.isPending,className:"flex-1 px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:d.isPending?"Saving...":"Save & Continue"})})]}),a===2&&n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Personal Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employee ID *"}),n.jsx("input",{type:"text",name:"employeeId",defaultValue:(m==null?void 0:m.employeeId)||"",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),n.jsxs("select",{name:"gender",defaultValue:(m==null?void 0:m.gender)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),n.jsx("input",{type:"date",name:"dateOfBirth",defaultValue:m!=null&&m.dateOfBirth?m.dateOfBirth.split("T")[0]:"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nationality"}),n.jsx("input",{type:"text",name:"nationality",defaultValue:(m==null?void 0:m.nationality)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marital Status"}),n.jsxs("select",{name:"maritalStatus",defaultValue:(m==null?void 0:m.maritalStatus)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"single",children:"Single"}),n.jsx("option",{value:"married",children:"Married"}),n.jsx("option",{value:"divorced",children:"Divorced"}),n.jsx("option",{value:"widowed",children:"Widowed"})]})]})]}),n.jsxs("div",{className:"flex gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:()=>l(1),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Previous"}),n.jsx("button",{type:"submit",disabled:f.isPending,className:"flex-1 px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:f.isPending?"Saving...":"Save & Continue"})]})]}),a===3&&n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Employment Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),n.jsx("input",{type:"text",name:"department",defaultValue:(m==null?void 0:m.department)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Designation"}),n.jsx("input",{type:"text",name:"designation",defaultValue:(m==null?void 0:m.designation)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Joining"}),n.jsx("input",{type:"date",name:"dateOfJoining",defaultValue:m!=null&&m.dateOfJoining?m.dateOfJoining.split("T")[0]:"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employment Type"}),n.jsxs("select",{name:"employmentType",defaultValue:(m==null?void 0:m.employmentType)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"full-time",children:"Full-time"}),n.jsx("option",{value:"part-time",children:"Part-time"}),n.jsx("option",{value:"contract",children:"Contract"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reporting Manager"}),n.jsx("input",{type:"text",name:"reportingManager",defaultValue:(m==null?void 0:m.reportingManager)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Location"}),n.jsx("input",{type:"text",name:"workLocation",defaultValue:(m==null?void 0:m.workLocation)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),n.jsxs("div",{className:"flex gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:()=>l(2),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Previous"}),n.jsx("button",{type:"submit",disabled:f.isPending,className:"flex-1 px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:f.isPending?"Saving...":"Save & Continue"})]})]}),a===4&&n.jsxs("form",{onSubmit:w,className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Bank Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name"}),n.jsx("input",{type:"text",name:"bankName",defaultValue:(m==null?void 0:m.bankName)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number"}),n.jsx("input",{type:"text",name:"accountNumber",defaultValue:(m==null?void 0:m.accountNumber)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IFSC Code"}),n.jsx("input",{type:"text",name:"ifscCode",defaultValue:(m==null?void 0:m.ifscCode)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),n.jsx("input",{type:"text",name:"branch",defaultValue:(m==null?void 0:m.branch)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PAN Number"}),n.jsx("input",{type:"text",name:"panNumber",defaultValue:(m==null?void 0:m.panNumber)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),n.jsx("input",{type:"text",name:"city",defaultValue:(m==null?void 0:m.city)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),n.jsx("input",{type:"text",name:"state",defaultValue:(m==null?void 0:m.state)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),n.jsx("input",{type:"text",name:"postalCode",defaultValue:(m==null?void 0:m.postalCode)||"",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),n.jsxs("div",{className:"flex gap-4 pt-6",children:[n.jsx("button",{type:"button",onClick:()=>l(3),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Previous"}),n.jsx("button",{type:"submit",disabled:f.isPending,className:"flex-1 px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:f.isPending?"Saving...":"Save & Finish"})]})]})]})]})})})},dj=()=>{const e=Xe(),t=Ne(),[s,r]=N.useState(1),a=7,[l,i]=N.useState(null),[o,c]=N.useState(!1),[d,f]=N.useState(""),p=ee({mutationFn:async u=>(await V.post("/auth/register",u)).data,onSuccess:u=>{i(u.data.user.id),r(2)},onError:u=>{var h,g;alert(((g=(h=u.response)==null?void 0:h.data)==null?void 0:g.message)||"Failed to create user account")}}),m=ee({mutationFn:u=>vi.createFacultyProfile(u),onSuccess:()=>{t.invalidateQueries({queryKey:["faculty"]}),t.invalidateQueries({queryKey:["users"]}),alert("Faculty registration completed successfully!"),e("/faculty")},onError:u=>{var h,g;alert(((g=(h=u.response)==null?void 0:h.data)==null?void 0:g.message)||"Failed to create faculty profile")}}),v=u=>{u.preventDefault();const h=new FormData(u.currentTarget),g={name:h.get("fullName"),email:h.get("email"),phone:h.get("contactNumber"),password:h.get("password"),role:"faculty"};p.mutate(g)},y=u=>{u.preventDefault();const h=new FormData(u.currentTarget);if(!l){alert("Please complete user registration first");return}let x=h.getAll("softwareProficiency").filter(k=>k!=="Other");o&&d.trim()&&x.push(d.trim());const j=x.join(", "),R=h.getAll("documents"),A={userId:l,expertise:h.get("expertise")||void 0,availability:h.get("availability")||void 0,softwareProficiency:j||void 0,address:h.get("address")||void 0,emergencyContactName:h.get("emergencyContactName")||void 0,emergencyRelationship:h.get("emergencyRelationship")||void 0,emergencyPhoneNumber:h.get("emergencyPhoneNumber")||void 0,emergencyAlternatePhone:h.get("emergencyAlternatePhone")||void 0,documentsSubmitted:R.join(", ")||void 0};m.mutate(A)},b=()=>{s<a&&r(s+1)},w=()=>{s>1&&r(s-1)};return n.jsx(ne,{children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Faculty Registration Form"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Complete faculty registration and profile setup"})]}),n.jsx("div",{className:"px-8 py-4 bg-gray-50 border-b",children:n.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4,5,6,7].map(u=>n.jsxs(Gn.Fragment,{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold ${s>=u?"bg-orange-600 text-white":"bg-gray-300 text-gray-600"}`,children:u}),n.jsxs("span",{className:`ml-1 text-xs font-medium ${s>=u?"text-orange-600":"text-gray-500"}`,children:[u===1&&"Account",u===2&&"Personal",u===3&&"Employment",u===4&&"Software",u===5&&"Bank",u===6&&"Emergency",u===7&&"Documents"]})]}),u<a&&n.jsx("div",{className:`flex-1 h-1 mx-1 ${s>u?"bg-orange-600":"bg-gray-300"}`})]},u))})}),s===1&&n.jsxs("form",{onSubmit:v,className:"p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 1: Create User Account"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"fullName",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"tel",name:"contactNumber",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"password",name:"password",required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:p.isPending,className:"px-6 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:p.isPending?"Creating Account...":"Create Account & Continue"})})]})]}),s>1&&n.jsx("form",{onSubmit:y,children:n.jsxs("div",{className:"p-8",children:[s===2&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 2: Personal Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),n.jsxs("div",{className:"flex gap-4 mt-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"gender",value:"male",className:"mr-2"}),n.jsx("span",{children:"Male"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"gender",value:"female",className:"mr-2"}),n.jsx("span",{children:"Female"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"gender",value:"other",className:"mr-2"}),n.jsx("span",{children:"Other"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),n.jsx("input",{type:"date",name:"dateOfBirth",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality"}),n.jsx("input",{type:"text",name:"nationality",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marital Status"}),n.jsxs("div",{className:"flex gap-4 mt-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"maritalStatus",value:"single",className:"mr-2"}),n.jsx("span",{children:"Single"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"maritalStatus",value:"married",className:"mr-2"}),n.jsx("span",{children:"Married"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"maritalStatus",value:"other",className:"mr-2"}),n.jsx("span",{children:"Other"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),n.jsx("textarea",{name:"address",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),n.jsx("input",{type:"text",name:"city",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State/Province"}),n.jsx("input",{type:"text",name:"state",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),n.jsx("input",{type:"text",name:"postalCode",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),s===3&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 3: Employment Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),n.jsx("input",{type:"text",name:"department",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation / Job Title"}),n.jsx("input",{type:"text",name:"designation",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Joining"}),n.jsx("input",{type:"date",name:"dateOfJoining",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employment Type"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"employmentType",value:"full-time",className:"mr-2"}),n.jsx("span",{children:"Full-Time"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"employmentType",value:"part-time",className:"mr-2"}),n.jsx("span",{children:"Part-Time"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"employmentType",value:"contract",className:"mr-2"}),n.jsx("span",{children:"Contract"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",name:"employmentType",value:"intern",className:"mr-2"}),n.jsx("span",{children:"Intern"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reporting Manager"}),n.jsx("input",{type:"text",name:"reportingManager",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Location"}),n.jsx("input",{type:"text",name:"workLocation",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expertise / Specialization"}),n.jsx("textarea",{name:"expertise",rows:3,placeholder:"Describe your areas of expertise and specialization",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Availability"}),n.jsx("textarea",{name:"availability",rows:2,placeholder:"e.g., Monday-Friday 9 AM - 5 PM",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),s===4&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 4: Software Proficiency"}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Software Proficiency ",n.jsx("span",{className:"text-gray-500",children:"(Select all applicable)"})]}),n.jsx("div",{className:"border border-gray-300 rounded-md p-4 max-h-64 overflow-y-auto",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Photoshop","Illustrator","InDesign","After Effects","Premiere Pro","Figma","Sketch","Blender","Maya","3ds Max","Cinema 4D","Lightroom","CorelDRAW","AutoCAD","SolidWorks","Revit","SketchUp","Unity","Unreal Engine","DaVinci Resolve","Final Cut Pro","Procreate","Affinity Designer","Affinity Photo","Canva Pro","Other"].map(u=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[n.jsx("input",{type:"checkbox",name:"softwareProficiency",value:u,onChange:h=>{u==="Other"&&c(h.target.checked)},className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:u})]},u))})}),o&&n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specify Other Software"}),n.jsx("input",{type:"text",value:d,onChange:u=>f(u.target.value),placeholder:"Enter software names (comma separated)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),s===5&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 5: Bank Details"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),n.jsx("input",{type:"text",name:"bankName",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),n.jsx("input",{type:"text",name:"accountNumber",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IFSC / Routing Number"}),n.jsx("input",{type:"text",name:"ifscCode",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),n.jsx("input",{type:"text",name:"branch",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PAN / Tax ID"}),n.jsx("input",{type:"text",name:"panNumber",maxLength:10,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),s===6&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 6: Emergency Contact Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name"}),n.jsx("input",{type:"text",name:"emergencyContactName",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship"}),n.jsx("input",{type:"text",name:"emergencyRelationship",placeholder:"e.g., Father, Mother, Spouse, Guardian",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsx("input",{type:"tel",name:"emergencyPhoneNumber",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alternate Phone Number"}),n.jsx("input",{type:"tel",name:"emergencyAlternatePhone",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),s===7&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Step 7: Documents & Declaration"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Documents Submitted"}),n.jsx("div",{className:"space-y-2 border border-gray-300 rounded-md p-4",children:["Resume","ID Proof","Previous Salary Payslip","Educational Certificates","Experience Certificates","Relieving letter"].map(u=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"documents",value:u,className:"mr-2"}),n.jsx("span",{children:u})]},u))})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Declaration"}),n.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"I hereby declare that the above information is true and correct to the best of my knowledge."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Faculty Signature"}),n.jsx("div",{className:"border-b-2 border-gray-400 h-10"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),n.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",readOnly:!0})]})]})]})]}),n.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:w,disabled:s===2,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s<a?n.jsx("button",{type:"button",onClick:b,className:"px-6 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors",children:"Next"}):n.jsx("button",{type:"submit",disabled:m.isPending,className:"px-6 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:m.isPending?"Submitting...":"Submit Registration"})]})]})})]})})})},Qr={getAllSessions:async e=>(await V.get("/sessions",{params:e})).data,getSession:async e=>(await V.get(`/sessions/${e}`)).data,createSession:async e=>(await V.post("/sessions",e)).data,checkInSession:async e=>(await V.post(`/sessions/${e}/checkin`)).data,checkOutSession:async e=>(await V.post(`/sessions/${e}/checkout`)).data},cs={getSessionAttendance:async e=>(await V.get(`/sessions/${e}/attendance`)).data,markAttendance:async(e,t)=>(await V.post(`/sessions/${e}/attendance`,t)).data,getStudentAttendance:async(e,t)=>(await V.get(`/students/${e}/attendance`,{params:t})).data,punchIn:async e=>(await V.post("/student-attendance/punch-in",e)).data,punchOut:async e=>(await V.post("/student-attendance/punch-out",e)).data,getTodayPunch:async()=>(await V.get("/student-attendance/today")).data,getStudentPunchHistory:async e=>(await V.get("/student-attendance/history",{params:e})).data},uj=()=>{var M;const{user:e}=Ce(),t=Ne(),[s,r]=N.useState(!1),[a,l]=N.useState(null),[i,o]=N.useState(!1),[c,d]=N.useState(""),[f,p]=N.useState(""),[m,v]=N.useState(""),[y,b]=N.useState(""),[w,u]=N.useState(""),{data:h,isLoading:g}=te({queryKey:["sessions",c,f,m],queryFn:()=>Qr.getAllSessions({batchId:c?Number(c):void 0,facultyId:f?Number(f):void 0,status:m||void 0})}),{data:x,isLoading:j}=te({queryKey:["attendance",a==null?void 0:a.id],queryFn:()=>cs.getSessionAttendance(a.id),enabled:!!a&&i}),{data:R}=te({queryKey:["batches"],queryFn:()=>st.getAllBatches()}),{data:A}=te({queryKey:["faculty"],queryFn:()=>vi.getAllFaculty()}),k=ee({mutationFn:P=>Qr.createSession(P),onSuccess:()=>{t.invalidateQueries({queryKey:["sessions"]}),r(!1),alert("Session created successfully!")},onError:P=>{var K,I;alert(((I=(K=P.response)==null?void 0:K.data)==null?void 0:I.message)||"Failed to create session")}}),_=ee({mutationFn:P=>Qr.checkOutSession(P),onSuccess:()=>{t.invalidateQueries({queryKey:["sessions"]}),alert("Session checked out successfully!")},onError:P=>{var K,I;alert(((I=(K=P.response)==null?void 0:K.data)==null?void 0:I.message)||"Failed to check out session")}}),E=ee({mutationFn:P=>Qr.checkInSession(P),onSuccess:()=>{t.invalidateQueries({queryKey:["sessions"]}),alert("Session checked in successfully!")},onError:P=>{var K,I;alert(((I=(K=P.response)==null?void 0:K.data)==null?void 0:I.message)||"Failed to check in session")}});let T=(h==null?void 0:h.data.sessions)||[];const F=(R==null?void 0:R.data)||[],U=(A==null?void 0:A.data.users)||[];(y||w)&&(T=T.filter(P=>{const K=new Date(P.date);return!(y&&K<new Date(y)||w&&K>new Date(w))}));const C=P=>{P.preventDefault();const K=new FormData(P.currentTarget),I={batchId:parseInt(K.get("batchId")),facultyId:parseInt(K.get("facultyId")),date:K.get("date"),startTime:K.get("startTime"),endTime:K.get("endTime"),topic:K.get("topic")||void 0,isBackup:K.get("isBackup")==="true"};k.mutate(I)};return g?n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})}):n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Session Management"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Manage class sessions"})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="faculty")&&n.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"+ Create Session"})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Filter by Batch"}),n.jsxs("select",{value:c,onChange:P=>d(P.target.value?Number(P.target.value):""),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"All Batches"}),F.map(P=>n.jsx("option",{value:P.id,children:P.title},P.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Filter by Faculty"}),n.jsxs("select",{value:f,onChange:P=>p(P.target.value?Number(P.target.value):""),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"All Faculty"}),U.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Filter by Status"}),n.jsxs("select",{value:m,onChange:P=>v(P.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"scheduled",children:"Scheduled"}),n.jsx("option",{value:"ongoing",children:"Ongoing"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"From Date"}),n.jsx("input",{type:"date",value:y,onChange:P=>b(P.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"To Date"}),n.jsx("input",{type:"date",value:w,onChange:P=>u(P.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),n.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:T.length})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.filter(P=>P.status==="completed").length})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Ongoing"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:T.filter(P=>P.status==="ongoing").length})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Scheduled"}),n.jsx("p",{className:"text-2xl font-bold text-gray-600",children:T.filter(P=>P.status==="scheduled").length})]})]}),T.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-gray-500 text-lg",children:"No sessions found"}),n.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Try adjusting your filters or create a new session"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Faculty"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Topic"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(P=>{var K,I;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:new Date(P.date).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-500",children:[P.startTime," - ",P.endTime]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:((K=P.batch)==null?void 0:K.title)||`Batch ${P.batchId}`})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:((I=P.faculty)==null?void 0:I.name)||`Faculty ${P.facultyId}`})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-500",children:P.topic||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${P.status==="completed"?"bg-green-100 text-green-800":P.status==="ongoing"?"bg-blue-100 text-blue-800":P.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:P.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex gap-2",children:[P.status==="scheduled"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="faculty")&&n.jsx("button",{onClick:()=>E.mutate(P.id),disabled:E.isPending,className:"px-3 py-1 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors disabled:opacity-50 text-xs",children:"Check In"}),P.status==="ongoing"&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="faculty")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>_.mutate(P.id),disabled:_.isPending,className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50 text-xs",children:"Check Out"}),n.jsx("button",{onClick:()=>{l(P),o(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-xs",children:"View Attendance"})]}),(P.status==="completed"||P.status==="ongoing")&&n.jsx("button",{onClick:()=>{l(P),o(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-xs",children:"View Attendance"})]})})]},P.id)})})]})})]})]})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create New Session"}),n.jsxs("form",{onSubmit:C,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch *"}),n.jsxs("select",{name:"batchId",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select a batch"}),F.map(P=>n.jsx("option",{value:P.id,children:P.title},P.id))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Faculty *"}),n.jsxs("select",{name:"facultyId",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select a faculty"}),U.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),n.jsx("input",{type:"date",name:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time *"}),n.jsx("input",{type:"time",name:"startTime",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time *"}),n.jsx("input",{type:"time",name:"endTime",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic"}),n.jsx("input",{type:"text",name:"topic",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"isBackup",value:"true",className:"mr-2"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Is Backup Session"})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:k.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:k.isPending?"Creating...":"Create"}),n.jsx("button",{type:"button",onClick:()=>r(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}),i&&a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Session Attendance"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[(M=a.batch)==null?void 0:M.title," - ",new Date(a.date).toLocaleDateString()]})]}),n.jsx("button",{onClick:()=>{o(!1),l(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),j?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):x!=null&&x.data.attendances&&x.data.attendances.length>0?n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Student"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Marked At"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.data.attendances.map(P=>{var K,I;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((K=P.student)==null?void 0:K.name)||`Student ${P.studentId}`}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((I=P.student)==null?void 0:I.email)||"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${P.status==="present"||P.status==="manual_present"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.status==="manual_present"?"Present (Manual)":P.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.isManual?"Manual":"Automatic"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.markedAt?new Date(P.markedAt).toLocaleString():"-"})]},P.id)})})]}),n.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Total: ",x.data.attendances.length," attendance records"]})]}):n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No attendance records found for this session"})})]})})]})},mj=()=>{const{user:e}=Ce(),t=Ne(),[s,r]=N.useState(null),[a,l]=N.useState(!1),{data:i}=te({queryKey:["sessions"],queryFn:()=>Qr.getAllSessions()}),{data:o,isLoading:c}=te({queryKey:["attendance",s],queryFn:()=>cs.getSessionAttendance(s),enabled:s!==null}),d=ee({mutationFn:({sessionId:v,data:y})=>cs.markAttendance(v,y),onSuccess:()=>{t.invalidateQueries({queryKey:["attendance",s]}),l(!1),alert("Attendance marked successfully!")},onError:v=>{var y,b;alert(((b=(y=v.response)==null?void 0:y.data)==null?void 0:b.message)||"Failed to mark attendance")}}),f=(i==null?void 0:i.data.sessions)||[],p=(o==null?void 0:o.data.attendances)||[],m=v=>{if(v.preventDefault(),!s)return;const y=new FormData(v.currentTarget),b={studentId:parseInt(y.get("studentId")),status:y.get("status"),isManual:y.get("isManual")==="true"};d.mutate({sessionId:s,data:b})};return n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Attendance Management"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Track attendance"})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Session"}),n.jsxs("select",{value:s||"",onChange:v=>r(v.target.value?parseInt(v.target.value):null),className:"w-full md:w-1/3 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select a session"}),f.map(v=>{var y;return n.jsxs("option",{value:v.id,children:[new Date(v.date).toLocaleDateString()," - ",v.startTime," (",((y=v.batch)==null?void 0:y.title)||`Batch ${v.batchId}`,")"]},v.id)})]})]}),s&&n.jsxs(n.Fragment,{children:[((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="faculty")&&n.jsx("div",{className:"mb-4",children:n.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors",children:"+ Mark Attendance"})}),c?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):p.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"No attendance records found for this session"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marked At"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(v=>{var y,b;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:((y=v.student)==null?void 0:y.name)||`Student ${v.studentId}`})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:((b=v.student)==null?void 0:b.email)||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${v.status==="present"||v.status==="manual_present"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${v.isManual?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:v.isManual?"Manual":"Auto"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:v.markedAt?new Date(v.markedAt).toLocaleString():"-"})})]},v.id)})})]})})]})]})]})}),a&&s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Mark Attendance"}),n.jsxs("form",{onSubmit:m,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student ID *"}),n.jsx("input",{type:"number",name:"studentId",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),n.jsxs("select",{name:"status",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"present",children:"Present"}),n.jsx("option",{value:"absent",children:"Absent"}),n.jsx("option",{value:"manual_present",children:"Manual Present"})]})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"isManual",value:"true",className:"mr-2"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Manual Marking"})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:d.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:d.isPending?"Marking...":"Mark Attendance"}),n.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})})]})},pj=()=>{const{user:e}=Ce(),t=Xe(),s=Ne();Gn.useEffect(()=>{(e==null?void 0:e.role)==="student"&&t("/attendance")},[e,t]);const[r,a]=N.useState(!1),[l,i]=N.useState(null),[o,c]=N.useState(null),[d,f]=N.useState(null),p=N.useRef(null),m=N.useRef(null),v=N.useRef(null),{data:y,isLoading:b}=te({queryKey:["today-punch"],queryFn:()=>cs.getTodayPunch()}),{data:w}=te({queryKey:["punch-history"],queryFn:()=>cs.getStudentPunchHistory()}),u=ee({mutationFn:C=>cs.punchIn(C),onSuccess:()=>{s.invalidateQueries({queryKey:["today-punch"]}),s.invalidateQueries({queryKey:["punch-history"]}),i(null),c(null),alert("Punched in successfully!")},onError:C=>{var M,P;alert(((P=(M=C.response)==null?void 0:M.data)==null?void 0:P.message)||"Failed to punch in")}}),h=ee({mutationFn:C=>cs.punchOut(C),onSuccess:()=>{s.invalidateQueries({queryKey:["today-punch"]}),s.invalidateQueries({queryKey:["punch-history"]}),i(null),c(null),alert("Punched out successfully!")},onError:C=>{var M,P;alert(((P=(M=C.response)==null?void 0:M.data)==null?void 0:P.message)||"Failed to punch out")}}),g=N.useCallback(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(C=>{f({latitude:C.coords.latitude,longitude:C.coords.longitude}),fetch(`https://api.opencagedata.com/geocode/v1/json?q=${C.coords.latitude}+${C.coords.longitude}&key=YOUR_API_KEY`).then(M=>M.json()).then(M=>{M.results&&M.results.length>0&&f(P=>({...P,address:M.results[0].formatted}))}).catch(()=>{})},C=>{console.error("Error getting location:",C),f({address:"Location access denied"})}):f({address:"Geolocation not supported"})},[]),x=N.useCallback(async()=>{try{const C=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:640,height:480},audio:!1});m.current=C,p.current&&(p.current.srcObject=C,a(!0),g())}catch(C){console.error("Error accessing webcam:",C),alert("Unable to access webcam. Please check permissions.")}},[g]),j=N.useCallback(()=>{m.current&&(m.current.getTracks().forEach(C=>C.stop()),m.current=null),p.current&&(p.current.srcObject=null),a(!1)},[]),R=N.useCallback(()=>{if(p.current&&v.current){const C=p.current,M=v.current,P=M.getContext("2d");if(P){M.width=C.videoWidth,M.height=C.videoHeight,P.drawImage(C,0,0);const K=M.toDataURL("image/jpeg",.8);i(K)}}},[]),A=N.useCallback(async()=>{const C=`FP_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;c(C),alert("Fingerprint captured! (Simulated - connect actual scanner in production)")},[]),k=N.useCallback(()=>{if(!l){alert("Please capture your photo first");return}const C={photo:l,fingerprint:o||void 0,location:d||void 0};u.mutate(C),j()},[l,o,d,u,j]),_=N.useCallback(()=>{if(!l){alert("Please capture your photo first");return}const C={photo:l,fingerprint:o||void 0,location:d||void 0};h.mutate(C),j()},[l,o,d,h,j]);if(Gn.useEffect(()=>()=>{j()},[j]),(e==null?void 0:e.role)==="student")return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"bg-white shadow-xl rounded-lg p-6",children:n.jsx("p",{className:"text-gray-600",children:"Redirecting..."})})})});const E=y==null?void 0:y.data.punch,T=(y==null?void 0:y.data.hasPunchedIn)||!1,F=(y==null?void 0:y.data.hasPunchedOut)||!1,U=(w==null?void 0:w.data.punches)||[];return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"My Attendance"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Punch in and punch out with photo and fingerprint"})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Today's Status"}),b?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):E?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Punch In"}),n.jsx("p",{className:"text-lg font-semibold text-green-700",children:E.punchInAt?new Date(E.punchInAt).toLocaleTimeString():"Not punched in"})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${F?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Punch Out"}),n.jsx("p",{className:`text-lg font-semibold ${F?"text-blue-700":"text-gray-500"}`,children:E.punchOutAt?new Date(E.punchOutAt).toLocaleTimeString():"Not punched out"})]}),n.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Working Hours"}),n.jsx("p",{className:"text-lg font-semibold text-orange-700",children:E.effectiveHours?`${E.effectiveHours.toFixed(2)} hrs`:"-"})]})]}):n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:n.jsx("p",{className:"text-gray-600",children:"No punch record for today"})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Capture Photo"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden",style:{aspectRatio:"4/3"},children:[r?n.jsx("video",{ref:p,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("svg",{className:"w-16 h-16 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.jsx("p",{children:"Camera not active"})]})}),n.jsx("canvas",{ref:v,className:"hidden"})]}),n.jsx("div",{className:"flex gap-2",children:r?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:R,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:" Capture Photo"}),n.jsx("button",{onClick:j,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors",children:"Stop"})]}):n.jsx("button",{onClick:x,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:" Start Camera"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden",style:{aspectRatio:"4/3"},children:l?n.jsx("img",{src:l,alt:"Captured",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:n.jsxs("div",{className:"text-center",children:[n.jsx("svg",{className:"w-16 h-16 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("p",{children:"No photo captured"})]})})}),l&&n.jsx("button",{onClick:()=>i(null),className:"w-full px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Clear Photo"})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Fingerprint Authentication"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Fingerprint Status"}),n.jsx("p",{className:"text-sm font-medium",children:o?" Fingerprint captured":"No fingerprint captured"})]}),n.jsx("button",{onClick:A,className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:" Capture Fingerprint"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Note: Connect a fingerprint scanner device for production use"})]})]}),d&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Location"}),n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:n.jsx("p",{className:"text-sm text-gray-600",children:d.address||`Lat: ${d.latitude}, Lng: ${d.longitude}`})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Actions"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:k,disabled:T||u.isPending||!l,className:"flex-1 px-6 py-4 bg-green-600 text-white rounded-lg font-semibold text-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u.isPending?"Punching In...":T?" Already Punched In":" Punch In"}),n.jsx("button",{onClick:_,disabled:!T||F||h.isPending||!l,className:"flex-1 px-6 py-4 bg-red-600 text-white rounded-lg font-semibold text-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.isPending?"Punching Out...":F?" Already Punched Out":" Punch Out"})]})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Punch History"}),U.length===0?n.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-500",children:"No punch history available"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Punch In"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Punch Out"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hours"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Photo"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(C=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(C.date).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.punchInAt?new Date(C.punchInAt).toLocaleTimeString():"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.punchOutAt?new Date(C.punchOutAt).toLocaleTimeString():"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C.effectiveHours?`${C.effectiveHours.toFixed(2)} hrs`:"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex gap-2",children:[C.punchInPhoto&&n.jsx("img",{src:C.punchInPhoto,alt:"Punch In",className:"w-12 h-12 rounded object-cover cursor-pointer hover:scale-150 transition-transform",onClick:()=>window.open(C.punchInPhoto,"_blank")}),C.punchOutPhoto&&n.jsx("img",{src:C.punchOutPhoto,alt:"Punch Out",className:"w-12 h-12 rounded object-cover cursor-pointer hover:scale-150 transition-transform",onClick:()=>window.open(C.punchOutPhoto,"_blank")})]})})]},C.id))})]})})]})]})]})})})},no={getAllPayments:async e=>(await V.get("/payments",{params:e})).data,getPayment:async e=>(await V.get(`/payments/${e}`)).data,createPayment:async e=>(await V.post("/payments",e)).data,updatePayment:async(e,t)=>(await V.put(`/payments/${e}`,t)).data},fj=()=>{const{user:e}=Ce(),t=Ne(),[s,r]=N.useState(!1),[a,l]=N.useState(!1),[i,o]=N.useState(null),{data:c,isLoading:d}=te({queryKey:["payments"],queryFn:()=>no.getAllPayments()}),{data:f}=te({queryKey:["students"],queryFn:()=>Zt.getAllStudents()}),p=ee({mutationFn:u=>no.createPayment(u),onSuccess:()=>{t.invalidateQueries({queryKey:["payments"]}),r(!1),alert("Payment created successfully!")},onError:u=>{var g,x;const h=((x=(g=u.response)==null?void 0:g.data)==null?void 0:x.message)||u.message||"Failed to create payment";console.error("Payment creation error:",u),alert(`Error: ${h}

Please check:
1. All required fields are filled
2. Database migrations are up to date
3. Backend server logs for details`)}}),m=ee({mutationFn:({id:u,data:h})=>no.updatePayment(u,h),onSuccess:()=>{t.invalidateQueries({queryKey:["payments"]}),l(!1),o(null),alert("Payment updated successfully!")},onError:u=>{var h,g;alert(((g=(h=u.response)==null?void 0:h.data)==null?void 0:g.message)||"Failed to update payment")}}),v=(c==null?void 0:c.data.payments)||[],y=(f==null?void 0:f.data.students)||[],b=u=>{u.preventDefault();const h=new FormData(u.currentTarget),g=parseInt(h.get("studentId")),x=parseFloat(h.get("amount")),j=h.get("dueDate");if(!g||isNaN(g)){alert("Please select a valid student");return}if(!x||isNaN(x)||x<=0){alert("Please enter a valid amount greater than 0");return}if(!j){alert("Please select a due date");return}const R={studentId:g,amount:x,dueDate:j,notes:h.get("notes")||void 0};console.log("Creating payment with data:",R),p.mutate(R)},w=u=>{if(u.preventDefault(),!i)return;const h=new FormData(u.currentTarget),g={status:h.get("status")||void 0,paidDate:h.get("paidDate")||void 0,paymentMethod:h.get("paymentMethod")||void 0,transactionId:h.get("transactionId")||void 0,notes:h.get("notes")||void 0};m.mutate({id:i.id,data:g})};return d?n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})}):n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Payment Management"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Manage payments"})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"+ Create Payment"})]})}),n.jsx("div",{className:"p-6",children:v.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"No payments found"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(u=>{var h,g;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:((h=u.student)==null?void 0:h.name)||`Student ${u.studentId}`}),n.jsx("div",{className:"text-sm text-gray-500",children:((g=u.student)==null?void 0:g.email)||"-"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:["",u.amount.toFixed(2)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:u.dueDate?new Date(u.dueDate).toLocaleDateString():"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:u.paidDate?new Date(u.paidDate).toLocaleDateString():"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${u.status==="paid"?"bg-green-100 text-green-800":u.status==="overdue"?"bg-red-100 text-red-800":u.status==="cancelled"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:u.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("button",{onClick:()=>{o(u),l(!0)},className:"text-orange-600 hover:text-orange-900",children:"Update"})})]},u.id)})})]})})})]})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Payment"}),n.jsxs("form",{onSubmit:b,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student *"}),n.jsxs("select",{name:"studentId",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select a student"}),y.map(u=>n.jsxs("option",{value:u.id,children:[u.name," (",u.email,")"]},u.id))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount *"}),n.jsx("input",{type:"number",name:"amount",required:!0,step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Due Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",name:"dueDate",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{name:"notes",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:p.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:p.isPending?"Creating...":"Create"}),n.jsx("button",{type:"button",onClick:()=>r(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}),a&&i&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Update Payment"}),n.jsxs("form",{onSubmit:w,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{name:"status",defaultValue:i.status,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"overdue",children:"Overdue"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Paid Date"}),n.jsx("input",{type:"date",name:"paidDate",defaultValue:i.paidDate?new Date(i.paidDate).toISOString().split("T")[0]:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),n.jsxs("select",{name:"paymentMethod",defaultValue:i.paymentMethod||"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select method"}),n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),n.jsx("option",{value:"upi",children:"UPI"}),n.jsx("option",{value:"card",children:"Card"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction ID"}),n.jsx("input",{type:"text",name:"transactionId",defaultValue:i.transactionId||"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{name:"notes",rows:3,defaultValue:i.notes||"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:m.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:m.isPending?"Updating...":"Update"}),n.jsx("button",{type:"button",onClick:()=>{l(!1),o(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})})]})},so={getAllPortfolios:async e=>(await V.get("/portfolios",{params:e})).data,getStudentPortfolio:async e=>(await V.get(`/students/${e}/portfolio`)).data,createPortfolio:async(e,t)=>(await V.post(`/students/${e}/portfolio`,t)).data,approvePortfolio:async(e,t)=>(await V.post(`/portfolio/${e}/approve`,t)).data},hj=()=>{var I,X;const{user:e}=Ce(),t=Ne(),[s,r]=N.useState(!1),[a,l]=N.useState(null),[i,o]=N.useState(!1),[c,d]=N.useState([""]),[f,p]=N.useState([""]),[m,v]=N.useState(!1),y=N.useRef(!1),b=N.useRef(!1),{data:w,isLoading:u}=te({queryKey:["portfolios"],queryFn:()=>so.getAllPortfolios()}),{data:h}=te({queryKey:["students"],queryFn:()=>Zt.getAllStudents()}),{data:g}=te({queryKey:["batches"],queryFn:()=>st.getAllBatches()}),x=ee({mutationFn:({studentId:L,data:z})=>so.createPortfolio(L,z),onSuccess:()=>{t.invalidateQueries({queryKey:["portfolios"]}),r(!1),alert("Portfolio created successfully!")},onError:L=>{var z,G;alert(((G=(z=L.response)==null?void 0:z.data)==null?void 0:G.message)||"Failed to create portfolio")}}),j=ee({mutationFn:({id:L,data:z})=>so.approvePortfolio(L,z),onSuccess:()=>{t.invalidateQueries({queryKey:["portfolios"]}),o(!1),l(null),alert("Portfolio status updated successfully!")},onError:L=>{var z,G;alert(((G=(z=L.response)==null?void 0:z.data)==null?void 0:G.message)||"Failed to update portfolio")}}),R=(w==null?void 0:w.data.portfolios)||[],A=(h==null?void 0:h.data.students)||[],k=(g==null?void 0:g.data)||[],_=L=>{L.preventDefault();const z=new FormData(L.currentTarget),G=c.map(q=>q.trim()).filter(q=>q.length>0),de=f.map(q=>q.trim()).filter(q=>q.length>0);if(G.length===0&&de.length===0){alert("Please provide at least one image or video link");return}const fe=G.length>0?G:void 0,Oe=de.length>0?de[0]:void 0,Re={batchId:parseInt(z.get("batchId")),files:fe,youtubeUrl:Oe};x.mutate({studentId:parseInt(z.get("studentId")),data:Re})},E=L=>{L.preventDefault(),L.stopPropagation(),!y.current&&(y.current=!0,d(z=>[...z,""]),setTimeout(()=>{y.current=!1},100))},T=L=>{d(z=>z.filter((G,de)=>de!==L))},F=(L,z)=>{d(G=>{const de=[...G];return de[L]=z,de})},U=L=>{L.preventDefault(),L.stopPropagation(),!b.current&&(b.current=!0,p(z=>[...z,""]),setTimeout(()=>{b.current=!1},100))},C=L=>{p(z=>z.filter((G,de)=>de!==L))},M=(L,z)=>{p(G=>{const de=[...G];return de[L]=z,de})},P=async L=>{var Re,q;const z=L.target.files;if(!z||z.length===0)return;const G=50*1024*1024,de=Array.from(z).filter(Y=>Y.size>G);if(de.length>0){alert(`Some files exceed 50MB limit: ${de.map(Y=>Y.name).join(", ")}`);return}const fe=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],Oe=Array.from(z).filter(Y=>!fe.includes(Y.type));if(Oe.length>0){alert(`Some files are not valid images: ${Oe.map(Y=>Y.name).join(", ")}`);return}v(!0);try{const Y=Array.from(z),Te=(await bi.uploadMultipleFiles(Y)).data.urls;d(Me=>[...Me,...Te]),alert(`${Y.length} image(s) uploaded successfully!`)}catch(Y){alert(((q=(Re=Y.response)==null?void 0:Re.data)==null?void 0:q.message)||"Failed to upload images")}finally{v(!1),L.target.value=""}},K=L=>{if(L.preventDefault(),!a)return;const G={approve:new FormData(L.currentTarget).get("approve")==="true"};j.mutate({id:a.id,data:G})};return u?n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})}):n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Portfolio Management"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Student portfolios"})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="student")&&n.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"+ Create Portfolio"})]})}),n.jsx("div",{className:"p-6",children:R.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"No portfolios found"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(L=>{var z,G;return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((z=L.student)==null?void 0:z.name)||`Student ${L.studentId}`}),n.jsx("p",{className:"text-sm text-gray-600",children:((G=L.batch)==null?void 0:G.title)||`Batch ${L.batchId}`})]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${L.status==="approved"?"bg-green-100 text-green-800":L.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:L.status})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Files:"})," ",Object.keys(L.files||{}).length]}),L.approvedAt&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Approved: ",new Date(L.approvedAt).toLocaleDateString()]})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin"||(e==null?void 0:e.role)==="faculty")&&L.status==="pending"&&n.jsx("button",{onClick:()=>{l(L),o(!0)},className:"w-full px-3 py-2 bg-orange-600 text-white rounded text-sm hover:bg-orange-700 transition-colors",children:"Review"})]},L.id)})})})]})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Create Portfolio"}),n.jsxs("form",{onSubmit:_,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student *"}),n.jsxs("select",{name:"studentId",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select a student"}),A.map(L=>n.jsxs("option",{value:L.id,children:[L.name," (",L.email,")"]},L.id))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch *"}),n.jsxs("select",{name:"batchId",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select a batch"}),k.map(L=>n.jsx("option",{value:L.id,children:L.title},L.id))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Images (Max 50MB per file)"}),n.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",multiple:!0,onChange:P,disabled:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50"}),m&&n.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Uploading images..."}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload image files (JPG, PNG, GIF, WebP) - Max 50MB per file"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Links (or enter URLs manually)"}),c.map((L,z)=>n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"url",value:L,onChange:G=>F(z,G.target.value),placeholder:"https://example.com/image.jpg",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"}),c.length>1&&n.jsx("button",{type:"button",onClick:G=>{G.preventDefault(),G.stopPropagation(),T(z)},className:"px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors",children:"Remove"})]},z)),n.jsx("button",{type:"button",onClick:E,className:"mt-2 px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:"+ Add Image Link"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Or enter image URLs manually"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Links (YouTube)"}),f.map((L,z)=>n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"url",value:L,onChange:G=>M(z,G.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"}),f.length>1&&n.jsx("button",{type:"button",onClick:G=>{G.preventDefault(),G.stopPropagation(),C(z)},className:"px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors",children:"Remove"})]},z)),n.jsx("button",{type:"button",onClick:U,className:"mt-2 px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:"+ Add Video Link"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter YouTube video URLs"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:x.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:x.isPending?"Creating...":"Create"}),n.jsx("button",{type:"button",onClick:()=>{r(!1),d([""]),p([""])},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}),i&&a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Review Portfolio"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Student:"})," ",((I=a.student)==null?void 0:I.name)||`Student ${a.studentId}`]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Batch:"})," ",((X=a.batch)==null?void 0:X.title)||`Batch ${a.batchId}`]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Files:"}),n.jsx("div",{className:"bg-gray-50 p-3 rounded max-h-40 overflow-y-auto",children:Object.entries(a.files||{}).map(([L,z])=>n.jsx("div",{className:"text-xs text-gray-600 mb-1",children:n.jsxs("a",{href:z,target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:underline",children:[L,": ",z]})},L))})]})]}),n.jsxs("form",{onSubmit:K,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action *"}),n.jsxs("select",{name:"approve",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"true",children:"Approve"}),n.jsx("option",{value:"false",children:"Reject"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:j.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:j.isPending?"Updating...":"Submit"}),n.jsx("button",{type:"button",onClick:()=>{o(!1),l(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})})]})},qr={getStudentsWithoutBatch:async()=>(await V.get("/reports/students-without-batch")).data,getBatchAttendance:async(e,t)=>(await V.get("/reports/batch-attendance",{params:{batchId:e,...t}})).data,getPendingPayments:async()=>(await V.get("/reports/pending-payments")).data,getPortfolioStatus:async()=>(await V.get("/reports/portfolio-status")).data,getAllAnalysisReports:async()=>(await V.get("/reports/all-analysis")).data},xj=()=>{const[e,t]=N.useState(null),[s,r]=N.useState(null),[a,l]=N.useState(""),[i,o]=N.useState(""),{data:c}=te({queryKey:["batches"],queryFn:()=>st.getAllBatches()}),{data:d,isLoading:f}=te({queryKey:["reports","students-without-batch"],queryFn:()=>qr.getStudentsWithoutBatch(),enabled:e==="students-without-batch"}),{data:p,isLoading:m}=te({queryKey:["reports","batch-attendance",s,a,i],queryFn:()=>qr.getBatchAttendance(s,{from:a||void 0,to:i||void 0}),enabled:e==="batch-attendance"&&s!==null}),{data:v,isLoading:y}=te({queryKey:["reports","pending-payments"],queryFn:()=>qr.getPendingPayments(),enabled:e==="pending-payments"}),{data:b,isLoading:w}=te({queryKey:["reports","portfolio-status"],queryFn:()=>qr.getPortfolioStatus(),enabled:e==="portfolio-status"}),{data:u,isLoading:h}=te({queryKey:["reports","all-analysis"],queryFn:()=>qr.getAllAnalysisReports(),enabled:e==="all-analysis"}),g=(c==null?void 0:c.data)||[];return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Reports"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"View reports"})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsx("button",{onClick:()=>t("all-analysis"),className:`px-4 py-3 rounded-lg font-semibold transition-colors ${e==="all-analysis"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Analysis"}),n.jsx("button",{onClick:()=>t("students-without-batch"),className:`px-4 py-3 rounded-lg font-semibold transition-colors ${e==="students-without-batch"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Students Without Batch"}),n.jsx("button",{onClick:()=>t("batch-attendance"),className:`px-4 py-3 rounded-lg font-semibold transition-colors ${e==="batch-attendance"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Batch Attendance"}),n.jsx("button",{onClick:()=>t("pending-payments"),className:`px-4 py-3 rounded-lg font-semibold transition-colors ${e==="pending-payments"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Pending Payments"}),n.jsx("button",{onClick:()=>t("portfolio-status"),className:`px-4 py-3 rounded-lg font-semibold transition-colors ${e==="portfolio-status"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Portfolio Status"})]}),e==="students-without-batch"&&n.jsx("div",{children:f?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d==null?void 0:d.data.students.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.phone||"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(x.createdAt).toLocaleDateString()})]},x.id))})]}),n.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Total: ",(d==null?void 0:d.data.totalCount)||0," students"]})]})}),e==="batch-attendance"&&n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4 flex gap-4",children:[n.jsxs("select",{value:s||"",onChange:x=>r(x.target.value?parseInt(x.target.value):null),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"",children:"Select a batch"}),g.map(x=>n.jsx("option",{value:x.id,children:x.title},x.id))]}),n.jsx("input",{type:"date",value:a,onChange:x=>l(x.target.value),placeholder:"From Date",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"}),n.jsx("input",{type:"date",value:i,onChange:x=>o(x.target.value),placeholder:"To Date",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),m?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):p!=null&&p.data?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold mb-2",children:p.data.batch.title}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Total Sessions: ",p.data.totalSessions," | Total Attendances: ",p.data.totalAttendances]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Present"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Absent"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.data.studentStatistics.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:["Student ",x.studentId]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.present}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.absent}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.total}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.attendanceRate})]},x.studentId))})]})})]}):n.jsx("p",{className:"text-gray-500 text-center py-12",children:"Select a batch to view attendance report"})]}),e==="pending-payments"&&n.jsx("div",{children:y?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):v!=null&&v.data?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Summary"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Total Pending"}),n.jsx("p",{className:"font-semibold",children:v.data.summary.totalPending})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Total Amount"}),n.jsxs("p",{className:"font-semibold",children:["",v.data.summary.totalPendingAmount]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Overdue"}),n.jsx("p",{className:"font-semibold",children:v.data.summary.overdue.count})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Upcoming"}),n.jsx("p",{className:"font-semibold",children:v.data.summary.upcoming.count})]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.data.payments.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.student.name}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:["",x.amount.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(x.dueDate).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${x.isOverdue?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:x.isOverdue?"Overdue":"Pending"})})]},x.id))})]})})]}):null}),e==="portfolio-status"&&n.jsx("div",{children:w?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):b!=null&&b.data?n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Summary"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Total"}),n.jsx("p",{className:"font-semibold",children:b.data.summary.total})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Pending"}),n.jsx("p",{className:"font-semibold",children:b.data.summary.pending})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Approved"}),n.jsx("p",{className:"font-semibold",children:b.data.summary.approved})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Rejected"}),n.jsx("p",{className:"font-semibold",children:b.data.summary.rejected})]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Files"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.data.portfolios.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.student.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.batch.title}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${x.status==="approved"?"bg-green-100 text-green-800":x.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:x.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Object.keys(x.files||{}).length})]},x.id))})]})})]}):null}),e==="all-analysis"&&n.jsx("div",{children:h?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):u!=null&&u.data?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Generated at: ",new Date(u.data.generatedAt).toLocaleString()]})}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Students Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Students"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u.data.summary.students.total})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"With Batch"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:u.data.summary.students.withBatch})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Without Batch"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:u.data.summary.students.withoutBatch})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Batches Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Batches"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u.data.summary.batches.total})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Active Batches"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:u.data.summary.batches.active})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Ended Batches"}),n.jsx("p",{className:"text-2xl font-bold text-gray-600",children:u.data.summary.batches.ended})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Sessions Summary"}),n.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:u.data.summary.sessions.total})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payments Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Payments"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u.data.summary.payments.total})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:u.data.summary.payments.pending})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",u.data.summary.payments.totalAmount.toFixed(2)]})]}),n.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Paid Amount"}),n.jsxs("p",{className:"text-lg font-bold text-teal-600",children:["",u.data.summary.payments.paidAmount.toFixed(2)]})]}),n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pending Amount"}),n.jsxs("p",{className:"text-lg font-bold text-red-600",children:["",u.data.summary.payments.pendingAmount.toFixed(2)]})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Portfolios Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Portfolios"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u.data.summary.portfolios.total})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:u.data.summary.portfolios.pending})]})]})]})]}):null}),!e&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"Select a report type to view"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Available reports: All Analysis, Students Without Batch, Batch Attendance, Pending Payments, Portfolio Status"})]})]})]})})})},wm={getAllChangeRequests:async e=>(await V.get("/change-requests",{params:e})).data,getChangeRequest:async e=>(await V.get(`/change-requests/${e}`)).data,approveChangeRequest:async(e,t)=>(await V.post(`/change-requests/${e}/approve`,t)).data},gj=()=>{var p;const{user:e}=Ce(),t=Ne(),[s,r]=N.useState(null),[a,l]=N.useState(!1),{data:i,isLoading:o}=te({queryKey:["change-requests"],queryFn:()=>wm.getAllChangeRequests({status:"pending"})}),c=ee({mutationFn:({id:m,data:v})=>wm.approveChangeRequest(m,v),onSuccess:()=>{t.invalidateQueries({queryKey:["change-requests"]}),l(!1),r(null),alert("Request processed successfully!")},onError:m=>{var v,y;alert(((y=(v=m.response)==null?void 0:v.data)==null?void 0:y.message)||"Failed to process request")}}),d=(i==null?void 0:i.data.changeRequests)||[],f=m=>{if(m.preventDefault(),!s)return;const v=new FormData(m.currentTarget),y={approve:v.get("approve")==="true",rejectionReason:v.get("rejectionReason")||void 0};c.mutate({id:s.id,data:y})};return o?n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})}):n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Approvals"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Manage approvals"})]})}),n.jsx("div",{className:"p-6",children:d.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"No pending approval requests found"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(m=>{var v;return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:m.type.replace("_"," ")}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Student: ",((v=m.student)==null?void 0:v.name)||`Student ${m.studentId}`]}),m.batch&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Batch: ",m.batch.title||`Batch ${m.batchId}`]})]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${m.status==="approved"?"bg-green-100 text-green-800":m.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:m.status})]}),m.reason&&n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Reason:"})," ",m.reason]})}),m.requestedData&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Requested Data:"}),n.jsx("div",{className:"bg-gray-50 p-2 rounded text-xs",children:JSON.stringify(m.requestedData,null,2)})]}),n.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Created: ",m.createdAt?new Date(m.createdAt).toLocaleDateString():"-"]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&m.status==="pending"&&n.jsx("button",{onClick:()=>{r(m),l(!0)},className:"w-full px-3 py-2 bg-orange-600 text-white rounded text-sm hover:bg-orange-700 transition-colors",children:"Review"})]},m.id)})})})]})}),a&&s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Review Request"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Type:"})," ",s.type.replace("_"," ")]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Student:"})," ",((p=s.student)==null?void 0:p.name)||`Student ${s.studentId}`]}),s.reason&&n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Reason:"})," ",s.reason]})]}),n.jsxs("form",{onSubmit:f,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action *"}),n.jsxs("select",{name:"approve",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"true",children:"Approve"}),n.jsx("option",{value:"false",children:"Reject"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rejection Reason (if rejecting)"}),n.jsx("textarea",{name:"rejectionReason",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:c.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:c.isPending?"Processing...":"Submit"}),n.jsx("button",{type:"button",onClick:()=>{l(!1),r(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})})]})},jl={getUserPermissions:async e=>(await V.get(`/users/${e}/permissions`)).data,updateUserPermissions:async(e,t)=>(await V.put(`/users/${e}/permissions`,t)).data,getModules:async()=>(await V.get("/users/modules/list")).data},yt={getAllRoles:async()=>(await V.get("/roles")).data,getRole:async e=>(await V.get(`/roles/${e}`)).data,createRole:async e=>(await V.post("/roles",e)).data,updateRole:async(e,t)=>(await V.put(`/roles/${e}`,t)).data,deleteRole:async e=>{await V.delete(`/roles/${e}`)},assignRoleToUser:async(e,t)=>(await V.post(`/roles/users/${e}/assign`,t)).data,unassignRoleFromUser:async(e,t)=>{await V.delete(`/roles/users/${e}/roles/${t}`)},getUserRoles:async e=>(await V.get(`/roles/users/${e}/roles`)).data},yj=()=>{var Pd,Rd;const{user:e}=Ce(),t=Ne(),[s,r]=N.useState(null),[a,l]=N.useState(!1),[i,o]=N.useState(!1),[c,d]=N.useState(!1),[f,p]=N.useState(!1),[m,v]=N.useState(!1),[y,b]=N.useState(!1),[w,u]=N.useState(!1),[h,g]=N.useState(!1),[x,j]=N.useState(!1),[R,A]=N.useState(!1),[k,_]=N.useState(null),[E,T]=N.useState([]),[F,U]=N.useState([]),[C,M]=N.useState([]),[P,K]=N.useState([]),[I,X]=N.useState([]),[L,z]=N.useState([]),{data:G,isLoading:de,error:fe}=te({queryKey:["users"],queryFn:()=>Be.getAllUsers(),retry:1}),Oe=ee({mutationFn:({id:D,data:B})=>Be.updateUser(D,B),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),o(!1),r(null),alert("User updated successfully!")},onError:D=>{var B,W;alert(((W=(B=D.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to update user")}}),Re=ee({mutationFn:D=>Be.deleteUser(D),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),d(!1),r(null),alert("User deleted successfully!")},onError:D=>{var B,W;alert(((W=(B=D.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to delete user")}}),q=ee({mutationFn:D=>Be.createUser(D),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),p(!1),alert("User created successfully!")},onError:D=>{var B,W;alert(((W=(B=D.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to create user")}}),{data:Y}=te({queryKey:["user-permissions",s==null?void 0:s.id],queryFn:()=>jl.getUserPermissions(s.id),enabled:!!s&&m}),{data:ae}=te({queryKey:["modules"],queryFn:()=>jl.getModules(),enabled:m&&(e==null?void 0:e.role)==="superadmin"}),{data:Te}=te({queryKey:["user-roles",s==null?void 0:s.id],queryFn:()=>yt.getUserRoles(s.id),enabled:!!s&&y}),{data:Me}=te({queryKey:["roles"],queryFn:()=>yt.getAllRoles(),enabled:(y||w)&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")}),{data:It}=te({queryKey:["all-roles"],queryFn:()=>yt.getAllRoles(),enabled:(w||f||i)&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")}),{data:xt}=te({queryKey:["role",k==null?void 0:k.id],queryFn:()=>yt.getRole(k.id),enabled:!!k&&x});N.useEffect(()=>{Te!=null&&Te.data.roles&&M(Te.data.roles)},[Te]),N.useEffect(()=>{Me!=null&&Me.data.roles&&K(Me.data.roles.filter(D=>D.isActive))},[Me]),N.useEffect(()=>{It!=null&&It.data.roles&&X(It.data.roles)},[It]),N.useEffect(()=>{if(xt!=null&&xt.data.role&&x){const D=xt.data.role;if(_(D),D.rolePermissions&&F.length>0){const B=F.map(W=>{var kt;const me=(kt=D.rolePermissions)==null?void 0:kt.find(tx=>tx.module===W.value);return{module:W.value,canView:(me==null?void 0:me.canView)||!1,canAdd:(me==null?void 0:me.canAdd)||!1,canEdit:(me==null?void 0:me.canEdit)||!1,canDelete:(me==null?void 0:me.canDelete)||!1}});z(B)}}},[xt,x,F]),N.useEffect(()=>{ae!=null&&ae.data.modules&&U(ae.data.modules)},[ae]),N.useEffect(()=>{if(m&&F.length>0&&s){const D=(Y==null?void 0:Y.data.permissions)||[],B=F.map(W=>{const me=D.find(kt=>kt.module===W.value);return{id:(me==null?void 0:me.id)||0,userId:s.id,module:W.value,canView:(me==null?void 0:me.canView)||!1,canAdd:(me==null?void 0:me.canAdd)||!1,canEdit:(me==null?void 0:me.canEdit)||!1,canDelete:(me==null?void 0:me.canDelete)||!1}});T(B)}},[m,F,Y,s]);const Q=ee({mutationFn:({userId:D,permissions:B})=>jl.updateUserPermissions(D,{permissions:B}),onSuccess:()=>{t.invalidateQueries({queryKey:["user-permissions",s==null?void 0:s.id]}),alert("Permissions updated successfully!"),v(!1)},onError:D=>{var B,W;alert(((W=(B=D.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to update permissions")}}),se=ee({mutationFn:({userId:D,roleId:B})=>yt.assignRoleToUser(D,{roleId:B}),onSuccess:()=>{t.invalidateQueries({queryKey:["user-roles",s==null?void 0:s.id]}),t.invalidateQueries({queryKey:["users"]}),alert("Role assigned successfully!")},onError:D=>{var B,W;alert(((W=(B=D.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to assign role")}}),ie=ee({mutationFn:({userId:D,roleId:B})=>yt.unassignRoleFromUser(D,B),onSuccess:()=>{t.invalidateQueries({queryKey:["user-roles",s==null?void 0:s.id]}),t.invalidateQueries({queryKey:["users"]}),alert("Role unassigned successfully!")},onError:D=>{var B,W;alert(((W=(B=D.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to unassign role")}}),Qt=ee({mutationFn:D=>yt.createRole(D),onSuccess:()=>{t.invalidateQueries({queryKey:["roles"]}),t.invalidateQueries({queryKey:["all-roles"]}),g(!1),z([]),alert("Role created successfully!")},onError:D=>{var B,W;alert(((W=(B=D.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to create role")}}),Fs=ee({mutationFn:({id:D,data:B})=>yt.updateRole(D,B),onSuccess:()=>{t.invalidateQueries({queryKey:["roles"]}),t.invalidateQueries({queryKey:["all-roles"]}),t.invalidateQueries({queryKey:["role",k==null?void 0:k.id]}),j(!1),_(null),z([]),alert("Role updated successfully!")},onError:D=>{var B,W;alert(((W=(B=D.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to update role")}}),Os=ee({mutationFn:D=>yt.deleteRole(D),onSuccess:()=>{t.invalidateQueries({queryKey:["roles"]}),t.invalidateQueries({queryKey:["all-roles"]}),A(!1),_(null),alert("Role deleted successfully!")},onError:D=>{var B,W;alert(((W=(B=D.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to delete role")}}),Rr=(G==null?void 0:G.data.users)||[],Ta=D=>{r(D),o(!0)},Ma=D=>{r(D),d(!0)},Uh=D=>{r(D),l(!0)},zh=D=>{if(D.preventDefault(),!s)return;const B=new FormData(D.currentTarget),W={name:B.get("name")||void 0,email:B.get("email")||void 0,phone:B.get("phone")||void 0,role:B.get("role")?B.get("role"):void 0,isActive:B.get("isActive")==="true"};Oe.mutate({id:s.id,data:W})},$h=()=>{s&&Re.mutate(s.id)},Vh=D=>{D.preventDefault();const B=new FormData(D.currentTarget),W={name:B.get("name"),email:B.get("email"),phone:B.get("phone")||void 0,role:B.get("role"),password:B.get("password")};q.mutate(W)},Qh=D=>{r(D),v(!0)},Kh=D=>{r(D),b(!0)},Wh=D=>{s&&se.mutate({userId:s.id,roleId:D})},Hh=D=>{s&&window.confirm("Are you sure you want to unassign this role?")&&ie.mutate({userId:s.id,roleId:D})},La=(D,B,W)=>{T(me=>me.map(kt=>kt.module===D?{...kt,[B]:W}:kt))},Gh=()=>{if(!s)return;const D=E.map(B=>({module:B.module,canView:B.canView,canAdd:B.canAdd,canEdit:B.canEdit,canDelete:B.canDelete}));Q.mutate({userId:s.id,permissions:D})},Jh=D=>{D.preventDefault();const B=new FormData(D.currentTarget),W={name:B.get("name"),description:B.get("description")||void 0,permissions:L};Qt.mutate(W)},Yh=D=>{if(D.preventDefault(),!k)return;const B=new FormData(D.currentTarget),W={name:B.get("name"),description:B.get("description")||void 0,isActive:B.get("isActive")==="true",permissions:L};Fs.mutate({id:k.id,data:W})},Xh=D=>{_(D),j(!0)},Zh=D=>{_(D),A(!0)},ex=()=>{k&&Os.mutate(k.id)},bn=(D,B,W)=>{z(me=>me.map(kt=>kt.module===D?{...kt,[B]:W}:kt))};return N.useEffect(()=>{if(h&&F.length>0&&L.length===0){const D=F.map(B=>({module:B.value,canView:!1,canAdd:!1,canEdit:!1,canDelete:!1}));z(D)}},[h,F]),de?n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})}):n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"}),n.jsx("p",{className:"mt-2 text-orange-100",children:"Manage all users in the system"})]}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-white text-orange-600 rounded-lg font-semibold hover:bg-orange-50 transition-colors",children:"+ Create User"}),(e==null?void 0:e.role)==="superadmin"&&n.jsx("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:" Manage Roles"})]})]})}),n.jsx("div",{className:"p-6",children:de?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):fe?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-red-600 text-lg mb-4",children:"Error loading users"}),n.jsx("p",{className:"text-gray-500 text-sm mb-4",children:((Rd=(Pd=fe==null?void 0:fe.response)==null?void 0:Pd.data)==null?void 0:Rd.message)||(fe==null?void 0:fe.message)||"Unknown error"}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Retry"})]}):Rr.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"No users found"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Rr.map(D=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:D.email})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:D.phone||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${D.role==="superadmin"?"bg-purple-100 text-purple-800":D.role==="admin"?"bg-blue-100 text-blue-800":D.role==="faculty"?"bg-green-100 text-green-800":D.role==="student"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:D.role})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${D.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.isActive?"Active":"Inactive"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsx("button",{onClick:()=>Uh(D),className:"px-2 py-1 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded transition-colors",title:"View Profile",children:" View"}),((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>Ta(D),className:"px-2 py-1 text-orange-600 hover:text-orange-900 hover:bg-orange-50 rounded transition-colors",title:"Edit User",children:" Edit"}),(e==null?void 0:e.role)==="superadmin"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>Qh(D),className:"px-2 py-1 text-purple-600 hover:text-purple-900 hover:bg-purple-50 rounded transition-colors",title:"Manage Permissions",children:" Permissions"}),n.jsx("button",{onClick:()=>Kh(D),className:"px-2 py-1 text-indigo-600 hover:text-indigo-900 hover:bg-indigo-50 rounded transition-colors",title:"Assign Role",children:" Roles"}),D.id!==e.id&&n.jsx("button",{onClick:()=>Ma(D),className:"px-2 py-1 text-red-600 hover:text-red-900 hover:bg-red-50 rounded transition-colors",title:"Delete User",children:" Delete"})]})]})]})})]},D.id))})]})})})]})}),a&&s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"User Profile"}),n.jsx("button",{onClick:()=>{l(!1),r(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.phone||"-"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.role})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.isActive?"Active":"Inactive"})]}),s.createdAt&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created At"}),n.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(s.createdAt).toLocaleString()})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:()=>{l(!1),r(null)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Close"})})]})}),i&&s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Edit User"}),n.jsxs("form",{onSubmit:zh,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",name:"name",defaultValue:s.name,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),n.jsx("input",{type:"email",name:"email",defaultValue:s.email,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{type:"tel",name:"phone",defaultValue:s.phone||"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),n.jsxs("select",{name:"role",defaultValue:s.role,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"student",children:"Student"}),n.jsx("option",{value:"faculty",children:"Faculty"}),n.jsx("option",{value:"employee",children:"Employee"}),n.jsx("option",{value:"admin",children:"Admin"}),(e==null?void 0:e.role)==="superadmin"&&n.jsx("option",{value:"superadmin",children:"Superadmin"}),I.filter(D=>D.isActive&&!D.isSystem).map(D=>n.jsx("option",{value:D.name.toLowerCase(),children:D.name},D.id))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),n.jsxs("select",{name:"isActive",defaultValue:s.isActive?"true":"false",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"true",children:"Active"}),n.jsx("option",{value:"false",children:"Inactive"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:Oe.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:Oe.isPending?"Updating...":"Update"}),n.jsx("button",{type:"button",onClick:()=>{o(!1),r(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}),c&&s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Delete User"}),n.jsxs("p",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete ",n.jsx("strong",{children:s.name}),"? This action cannot be undone."]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:$h,disabled:Re.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",children:Re.isPending?"Deleting...":"Delete"}),n.jsx("button",{onClick:()=>{d(!1),r(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}),f&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Create New User"}),n.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("form",{onSubmit:Vh,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),n.jsx("input",{type:"email",name:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{type:"tel",name:"phone",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),n.jsxs("select",{name:"role",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"student",children:"Student"}),n.jsx("option",{value:"faculty",children:"Faculty"}),n.jsx("option",{value:"employee",children:"Employee"}),n.jsx("option",{value:"admin",children:"Admin"}),(e==null?void 0:e.role)==="superadmin"&&n.jsx("option",{value:"superadmin",children:"Superadmin"}),I.filter(D=>D.isActive&&!D.isSystem).map(D=>n.jsx("option",{value:D.name.toLowerCase(),children:D.name},D.id))]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),n.jsx("input",{type:"password",name:"password",required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:q.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:q.isPending?"Creating...":"Create User"}),n.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}),m&&s&&(e==null?void 0:e.role)==="superadmin"&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-2xl font-bold",children:["Manage Permissions - ",s.name]}),n.jsx("button",{onClick:()=>{v(!1),r(null),T([])},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Customize permissions for ",n.jsx("strong",{children:s.name})," (",s.role,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Module"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Add"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Edit"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delete"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(D=>{const B=E.find(W=>W.module===D.value);return B?n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.label})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:B.canView,onChange:W=>La(B.module,"canView",W.target.checked),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:B.canAdd,onChange:W=>La(B.module,"canAdd",W.target.checked),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:B.canEdit,onChange:W=>La(B.module,"canEdit",W.target.checked),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:B.canDelete,onChange:W=>La(B.module,"canDelete",W.target.checked),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})})]},D.value):null})})]})}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsx("button",{onClick:Gh,disabled:Q.isPending,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors disabled:opacity-50",children:Q.isPending?"Saving...":"Save Permissions"}),n.jsx("button",{onClick:()=>{v(!1),r(null),T([])},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}),y&&s&&((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="superadmin")&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-2xl font-bold",children:["Assign Roles - ",s.name]}),n.jsx("button",{onClick:()=>{b(!1),r(null),M([])},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Assigned Roles"}),C.length===0?n.jsx("p",{className:"text-gray-500 text-sm",children:"No roles assigned"}):n.jsx("div",{className:"space-y-2",children:C.map(D=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:D.name}),D.description&&n.jsx("p",{className:"text-sm text-gray-500",children:D.description})]}),n.jsx("button",{onClick:()=>Hh(D.id),disabled:ie.isPending,className:"text-red-600 hover:text-red-900 disabled:opacity-50",children:"Remove"})]},D.id))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Available Roles"}),P.filter(D=>!C.find(B=>B.id===D.id)).length===0?n.jsx("p",{className:"text-gray-500 text-sm",children:"All available roles are assigned"}):n.jsx("div",{className:"space-y-2",children:P.filter(D=>!C.find(B=>B.id===D.id)).map(D=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:D.name}),D.description&&n.jsx("p",{className:"text-sm text-gray-500",children:D.description})]}),n.jsx("button",{onClick:()=>Wh(D.id),disabled:se.isPending,className:"px-3 py-1 bg-indigo-600 text-white rounded text-sm hover:bg-indigo-700 disabled:opacity-50",children:"Assign"})]},D.id))})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:()=>{b(!1),r(null),M([])},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Close"})})]})}),w&&(e==null?void 0:e.role)==="superadmin"&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Custom Role Management"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"+ Create Role"}),n.jsx("button",{onClick:()=>{u(!1),X([])},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(D=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"text-sm text-gray-500",children:D.description||"-"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${D.isSystem?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:D.isSystem?"System":"Custom"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${D.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.isActive?"Active":"Inactive"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:!D.isSystem&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Xh(D),className:"text-orange-600 hover:text-orange-900",title:"Edit Role",children:" Edit"}),n.jsx("button",{onClick:()=>Zh(D),className:"text-red-600 hover:text-red-900",title:"Delete Role",children:" Delete"})]})})]},D.id))})]})})]})}),h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Create Custom Role"}),n.jsx("button",{onClick:()=>{g(!1),z([])},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("form",{onSubmit:Jh,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name *"}),n.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{name:"description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Permissions"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Module"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Add"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Edit"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delete"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(D=>{const B=L.find(W=>W.module===D.value);return B?n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.label})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:B.canView,onChange:W=>bn(B.module,"canView",W.target.checked),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:B.canAdd,onChange:W=>bn(B.module,"canAdd",W.target.checked),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:B.canEdit,onChange:W=>bn(B.module,"canEdit",W.target.checked),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:B.canDelete,onChange:W=>bn(B.module,"canDelete",W.target.checked),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})})]},D.value):null})})]})})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:Qt.isPending,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50",children:Qt.isPending?"Creating...":"Create Role"}),n.jsx("button",{type:"button",onClick:()=>{g(!1),z([])},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}),x&&k&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Edit Role"}),n.jsx("button",{onClick:()=>{j(!1),_(null),z([])},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("form",{onSubmit:Yh,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name *"}),n.jsx("input",{type:"text",name:"name",defaultValue:k.name,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{name:"description",rows:3,defaultValue:k.description||"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),n.jsxs("select",{name:"isActive",defaultValue:k.isActive?"true":"false",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"true",children:"Active"}),n.jsx("option",{value:"false",children:"Inactive"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Permissions"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Module"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Add"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Edit"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delete"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(D=>{const B=L.find(W=>W.module===D.value);return B?n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.label})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:B.canView,onChange:W=>bn(B.module,"canView",W.target.checked),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:B.canAdd,onChange:W=>bn(B.module,"canAdd",W.target.checked),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:B.canEdit,onChange:W=>bn(B.module,"canEdit",W.target.checked),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:B.canDelete,onChange:W=>bn(B.module,"canDelete",W.target.checked),className:"w-4 h-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"})})]},D.value):null})})]})})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:Fs.isPending,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors disabled:opacity-50",children:Fs.isPending?"Updating...":"Update Role"}),n.jsx("button",{type:"button",onClick:()=>{j(!1),_(null),z([])},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}),R&&k&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Delete Role"}),n.jsxs("p",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete the role ",n.jsx("strong",{children:k.name}),"? This action cannot be undone."]}),n.jsx("p",{className:"mb-4 text-sm text-yellow-600",children:"Note: You cannot delete a role if it is assigned to any users. Please unassign it first."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:ex,disabled:Os.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",children:Os.isPending?"Deleting...":"Delete"}),n.jsx("button",{onClick:()=>{A(!1),_(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})})]})},vj=()=>{const{user:e}=Ce(),t=Ne(),[s,r]=N.useState(null),[a,l]=N.useState(!1),[i,o]=N.useState(!1),[c,d]=N.useState(!1),[f,p]=N.useState(!1),[m,v]=N.useState([]),[y,b]=N.useState([]),{data:w,isLoading:u}=te({queryKey:["roles"],queryFn:()=>yt.getAllRoles(),enabled:(e==null?void 0:e.role)==="superadmin"}),{data:h}=te({queryKey:["modules"],queryFn:()=>jl.getModules(),enabled:(e==null?void 0:e.role)==="superadmin"});N.useEffect(()=>{h!=null&&h.data.modules&&b(h.data.modules)},[h]),N.useEffect(()=>{if(a&&y.length>0){const C=y.map(M=>({id:0,roleId:0,module:M.value,canView:!1,canAdd:!1,canEdit:!1,canDelete:!1}));v(C)}},[a,y.length]),N.useEffect(()=>{if((i||f)&&y.length>0&&s){const C=(s==null?void 0:s.rolePermissions)||[],M=y.map(P=>{const K=C.find(I=>I.module===P.value);return{id:(K==null?void 0:K.id)||0,roleId:s.id,module:P.value,canView:(K==null?void 0:K.canView)||!1,canAdd:(K==null?void 0:K.canAdd)||!1,canEdit:(K==null?void 0:K.canEdit)||!1,canDelete:(K==null?void 0:K.canDelete)||!1}});v(M)}},[i,f,y,s]);const g=ee({mutationFn:C=>yt.createRole(C),onSuccess:()=>{t.invalidateQueries({queryKey:["roles"]}),l(!1),v([]),alert("Role created successfully!"),setTimeout(()=>{if(y.length>0){const C=y.map(M=>({id:0,roleId:0,module:M.value,canView:!1,canAdd:!1,canEdit:!1,canDelete:!1}));v(C)}},100)},onError:C=>{var M,P;alert(((P=(M=C.response)==null?void 0:M.data)==null?void 0:P.message)||"Failed to create role")}}),x=ee({mutationFn:({id:C,data:M})=>yt.updateRole(C,M),onSuccess:()=>{t.invalidateQueries({queryKey:["roles"]}),o(!1),p(!1),r(null),v([]),alert("Role updated successfully!")},onError:C=>{var M,P;alert(((P=(M=C.response)==null?void 0:M.data)==null?void 0:P.message)||"Failed to update role")}}),j=ee({mutationFn:C=>yt.deleteRole(C),onSuccess:()=>{t.invalidateQueries({queryKey:["roles"]}),d(!1),r(null),alert("Role deleted successfully!")},onError:C=>{var M,P;alert(((P=(M=C.response)==null?void 0:M.data)==null?void 0:P.message)||"Failed to delete role")}}),R=C=>{C.preventDefault();const M=new FormData(C.currentTarget),P=m.map(I=>({module:I.module,canView:I.canView,canAdd:I.canAdd,canEdit:I.canEdit,canDelete:I.canDelete})),K={name:M.get("name"),description:M.get("description")||void 0,permissions:P};g.mutate(K)},A=C=>{if(C.preventDefault(),!s)return;const M=new FormData(C.currentTarget),P=m.map(I=>({module:I.module,canView:I.canView,canAdd:I.canAdd,canEdit:I.canEdit,canDelete:I.canDelete})),K={name:M.get("name")||void 0,description:M.get("description")||void 0,isActive:M.get("isActive")==="true",permissions:P};x.mutate({id:s.id,data:K})},k=(C,M,P)=>{v(K=>K.map(I=>I.module===C?{...I,[M]:P}:I))},_=C=>{r(C),o(!0)},E=C=>{r(C),p(!0)},T=C=>{r(C),d(!0)},F=()=>{if(!s)return;const C=m.map(M=>({module:M.module,canView:M.canView,canAdd:M.canAdd,canEdit:M.canEdit,canDelete:M.canDelete}));x.mutate({id:s.id,data:{permissions:C}})};if((e==null?void 0:e.role)!=="superadmin")return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"bg-white shadow-xl rounded-lg p-6",children:n.jsx("p",{className:"text-red-600",children:"Access denied. Only superadmin can manage roles."})})})});if(u)return n.jsx(ne,{children:n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})})})});const U=(w==null?void 0:w.data.roles)||[];return n.jsxs(ne,{children:[n.jsx("div",{className:"max-w-7xl mx-auto",children:n.jsxs("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-500 px-8 py-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Role Management"}),n.jsx("p",{className:"mt-2 text-purple-100",children:"Create and manage custom roles with permissions"})]}),n.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-white text-purple-600 rounded-lg font-semibold hover:bg-purple-50 transition-colors",children:"+ Create Role"})]})}),n.jsx("div",{className:"p-6",children:U.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500 text-lg",children:"No roles found"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(C=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-500",children:C.description||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${C.isSystem?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:C.isSystem?"System":"Custom"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${C.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.isActive?"Active":"Inactive"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>_(C),disabled:C.isSystem,className:"text-orange-600 hover:text-orange-900 disabled:opacity-50 disabled:cursor-not-allowed",title:"Edit Role",children:" Edit"}),n.jsx("button",{onClick:()=>E(C),className:"text-purple-600 hover:text-purple-900",title:"Manage Permissions",children:" Permissions"}),n.jsx("button",{onClick:()=>T(C),disabled:C.isSystem,className:"text-red-600 hover:text-red-900 disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete Role",children:" Delete"})]})})]},C.id))})]})})})]})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Permissions"}),n.jsx("button",{onClick:()=>{l(!1),v([])},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("form",{onSubmit:R,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name *"}),n.jsx("input",{type:"text",name:"name",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{name:"description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),m.length===0?n.jsx("div",{className:"text-center py-4 text-gray-500 border border-gray-300 rounded-md",children:n.jsx("p",{children:"Loading permissions..."})}):n.jsx("div",{className:"overflow-x-auto border border-gray-300 rounded-md max-h-96 overflow-y-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Module"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"View"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Add"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Edit"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delete"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(C=>{var M;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:((M=y.find(P=>P.value===C.module))==null?void 0:M.label)||C.module}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("input",{type:"checkbox",checked:C.canView,onChange:P=>k(C.module,"canView",P.target.checked),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded cursor-pointer"})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("input",{type:"checkbox",checked:C.canAdd,onChange:P=>k(C.module,"canAdd",P.target.checked),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded cursor-pointer"})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("input",{type:"checkbox",checked:C.canEdit,onChange:P=>k(C.module,"canEdit",P.target.checked),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded cursor-pointer"})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("input",{type:"checkbox",checked:C.canDelete,onChange:P=>k(C.module,"canDelete",P.target.checked),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded cursor-pointer"})})]},C.module)})})]})})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:g.isPending||m.length===0,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g.isPending?"Creating...":"Create Role"}),n.jsx("button",{type:"button",onClick:()=>{l(!1),v([])},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}),i&&s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Edit Role"}),n.jsx("button",{onClick:()=>{o(!1),r(null),v([])},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("form",{onSubmit:A,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name *"}),n.jsx("input",{type:"text",name:"name",defaultValue:s.name,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{name:"description",rows:3,defaultValue:s.description||"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),n.jsxs("select",{name:"isActive",defaultValue:s.isActive?"true":"false",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:"true",children:"Active"}),n.jsx("option",{value:"false",children:"Inactive"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),n.jsx("div",{className:"overflow-x-auto border border-gray-300 rounded-md",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Module"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"View"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Add"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Edit"}),n.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:"Delete"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(C=>{var M;return n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 text-sm",children:((M=y.find(P=>P.value===C.module))==null?void 0:M.label)||C.module}),n.jsx("td",{className:"px-4 py-2 text-center",children:n.jsx("input",{type:"checkbox",checked:C.canView,onChange:P=>k(C.module,"canView",P.target.checked),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-2 text-center",children:n.jsx("input",{type:"checkbox",checked:C.canAdd,onChange:P=>k(C.module,"canAdd",P.target.checked),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-2 text-center",children:n.jsx("input",{type:"checkbox",checked:C.canEdit,onChange:P=>k(C.module,"canEdit",P.target.checked),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-2 text-center",children:n.jsx("input",{type:"checkbox",checked:C.canDelete,onChange:P=>k(C.module,"canDelete",P.target.checked),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})})]},C.module)})})]})})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:x.isPending,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors disabled:opacity-50",children:x.isPending?"Updating...":"Update Role"}),n.jsx("button",{type:"button",onClick:()=>{o(!1),r(null),v([])},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]})}),f&&s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h2",{className:"text-2xl font-bold",children:["Manage Permissions - ",s.name]}),n.jsx("button",{onClick:()=>{p(!1),r(null),v([])},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"overflow-x-auto border border-gray-300 rounded-md mb-4",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Module"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"View"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Add"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Edit"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Delete"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(C=>{var M;return n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:((M=y.find(P=>P.value===C.module))==null?void 0:M.label)||C.module}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("input",{type:"checkbox",checked:C.canView,onChange:P=>k(C.module,"canView",P.target.checked),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("input",{type:"checkbox",checked:C.canAdd,onChange:P=>k(C.module,"canAdd",P.target.checked),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("input",{type:"checkbox",checked:C.canEdit,onChange:P=>k(C.module,"canEdit",P.target.checked),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsx("input",{type:"checkbox",checked:C.canDelete,onChange:P=>k(C.module,"canDelete",P.target.checked),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})})]},C.module)})})]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:F,disabled:x.isPending,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-colors disabled:opacity-50",children:x.isPending?"Saving...":"Save Permissions"}),n.jsx("button",{onClick:()=>{p(!1),r(null),v([])},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})}),c&&s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Delete Role"}),n.jsxs("p",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete ",n.jsx("strong",{children:s.name}),"? This action cannot be undone."]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>{s&&j.mutate(s.id)},disabled:j.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",children:j.isPending?"Deleting...":"Delete"}),n.jsx("button",{onClick:()=>{d(!1),r(null)},className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})})]})},ge=({children:e})=>{const{isAuthenticated:t,loading:s}=Ce();return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):t?n.jsx(n.Fragment,{children:e}):n.jsx(tv,{to:"/login",replace:!0})};function bj(){return n.jsxs(sv,{children:[n.jsx(xe,{path:"/login",element:n.jsx(Qb,{})}),n.jsx(xe,{path:"/",element:n.jsx(ge,{children:n.jsx(jm,{})})}),n.jsx(xe,{path:"/dashboard",element:n.jsx(ge,{children:n.jsx(jm,{})})}),n.jsx(xe,{path:"/software-completions",element:n.jsx(ge,{children:n.jsx(Kb,{})})}),n.jsx(xe,{path:"/batch-extensions",element:n.jsx(ge,{children:n.jsx(Gb,{})})}),n.jsx(xe,{path:"/batches",element:n.jsx(ge,{children:n.jsx(Zb,{})})}),n.jsx(xe,{path:"/batches/create",element:n.jsx(ge,{children:n.jsx(tj,{})})}),n.jsx(xe,{path:"/students",element:n.jsx(ge,{children:n.jsx(rj,{})})}),n.jsx(xe,{path:"/students/enroll",element:n.jsx(ge,{children:n.jsx(aj,{})})}),n.jsx(xe,{path:"/students/:id/edit",element:n.jsx(ge,{children:n.jsx(lj,{})})}),n.jsx(xe,{path:"/faculty",element:n.jsx(ge,{children:n.jsx(nj,{})})}),n.jsx(xe,{path:"/faculty/:id/edit",element:n.jsx(ge,{children:n.jsx(sj,{})})}),n.jsx(xe,{path:"/faculty/register",element:n.jsx(ge,{children:n.jsx(dj,{})})}),n.jsx(xe,{path:"/employees",element:n.jsx(ge,{children:n.jsx(ij,{})})}),n.jsx(xe,{path:"/employees/register",element:n.jsx(ge,{children:n.jsx(oj,{})})}),n.jsx(xe,{path:"/employees/:id/edit",element:n.jsx(ge,{children:n.jsx(cj,{})})}),n.jsx(xe,{path:"/sessions",element:n.jsx(ge,{children:n.jsx(uj,{})})}),n.jsx(xe,{path:"/attendance",element:n.jsx(ge,{children:n.jsx(mj,{})})}),n.jsx(xe,{path:"/student-attendance",element:n.jsx(ge,{children:n.jsx(pj,{})})}),n.jsx(xe,{path:"/payments",element:n.jsx(ge,{children:n.jsx(fj,{})})}),n.jsx(xe,{path:"/portfolios",element:n.jsx(ge,{children:n.jsx(hj,{})})}),n.jsx(xe,{path:"/reports",element:n.jsx(ge,{children:n.jsx(xj,{})})}),n.jsx(xe,{path:"/approvals",element:n.jsx(ge,{children:n.jsx(gj,{})})}),n.jsx(xe,{path:"/leaves",element:n.jsx(ge,{children:n.jsx(Nm,{})})}),n.jsx(xe,{path:"/student-leaves",element:n.jsx(ge,{children:n.jsx(Nm,{})})}),n.jsx(xe,{path:"/users",element:n.jsx(ge,{children:n.jsx(yj,{})})}),n.jsx(xe,{path:"/roles",element:n.jsx(ge,{children:n.jsx(vj,{})})})]})}function jj(){return n.jsx(Vb,{children:n.jsx(dv,{children:n.jsx(bj,{})})})}const Nj=new Z0({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});ro.createRoot(document.getElementById("root")).render(n.jsx(Gn.StrictMode,{children:n.jsx(ey,{client:Nj,children:n.jsx(jj,{})})}));
